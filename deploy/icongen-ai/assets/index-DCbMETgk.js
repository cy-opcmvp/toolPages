(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();var qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Au={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function tv(){if(op)return Tl;op=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(r,a,u){var f=null;if(u!==void 0&&(f=""+u),a.key!==void 0&&(f=""+a.key),"key"in a){u={};for(var d in a)d!=="key"&&(u[d]=a[d])}else u=a;return a=u.ref,{$$typeof:i,type:r,key:f,ref:a!==void 0?a:null,props:u}}return Tl.Fragment=n,Tl.jsx=o,Tl.jsxs=o,Tl}var lp;function nv(){return lp||(lp=1,Au.exports=tv()),Au.exports}var k=nv(),bu={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function iv(){if(rp)return De;rp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function w(M,z,ae){this.props=M,this.context=z,this.refs=x,this.updater=ae||b}w.prototype.isReactComponent={},w.prototype.setState=function(M,z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,z,"setState")},w.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function I(){}I.prototype=w.prototype;function D(M,z,ae){this.props=M,this.context=z,this.refs=x,this.updater=ae||b}var B=D.prototype=new I;B.constructor=D,C(B,w.prototype),B.isPureReactComponent=!0;var U=Array.isArray;function X(){}var q={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function V(M,z,ae){var ie=ae.ref;return{$$typeof:i,type:M,key:z,ref:ie!==void 0?ie:null,props:ae}}function re(M,z){return V(M.type,z,M.props)}function ve(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function O(M){var z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return z[ae]})}var j=/\/+/g;function R(M,z){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):z.toString(36)}function oe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(X,X):(M.status="pending",M.then(function(z){M.status==="pending"&&(M.status="fulfilled",M.value=z)},function(z){M.status==="pending"&&(M.status="rejected",M.reason=z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,z,ae,ie,ue){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(Ae){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case i:case n:Me=!0;break;case v:return Me=M._init,K(Me(M._payload),z,ae,ie,ue)}}if(Me)return ue=ue(M),Me=ie===""?"."+R(M,0):ie,U(ue)?(ae="",Me!=null&&(ae=Me.replace(j,"$&/")+"/"),K(ue,z,ae,"",function(nt){return nt})):ue!=null&&(ve(ue)&&(ue=re(ue,ae+(ue.key==null||M&&M.key===ue.key?"":(""+ue.key).replace(j,"$&/")+"/")+Me)),z.push(ue)),1;Me=0;var Ne=ie===""?".":ie+":";if(U(M))for(var we=0;we<M.length;we++)ie=M[we],Ae=Ne+R(ie,we),Me+=K(ie,z,ae,Ae,ue);else if(we=T(M),typeof we=="function")for(M=we.call(M),we=0;!(ie=M.next()).done;)ie=ie.value,Ae=Ne+R(ie,we++),Me+=K(ie,z,ae,Ae,ue);else if(Ae==="object"){if(typeof M.then=="function")return K(oe(M),z,ae,ie,ue);throw z=String(M),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Me}function J(M,z,ae){if(M==null)return M;var ie=[],ue=0;return K(M,ie,"","",function(Ae){return z.call(ae,Ae,ue++)}),ie}function me(M){if(M._status===-1){var z=M._result;z=z(),z.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=z)}if(M._status===1)return M._result.default;throw M._result}var se=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Se={map:J,forEach:function(M,z,ae){J(M,function(){z.apply(this,arguments)},ae)},count:function(M){var z=0;return J(M,function(){z++}),z},toArray:function(M){return J(M,function(z){return z})||[]},only:function(M){if(!ve(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return De.Activity=_,De.Children=Se,De.Component=w,De.Fragment=o,De.Profiler=a,De.PureComponent=D,De.StrictMode=r,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,De.__COMPILER_RUNTIME={__proto__:null,c:function(M){return q.H.useMemoCache(M)}},De.cache=function(M){return function(){return M.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(M,z,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=C({},M.props),ue=M.key;if(z!=null)for(Ae in z.key!==void 0&&(ue=""+z.key),z)!ne.call(z,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&z.ref===void 0||(ie[Ae]=z[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=ae;else if(1<Ae){for(var Me=Array(Ae),Ne=0;Ne<Ae;Ne++)Me[Ne]=arguments[Ne+2];ie.children=Me}return V(M.type,ue,ie)},De.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},De.createElement=function(M,z,ae){var ie,ue={},Ae=null;if(z!=null)for(ie in z.key!==void 0&&(Ae=""+z.key),z)ne.call(z,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ue[ie]=z[ie]);var Me=arguments.length-2;if(Me===1)ue.children=ae;else if(1<Me){for(var Ne=Array(Me),we=0;we<Me;we++)Ne[we]=arguments[we+2];ue.children=Ne}if(M&&M.defaultProps)for(ie in Me=M.defaultProps,Me)ue[ie]===void 0&&(ue[ie]=Me[ie]);return V(M,Ae,ue)},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:d,render:M}},De.isValidElement=ve,De.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:me}},De.memo=function(M,z){return{$$typeof:m,type:M,compare:z===void 0?null:z}},De.startTransition=function(M){var z=q.T,ae={};q.T=ae;try{var ie=M(),ue=q.S;ue!==null&&ue(ae,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(X,se)}catch(Ae){se(Ae)}finally{z!==null&&ae.types!==null&&(z.types=ae.types),q.T=z}},De.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},De.use=function(M){return q.H.use(M)},De.useActionState=function(M,z,ae){return q.H.useActionState(M,z,ae)},De.useCallback=function(M,z){return q.H.useCallback(M,z)},De.useContext=function(M){return q.H.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M,z){return q.H.useDeferredValue(M,z)},De.useEffect=function(M,z){return q.H.useEffect(M,z)},De.useEffectEvent=function(M){return q.H.useEffectEvent(M)},De.useId=function(){return q.H.useId()},De.useImperativeHandle=function(M,z,ae){return q.H.useImperativeHandle(M,z,ae)},De.useInsertionEffect=function(M,z){return q.H.useInsertionEffect(M,z)},De.useLayoutEffect=function(M,z){return q.H.useLayoutEffect(M,z)},De.useMemo=function(M,z){return q.H.useMemo(M,z)},De.useOptimistic=function(M,z){return q.H.useOptimistic(M,z)},De.useReducer=function(M,z,ae){return q.H.useReducer(M,z,ae)},De.useRef=function(M){return q.H.useRef(M)},De.useState=function(M){return q.H.useState(M)},De.useSyncExternalStore=function(M,z,ae){return q.H.useSyncExternalStore(M,z,ae)},De.useTransition=function(){return q.H.useTransition()},De.version="19.2.4",De}var ap;function Qu(){return ap||(ap=1,bu.exports=iv()),bu.exports}var rt=Qu();const ov=Zu(rt);var xu={exports:{}},El={},wu={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function lv(){return sp||(sp=1,(function(i){function n(K,J){var me=K.length;K.push(J);e:for(;0<me;){var se=me-1>>>1,Se=K[se];if(0<a(Se,J))K[se]=J,K[me]=Se,me=se;else break e}}function o(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var J=K[0],me=K.pop();if(me!==J){K[0]=me;e:for(var se=0,Se=K.length,M=Se>>>1;se<M;){var z=2*(se+1)-1,ae=K[z],ie=z+1,ue=K[ie];if(0>a(ae,me))ie<Se&&0>a(ue,ae)?(K[se]=ue,K[ie]=me,se=ie):(K[se]=ae,K[z]=me,se=z);else if(ie<Se&&0>a(ue,me))K[se]=ue,K[ie]=me,se=ie;else break e}}return J}function a(K,J){var me=K.sortIndex-J.sortIndex;return me!==0?me:K.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var g=[],m=[],v=1,_=null,S=3,T=!1,b=!1,C=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(K){for(var J=o(m);J!==null;){if(J.callback===null)r(m);else if(J.startTime<=K)r(m),J.sortIndex=J.expirationTime,n(g,J);else break;J=o(m)}}function U(K){if(C=!1,B(K),!b)if(o(g)!==null)b=!0,X||(X=!0,O());else{var J=o(m);J!==null&&oe(U,J.startTime-K)}}var X=!1,q=-1,ne=5,V=-1;function re(){return x?!0:!(i.unstable_now()-V<ne)}function ve(){if(x=!1,X){var K=i.unstable_now();V=K;var J=!0;try{e:{b=!1,C&&(C=!1,I(q),q=-1),T=!0;var me=S;try{t:{for(B(K),_=o(g);_!==null&&!(_.expirationTime>K&&re());){var se=_.callback;if(typeof se=="function"){_.callback=null,S=_.priorityLevel;var Se=se(_.expirationTime<=K);if(K=i.unstable_now(),typeof Se=="function"){_.callback=Se,B(K),J=!0;break t}_===o(g)&&r(g),B(K)}else r(g);_=o(g)}if(_!==null)J=!0;else{var M=o(m);M!==null&&oe(U,M.startTime-K),J=!1}}break e}finally{_=null,S=me,T=!1}J=void 0}}finally{J?O():X=!1}}}var O;if(typeof D=="function")O=function(){D(ve)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,R=j.port2;j.port1.onmessage=ve,O=function(){R.postMessage(null)}}else O=function(){w(ve,0)};function oe(K,J){q=w(function(){K(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(K){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var me=S;S=J;try{return K()}finally{S=me}},i.unstable_requestPaint=function(){x=!0},i.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=S;S=K;try{return J()}finally{S=me}},i.unstable_scheduleCallback=function(K,J,me){var se=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?se+me:se):me=se,K){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=me+Se,K={id:v++,callback:J,priorityLevel:K,startTime:me,expirationTime:Se,sortIndex:-1},me>se?(K.sortIndex=me,n(m,K),o(g)===null&&K===o(m)&&(C?(I(q),q=-1):C=!0,oe(U,me-se))):(K.sortIndex=Se,n(g,K),b||T||(b=!0,X||(X=!0,O()))),K},i.unstable_shouldYield=re,i.unstable_wrapCallback=function(K){var J=S;return function(){var me=S;S=J;try{return K.apply(this,arguments)}finally{S=me}}}})(Ru)),Ru}var up;function rv(){return up||(up=1,wu.exports=lv()),wu.exports}var Nu={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function av(){if(cp)return xt;cp=1;var i=Qu();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xt.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return u(g,m,null,v)},xt.flushSync=function(g){var m=f.T,v=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=m,r.p=v,r.d.f()}},xt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},xt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},xt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):v==="script"&&r.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},xt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},xt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin);r.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},xt.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=d(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},xt.requestFormReset=function(g){r.d.r(g)},xt.unstable_batchedUpdates=function(g,m){return g(m)},xt.useFormState=function(g,m,v){return f.H.useFormState(g,m,v)},xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},xt.version="19.2.4",xt}var fp;function sv(){if(fp)return Nu.exports;fp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Nu.exports=av(),Nu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function uv(){if(dp)return El;dp=1;var i=rv(),n=Qu(),o=sv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function m(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(r(188));return t!==e?null:e}for(var l=e,s=t;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(s=p.return,s!==null){l=s;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return g(p),e;if(y===s)return g(p),t;y=y.sibling}throw Error(r(188))}if(l.return!==s.return)l=p,s=y;else{for(var E=!1,N=p.child;N;){if(N===l){E=!0,l=p,s=y;break}if(N===s){E=!0,s=p,l=y;break}N=N.sibling}if(!E){for(N=y.child;N;){if(N===l){E=!0,l=y,s=p;break}if(N===s){E=!0,s=y,l=p;break}N=N.sibling}if(!E)throw Error(r(189))}}if(l.alternate!==s)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=ve&&e[ve]||e["@@iterator"],typeof e=="function"?e:null)}var j=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===j?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case U:return"Suspense";case X:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case D:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:R(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return R(e(t))}catch{}}return null}var oe=Array.isArray,K=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},se=[],Se=-1;function M(e){return{current:e}}function z(e){0>Se||(e.current=se[Se],se[Se]=null,Se--)}function ae(e,t){Se++,se[Se]=e.current,e.current=t}var ie=M(null),ue=M(null),Ae=M(null),Me=M(null);function Ne(e,t){switch(ae(Ae,t),ae(ue,e),ae(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wh(t),e=Rh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(ie),ae(ie,e)}function we(){z(ie),z(ue),z(Ae)}function nt(e){e.memoizedState!==null&&ae(Me,e);var t=ie.current,l=Rh(t,e.type);t!==l&&(ae(ue,e),ae(ie,l))}function je(e){ue.current===e&&(z(ie),z(ue)),Me.current===e&&(z(Me),yl._currentValue=me)}var It,Dt;function A(e){if(It===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);It=t&&t[1]||"",Dt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+e+Dt}var fe=!1;function te(e,t){if(!e||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ee){var $=ee}Reflect.construct(e,[],de)}else{try{de.call()}catch(ee){$=ee}e.call(de.prototype)}}else{try{throw Error()}catch(ee){$=ee}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ee){if(ee&&$&&typeof ee.stack=="string")return[ee.stack,$.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=s.DetermineComponentFrameRoot(),E=y[0],N=y[1];if(E&&N){var H=E.split(`
`),Q=N.split(`
`);for(p=s=0;s<H.length&&!H[s].includes("DetermineComponentFrameRoot");)s++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(s===H.length||p===Q.length)for(s=H.length-1,p=Q.length-1;1<=s&&0<=p&&H[s]!==Q[p];)p--;for(;1<=s&&0<=p;s--,p--)if(H[s]!==Q[p]){if(s!==1||p!==1)do if(s--,p--,0>p||H[s]!==Q[p]){var le=`
`+H[s].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=s&&0<=p);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?A(l):""}function G(e,t){switch(e.tag){case 26:case 27:case 5:return A(e.type);case 16:return A("Lazy");case 13:return e.child!==t&&t!==null?A("Suspense Fallback"):A("Suspense");case 19:return A("SuspenseList");case 0:case 15:return te(e.type,!1);case 11:return te(e.type.render,!1);case 1:return te(e.type,!0);case 31:return A("Activity");default:return""}}function L(e){try{var t="",l=null;do t+=G(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var F=Object.prototype.hasOwnProperty,he=i.unstable_scheduleCallback,pe=i.unstable_cancelCallback,W=i.unstable_shouldYield,ge=i.unstable_requestPaint,_e=i.unstable_now,ye=i.unstable_getCurrentPriorityLevel,be=i.unstable_ImmediatePriority,Ye=i.unstable_UserBlockingPriority,Le=i.unstable_NormalPriority,Ut=i.unstable_LowPriority,qn=i.unstable_IdlePriority,Xt=i.log,mi=i.unstable_setDisableYieldValue,We=null,yt=null;function Zt(e){if(typeof Xt=="function"&&mi(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(We,e)}catch{}}var lt=Math.clz32?Math.clz32:fa,Rl=Math.log,ca=Math.LN2;function fa(e){return e>>>=0,e===0?32:31-(Rl(e)/ca|0)|0}var zi=256,gi=262144,gn=4194304;function Qt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nl(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var p=0,y=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var N=s&134217727;return N!==0?(s=N&~y,s!==0?p=Qt(s):(E&=N,E!==0?p=Qt(E):l||(l=N&~e,l!==0&&(p=Qt(l))))):(N=s&~y,N!==0?p=Qt(N):E!==0?p=Qt(E):l||(l=s&~e,l!==0&&(p=Qt(l)))),p===0?0:t!==0&&t!==p&&(t&y)===0&&(y=p&-p,l=t&-t,y>=l||y===32&&(l&4194048)!==0)?t:p}function Mo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ac(){var e=gn;return gn<<=1,(gn&62914560)===0&&(gn=4194304),e}function da(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Io(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vg(e,t,l,s,p,y){var E=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var N=e.entanglements,H=e.expirationTimes,Q=e.hiddenUpdates;for(l=E&~l;0<l;){var le=31-lt(l),de=1<<le;N[le]=0,H[le]=-1;var $=Q[le];if($!==null)for(Q[le]=null,le=0;le<$.length;le++){var ee=$[le];ee!==null&&(ee.lane&=-536870913)}l&=~de}s!==0&&sc(e,s,0),y!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=y&~(E&~t))}function sc(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-lt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function uc(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-lt(l),p=1<<s;p&t|e[s]&t&&(e[s]|=t),l&=~p}}function cc(e,t){var l=t&-t;return l=(l&42)!==0?1:ha(l),(l&(e.suspendedLanes|t))!==0?0:l}function ha(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fc(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Wh(e.type))}function dc(e,t){var l=J.p;try{return J.p=e,t()}finally{J.p=l}}var Vn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Vn,kt="__reactProps$"+Vn,Gi="__reactContainer$"+Vn,ma="__reactEvents$"+Vn,Fg="__reactListeners$"+Vn,Yg="__reactHandles$"+Vn,hc="__reactResources$"+Vn,Do="__reactMarker$"+Vn;function ga(e){delete e[Tt],delete e[kt],delete e[ma],delete e[Fg],delete e[Yg]}function Bi(e){var t=e[Tt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Gi]||l[Tt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Lh(e);e!==null;){if(l=e[Tt])return l;e=Lh(e)}return t}e=l,l=e.parentNode}return null}function Oi(e){if(e=e[Tt]||e[Gi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Uo(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Hi(e){var t=e[hc];return t||(t=e[hc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function vt(e){e[Do]=!0}var pc=new Set,mc={};function yi(e,t){Pi(e,t),Pi(e+"Capture",t)}function Pi(e,t){for(mc[e]=t,e=0;e<t.length;e++)pc.add(t[e])}var Jg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gc={},yc={};function Kg(e){return F.call(yc,e)?!0:F.call(gc,e)?!1:Jg.test(e)?yc[e]=!0:(gc[e]=!0,!1)}function Ml(e,t,l){if(Kg(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Il(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Tn(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xg(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,y=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return p.call(this)},set:function(E){l=""+E,y.call(this,E)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ya(e){if(!e._valueTracker){var t=vc(e)?"checked":"value";e._valueTracker=Xg(e,t,""+e[t])}}function _c(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=vc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zg=/[\n"\\]/g;function $t(e){return e.replace(Zg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function va(e,t,l,s,p,y,E,N){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),t!=null?E==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Wt(t)):e.value!==""+Wt(t)&&(e.value=""+Wt(t)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),t!=null?_a(e,E,Wt(t)):l!=null?_a(e,E,Wt(l)):s!=null&&e.removeAttribute("value"),p==null&&y!=null&&(e.defaultChecked=!!y),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+Wt(N):e.removeAttribute("name")}function Sc(e,t,l,s,p,y,E,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),t!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||t!=null)){ya(e);return}l=l!=null?""+Wt(l):"",t=t!=null?""+Wt(t):l,N||t===e.value||(e.value=t),e.defaultValue=t}s=s??p,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=N?e.checked:!!s,e.defaultChecked=!!s,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),ya(e)}function _a(e,t,l){t==="number"&&Dl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function qi(e,t,l,s){if(e=e.options,t){t={};for(var p=0;p<l.length;p++)t["$"+l[p]]=!0;for(l=0;l<e.length;l++)p=t.hasOwnProperty("$"+e[l].value),e[l].selected!==p&&(e[l].selected=p),p&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Wt(l),t=null,p=0;p<e.length;p++){if(e[p].value===l){e[p].selected=!0,s&&(e[p].defaultSelected=!0);return}t!==null||e[p].disabled||(t=e[p])}t!==null&&(t.selected=!0)}}function Tc(e,t,l){if(t!=null&&(t=""+Wt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Wt(l):""}function Ec(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(r(92));if(oe(s)){if(1<s.length)throw Error(r(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=Wt(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ya(e)}function Vi(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Qg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||Qg.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Ac(e,t,l){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var p in t)s=t[p],t.hasOwnProperty(p)&&l[p]!==s&&Cc(e,p,s)}else for(var y in t)t.hasOwnProperty(y)&&Cc(e,y,t[y])}function Sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$g=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ul(e){return $g.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function En(){}var Ta=null;function Ea(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,Yi=null;function bc(e){var t=Oi(e);if(t&&(e=t.stateNode)){var l=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(va(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var p=s[kt]||null;if(!p)throw Error(r(90));va(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&_c(s)}break e;case"textarea":Tc(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&qi(e,!!l.multiple,t,!1)}}}var Ca=!1;function xc(e,t,l){if(Ca)return e(t,l);Ca=!0;try{var s=e(t);return s}finally{if(Ca=!1,(Fi!==null||Yi!==null)&&(Sr(),Fi&&(t=Fi,e=Yi,Yi=Fi=null,bc(t),e)))for(t=0;t<e.length;t++)bc(e[t])}}function ko(e,t){var l=e.stateNode;if(l===null)return null;var s=l[kt]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(r(231,t,typeof l));return l}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=!1;if(Cn)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{Aa=!1}var Fn=null,ba=null,kl=null;function wc(){if(kl)return kl;var e,t=ba,l=t.length,s,p="value"in Fn?Fn.value:Fn.textContent,y=p.length;for(e=0;e<l&&t[e]===p[e];e++);var E=l-e;for(s=1;s<=E&&t[l-s]===p[y-s];s++);return kl=p.slice(e,1<s?1-s:void 0)}function Ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zl(){return!0}function Rc(){return!1}function Lt(e){function t(l,s,p,y,E){this._reactName=l,this._targetInst=p,this.type=s,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(l=e[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zl:Rc,this.isPropagationStopped=Rc,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Lt(vi),zo=_({},vi,{view:0,detail:0}),jg=Lt(zo),xa,wa,Go,Bl=_({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Go&&(Go&&e.type==="mousemove"?(xa=e.screenX-Go.screenX,wa=e.screenY-Go.screenY):wa=xa=0,Go=e),xa)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),Nc=Lt(Bl),e0=_({},Bl,{dataTransfer:0}),t0=Lt(e0),n0=_({},zo,{relatedTarget:0}),Ra=Lt(n0),i0=_({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),o0=Lt(i0),l0=_({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r0=Lt(l0),a0=_({},vi,{data:0}),Mc=Lt(a0),s0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=c0[e])?!!t[e]:!1}function Na(){return f0}var d0=_({},zo,{key:function(e){if(e.key){var t=s0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?u0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(e){return e.type==="keypress"?Ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),h0=Lt(d0),p0=_({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=Lt(p0),m0=_({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),g0=Lt(m0),y0=_({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),v0=Lt(y0),_0=_({},Bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S0=Lt(_0),T0=_({},vi,{newState:0,oldState:0}),E0=Lt(T0),C0=[9,13,27,32],Ma=Cn&&"CompositionEvent"in window,Bo=null;Cn&&"documentMode"in document&&(Bo=document.documentMode);var A0=Cn&&"TextEvent"in window&&!Bo,Dc=Cn&&(!Ma||Bo&&8<Bo&&11>=Bo),Uc=" ",kc=!1;function Lc(e,t){switch(e){case"keyup":return C0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function b0(e,t){switch(e){case"compositionend":return zc(t);case"keypress":return t.which!==32?null:(kc=!0,Uc);case"textInput":return e=t.data,e===Uc&&kc?null:e;default:return null}}function x0(e,t){if(Ji)return e==="compositionend"||!Ma&&Lc(e,t)?(e=wc(),kl=ba=Fn=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dc&&t.locale!=="ko"?null:t.data;default:return null}}var w0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!w0[e.type]:t==="textarea"}function Bc(e,t,l,s){Fi?Yi?Yi.push(s):Yi=[s]:Fi=s,t=wr(t,"onChange"),0<t.length&&(l=new Gl("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var Oo=null,Ho=null;function R0(e){Th(e,0)}function Ol(e){var t=Uo(e);if(_c(t))return e}function Oc(e,t){if(e==="change")return t}var Hc=!1;if(Cn){var Ia;if(Cn){var Da="oninput"in document;if(!Da){var Pc=document.createElement("div");Pc.setAttribute("oninput","return;"),Da=typeof Pc.oninput=="function"}Ia=Da}else Ia=!1;Hc=Ia&&(!document.documentMode||9<document.documentMode)}function qc(){Oo&&(Oo.detachEvent("onpropertychange",Vc),Ho=Oo=null)}function Vc(e){if(e.propertyName==="value"&&Ol(Ho)){var t=[];Bc(t,Ho,e,Ea(e)),xc(R0,t)}}function N0(e,t,l){e==="focusin"?(qc(),Oo=t,Ho=l,Oo.attachEvent("onpropertychange",Vc)):e==="focusout"&&qc()}function M0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(Ho)}function I0(e,t){if(e==="click")return Ol(t)}function D0(e,t){if(e==="input"||e==="change")return Ol(t)}function U0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:U0;function Po(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var p=l[s];if(!F.call(t,p)||!Pt(e[p],t[p]))return!1}return!0}function Fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yc(e,t){var l=Fc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Fc(l)}}function Jc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Dl(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Dl(e.document)}return t}function Ua(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var k0=Cn&&"documentMode"in document&&11>=document.documentMode,Ki=null,ka=null,qo=null,La=!1;function Xc(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;La||Ki==null||Ki!==Dl(s)||(s=Ki,"selectionStart"in s&&Ua(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),qo&&Po(qo,s)||(qo=s,s=wr(ka,"onSelect"),0<s.length&&(t=new Gl("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=Ki)))}function _i(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Xi={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},za={},Zc={};Cn&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function Si(e){if(za[e])return za[e];if(!Xi[e])return e;var t=Xi[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Zc)return za[e]=t[l];return e}var Qc=Si("animationend"),Wc=Si("animationiteration"),$c=Si("animationstart"),L0=Si("transitionrun"),z0=Si("transitionstart"),G0=Si("transitioncancel"),jc=Si("transitionend"),ef=new Map,Ga="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ga.push("scrollEnd");function cn(e,t){ef.set(e,t),yi(t,[e])}var Hl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jt=[],Zi=0,Ba=0;function Pl(){for(var e=Zi,t=Ba=Zi=0;t<e;){var l=jt[t];jt[t++]=null;var s=jt[t];jt[t++]=null;var p=jt[t];jt[t++]=null;var y=jt[t];if(jt[t++]=null,s!==null&&p!==null){var E=s.pending;E===null?p.next=p:(p.next=E.next,E.next=p),s.pending=p}y!==0&&tf(l,p,y)}}function ql(e,t,l,s){jt[Zi++]=e,jt[Zi++]=t,jt[Zi++]=l,jt[Zi++]=s,Ba|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Oa(e,t,l,s){return ql(e,t,l,s),Vl(e)}function Ti(e,t){return ql(e,null,null,t),Vl(e)}function tf(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var p=!1,y=e.return;y!==null;)y.childLanes|=l,s=y.alternate,s!==null&&(s.childLanes|=l),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(p=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,p&&t!==null&&(p=31-lt(l),e=y.hiddenUpdates,s=e[p],s===null?e[p]=[t]:s.push(t),t.lane=l|536870912),y):null}function Vl(e){if(50<cl)throw cl=0,Xs=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qi={};function B0(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,l,s){return new B0(e,t,l,s)}function Ha(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,t){var l=e.alternate;return l===null?(l=qt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function nf(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fl(e,t,l,s,p,y){var E=0;if(s=e,typeof e=="function")Ha(e)&&(E=1);else if(typeof e=="string")E=Vy(e,l,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=qt(31,l,t,p),e.elementType=V,e.lanes=y,e;case C:return Ei(l.children,p,y,t);case x:E=8,p|=24;break;case w:return e=qt(12,l,t,p|2),e.elementType=w,e.lanes=y,e;case U:return e=qt(13,l,t,p),e.elementType=U,e.lanes=y,e;case X:return e=qt(19,l,t,p),e.elementType=X,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:E=10;break e;case I:E=9;break e;case B:E=11;break e;case q:E=14;break e;case ne:E=16,s=null;break e}E=29,l=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=qt(E,l,t,p),t.elementType=e,t.type=s,t.lanes=y,t}function Ei(e,t,l,s){return e=qt(7,e,s,t),e.lanes=l,e}function Pa(e,t,l){return e=qt(6,e,null,t),e.lanes=l,e}function of(e){var t=qt(18,null,null,0);return t.stateNode=e,t}function qa(e,t,l){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var lf=new WeakMap;function en(e,t){if(typeof e=="object"&&e!==null){var l=lf.get(e);return l!==void 0?l:(t={value:e,source:t,stack:L(t)},lf.set(e,t),t)}return{value:e,source:t,stack:L(t)}}var Wi=[],$i=0,Yl=null,Vo=0,tn=[],nn=0,Yn=null,yn=1,vn="";function bn(e,t){Wi[$i++]=Vo,Wi[$i++]=Yl,Yl=e,Vo=t}function rf(e,t,l){tn[nn++]=yn,tn[nn++]=vn,tn[nn++]=Yn,Yn=e;var s=yn;e=vn;var p=32-lt(s)-1;s&=~(1<<p),l+=1;var y=32-lt(t)+p;if(30<y){var E=p-p%5;y=(s&(1<<E)-1).toString(32),s>>=E,p-=E,yn=1<<32-lt(t)+p|l<<p|s,vn=y+e}else yn=1<<y|l<<p|s,vn=e}function Va(e){e.return!==null&&(bn(e,1),rf(e,1,0))}function Fa(e){for(;e===Yl;)Yl=Wi[--$i],Wi[$i]=null,Vo=Wi[--$i],Wi[$i]=null;for(;e===Yn;)Yn=tn[--nn],tn[nn]=null,vn=tn[--nn],tn[nn]=null,yn=tn[--nn],tn[nn]=null}function af(e,t){tn[nn++]=yn,tn[nn++]=vn,tn[nn++]=Yn,yn=t.id,vn=t.overflow,Yn=e}var Et=null,et=null,He=!1,Jn=null,on=!1,Ya=Error(r(519));function Kn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(en(t,e)),Ya}function sf(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[Tt]=e,t[kt]=s,l){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(l=0;l<dl.length;l++)Ge(dl[l],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),Sc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Ec(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||bh(t.textContent,l)?(s.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),s.onScroll!=null&&Ge("scroll",t),s.onScrollEnd!=null&&Ge("scrollend",t),s.onClick!=null&&(t.onclick=En),t=!0):t=!1,t||Kn(e,!0)}function uf(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:Et=Et.return}}function ji(e){if(e!==Et)return!1;if(!He)return uf(e),He=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||uu(e.type,e.memoizedProps)),l=!l),l&&et&&Kn(e),uf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));et=kh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));et=kh(e)}else t===27?(t=et,ai(e.type)?(e=pu,pu=null,et=e):et=t):et=Et?rn(e.stateNode.nextSibling):null;return!0}function Ci(){et=Et=null,He=!1}function Ja(){var e=Jn;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),Jn=null),e}function Fo(e){Jn===null?Jn=[e]:Jn.push(e)}var Ka=M(null),Ai=null,xn=null;function Xn(e,t,l){ae(Ka,t._currentValue),t._currentValue=l}function wn(e){e._currentValue=Ka.current,z(Ka)}function Xa(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function Za(e,t,l,s){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=p;for(var H=0;H<t.length;H++)if(N.context===t[H]){y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),Xa(y.return,l,e),s||(E=null);break e}y=N.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(r(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),Xa(E,l,e),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===e){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function eo(e,t,l,s){e=null;for(var p=t,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var N=p.type;Pt(p.pendingProps.value,E.value)||(e!==null?e.push(N):e=[N])}}else if(p===Me.current){if(E=p.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}p=p.return}e!==null&&Za(t,e,l,s),t.flags|=262144}function Jl(e){for(e=e.firstContext;e!==null;){if(!Pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bi(e){Ai=e,xn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return cf(Ai,e)}function Kl(e,t){return Ai===null&&bi(e),cf(e,t)}function cf(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},xn===null){if(e===null)throw Error(r(308));xn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xn=xn.next=t;return l}var O0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},H0=i.unstable_scheduleCallback,P0=i.unstable_NormalPriority,dt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qa(){return{controller:new O0,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&H0(P0,function(){e.controller.abort()})}var Jo=null,Wa=0,to=0,no=null;function q0(e,t){if(Jo===null){var l=Jo=[];Wa=0,to=eu(),no={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Wa++,t.then(ff,ff),t}function ff(){if(--Wa===0&&Jo!==null){no!==null&&(no.status="fulfilled");var e=Jo;Jo=null,to=0,no=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function V0(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var p=0;p<l.length;p++)(0,l[p])(t)},function(p){for(s.status="rejected",s.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),s}var df=K.S;K.S=function(e,t){Zd=_e(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&q0(e,t),df!==null&&df(e,t)};var xi=M(null);function $a(){var e=xi.current;return e!==null?e:$e.pooledCache}function Xl(e,t){t===null?ae(xi,xi.current):ae(xi,t.pool)}function hf(){var e=$a();return e===null?null:{parent:dt._currentValue,pool:e}}var io=Error(r(460)),ja=Error(r(474)),Zl=Error(r(542)),Ql={then:function(){}};function pf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mf(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(En,En),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yf(e),e;default:if(typeof t.status=="string")t.then(En,En);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var p=t;p.status="fulfilled",p.value=s}},function(s){if(t.status==="pending"){var p=t;p.status="rejected",p.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yf(e),e}throw Ri=t,io}}function wi(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ri=l,io):l}}var Ri=null;function gf(){if(Ri===null)throw Error(r(459));var e=Ri;return Ri=null,e}function yf(e){if(e===io||e===Zl)throw Error(r(483))}var oo=null,Ko=0;function Wl(e){var t=Ko;return Ko+=1,oo===null&&(oo=[]),mf(oo,e,t)}function Xo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $l(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vf(e){function t(Y,P){if(e){var Z=Y.deletions;Z===null?(Y.deletions=[P],Y.flags|=16):Z.push(P)}}function l(Y,P){if(!e)return null;for(;P!==null;)t(Y,P),P=P.sibling;return null}function s(Y){for(var P=new Map;Y!==null;)Y.key!==null?P.set(Y.key,Y):P.set(Y.index,Y),Y=Y.sibling;return P}function p(Y,P){return Y=An(Y,P),Y.index=0,Y.sibling=null,Y}function y(Y,P,Z){return Y.index=Z,e?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<P?(Y.flags|=67108866,P):Z):(Y.flags|=67108866,P)):(Y.flags|=1048576,P)}function E(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,P,Z,ce){return P===null||P.tag!==6?(P=Pa(Z,Y.mode,ce),P.return=Y,P):(P=p(P,Z),P.return=Y,P)}function H(Y,P,Z,ce){var xe=Z.type;return xe===C?le(Y,P,Z.props.children,ce,Z.key):P!==null&&(P.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ne&&wi(xe)===P.type)?(P=p(P,Z.props),Xo(P,Z),P.return=Y,P):(P=Fl(Z.type,Z.key,Z.props,null,Y.mode,ce),Xo(P,Z),P.return=Y,P)}function Q(Y,P,Z,ce){return P===null||P.tag!==4||P.stateNode.containerInfo!==Z.containerInfo||P.stateNode.implementation!==Z.implementation?(P=qa(Z,Y.mode,ce),P.return=Y,P):(P=p(P,Z.children||[]),P.return=Y,P)}function le(Y,P,Z,ce,xe){return P===null||P.tag!==7?(P=Ei(Z,Y.mode,ce,xe),P.return=Y,P):(P=p(P,Z),P.return=Y,P)}function de(Y,P,Z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Pa(""+P,Y.mode,Z),P.return=Y,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return Z=Fl(P.type,P.key,P.props,null,Y.mode,Z),Xo(Z,P),Z.return=Y,Z;case b:return P=qa(P,Y.mode,Z),P.return=Y,P;case ne:return P=wi(P),de(Y,P,Z)}if(oe(P)||O(P))return P=Ei(P,Y.mode,Z,null),P.return=Y,P;if(typeof P.then=="function")return de(Y,Wl(P),Z);if(P.$$typeof===D)return de(Y,Kl(Y,P),Z);$l(Y,P)}return null}function $(Y,P,Z,ce){var xe=P!==null?P.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return xe!==null?null:N(Y,P,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return Z.key===xe?H(Y,P,Z,ce):null;case b:return Z.key===xe?Q(Y,P,Z,ce):null;case ne:return Z=wi(Z),$(Y,P,Z,ce)}if(oe(Z)||O(Z))return xe!==null?null:le(Y,P,Z,ce,null);if(typeof Z.then=="function")return $(Y,P,Wl(Z),ce);if(Z.$$typeof===D)return $(Y,P,Kl(Y,Z),ce);$l(Y,Z)}return null}function ee(Y,P,Z,ce,xe){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(Z)||null,N(P,Y,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case T:return Y=Y.get(ce.key===null?Z:ce.key)||null,H(P,Y,ce,xe);case b:return Y=Y.get(ce.key===null?Z:ce.key)||null,Q(P,Y,ce,xe);case ne:return ce=wi(ce),ee(Y,P,Z,ce,xe)}if(oe(ce)||O(ce))return Y=Y.get(Z)||null,le(P,Y,ce,xe,null);if(typeof ce.then=="function")return ee(Y,P,Z,Wl(ce),xe);if(ce.$$typeof===D)return ee(Y,P,Z,Kl(P,ce),xe);$l(P,ce)}return null}function Ee(Y,P,Z,ce){for(var xe=null,Pe=null,Ce=P,ke=P=0,Oe=null;Ce!==null&&ke<Z.length;ke++){Ce.index>ke?(Oe=Ce,Ce=null):Oe=Ce.sibling;var qe=$(Y,Ce,Z[ke],ce);if(qe===null){Ce===null&&(Ce=Oe);break}e&&Ce&&qe.alternate===null&&t(Y,Ce),P=y(qe,P,ke),Pe===null?xe=qe:Pe.sibling=qe,Pe=qe,Ce=Oe}if(ke===Z.length)return l(Y,Ce),He&&bn(Y,ke),xe;if(Ce===null){for(;ke<Z.length;ke++)Ce=de(Y,Z[ke],ce),Ce!==null&&(P=y(Ce,P,ke),Pe===null?xe=Ce:Pe.sibling=Ce,Pe=Ce);return He&&bn(Y,ke),xe}for(Ce=s(Ce);ke<Z.length;ke++)Oe=ee(Ce,Y,ke,Z[ke],ce),Oe!==null&&(e&&Oe.alternate!==null&&Ce.delete(Oe.key===null?ke:Oe.key),P=y(Oe,P,ke),Pe===null?xe=Oe:Pe.sibling=Oe,Pe=Oe);return e&&Ce.forEach(function(di){return t(Y,di)}),He&&bn(Y,ke),xe}function Re(Y,P,Z,ce){if(Z==null)throw Error(r(151));for(var xe=null,Pe=null,Ce=P,ke=P=0,Oe=null,qe=Z.next();Ce!==null&&!qe.done;ke++,qe=Z.next()){Ce.index>ke?(Oe=Ce,Ce=null):Oe=Ce.sibling;var di=$(Y,Ce,qe.value,ce);if(di===null){Ce===null&&(Ce=Oe);break}e&&Ce&&di.alternate===null&&t(Y,Ce),P=y(di,P,ke),Pe===null?xe=di:Pe.sibling=di,Pe=di,Ce=Oe}if(qe.done)return l(Y,Ce),He&&bn(Y,ke),xe;if(Ce===null){for(;!qe.done;ke++,qe=Z.next())qe=de(Y,qe.value,ce),qe!==null&&(P=y(qe,P,ke),Pe===null?xe=qe:Pe.sibling=qe,Pe=qe);return He&&bn(Y,ke),xe}for(Ce=s(Ce);!qe.done;ke++,qe=Z.next())qe=ee(Ce,Y,ke,qe.value,ce),qe!==null&&(e&&qe.alternate!==null&&Ce.delete(qe.key===null?ke:qe.key),P=y(qe,P,ke),Pe===null?xe=qe:Pe.sibling=qe,Pe=qe);return e&&Ce.forEach(function(ev){return t(Y,ev)}),He&&bn(Y,ke),xe}function Qe(Y,P,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===C&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:e:{for(var xe=Z.key;P!==null;){if(P.key===xe){if(xe=Z.type,xe===C){if(P.tag===7){l(Y,P.sibling),ce=p(P,Z.props.children),ce.return=Y,Y=ce;break e}}else if(P.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ne&&wi(xe)===P.type){l(Y,P.sibling),ce=p(P,Z.props),Xo(ce,Z),ce.return=Y,Y=ce;break e}l(Y,P);break}else t(Y,P);P=P.sibling}Z.type===C?(ce=Ei(Z.props.children,Y.mode,ce,Z.key),ce.return=Y,Y=ce):(ce=Fl(Z.type,Z.key,Z.props,null,Y.mode,ce),Xo(ce,Z),ce.return=Y,Y=ce)}return E(Y);case b:e:{for(xe=Z.key;P!==null;){if(P.key===xe)if(P.tag===4&&P.stateNode.containerInfo===Z.containerInfo&&P.stateNode.implementation===Z.implementation){l(Y,P.sibling),ce=p(P,Z.children||[]),ce.return=Y,Y=ce;break e}else{l(Y,P);break}else t(Y,P);P=P.sibling}ce=qa(Z,Y.mode,ce),ce.return=Y,Y=ce}return E(Y);case ne:return Z=wi(Z),Qe(Y,P,Z,ce)}if(oe(Z))return Ee(Y,P,Z,ce);if(O(Z)){if(xe=O(Z),typeof xe!="function")throw Error(r(150));return Z=xe.call(Z),Re(Y,P,Z,ce)}if(typeof Z.then=="function")return Qe(Y,P,Wl(Z),ce);if(Z.$$typeof===D)return Qe(Y,P,Kl(Y,Z),ce);$l(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,P!==null&&P.tag===6?(l(Y,P.sibling),ce=p(P,Z),ce.return=Y,Y=ce):(l(Y,P),ce=Pa(Z,Y.mode,ce),ce.return=Y,Y=ce),E(Y)):l(Y,P)}return function(Y,P,Z,ce){try{Ko=0;var xe=Qe(Y,P,Z,ce);return oo=null,xe}catch(Ce){if(Ce===io||Ce===Zl)throw Ce;var Pe=qt(29,Ce,null,Y.mode);return Pe.lanes=ce,Pe.return=Y,Pe}finally{}}}var Ni=vf(!0),_f=vf(!1),Zn=!1;function es(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ts(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Fe&2)!==0){var p=s.pending;return p===null?t.next=t:(t.next=p.next,p.next=t),s.pending=t,t=Vl(e),tf(e,null,l),t}return ql(e,s,t,l),Vl(e)}function Zo(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,uc(e,l)}}function ns(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=t:y=y.next=t}else p=y=t;l={baseState:s.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var is=!1;function Qo(){if(is){var e=no;if(e!==null)throw e}}function Wo(e,t,l,s){is=!1;var p=e.updateQueue;Zn=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var H=N,Q=H.next;H.next=null,E===null?y=Q:E.next=Q,E=H;var le=e.alternate;le!==null&&(le=le.updateQueue,N=le.lastBaseUpdate,N!==E&&(N===null?le.firstBaseUpdate=Q:N.next=Q,le.lastBaseUpdate=H))}if(y!==null){var de=p.baseState;E=0,le=Q=H=null,N=y;do{var $=N.lane&-536870913,ee=$!==N.lane;if(ee?(Be&$)===$:(s&$)===$){$!==0&&$===to&&(is=!0),le!==null&&(le=le.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ee=e,Re=N;$=t;var Qe=l;switch(Re.tag){case 1:if(Ee=Re.payload,typeof Ee=="function"){de=Ee.call(Qe,de,$);break e}de=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Re.payload,$=typeof Ee=="function"?Ee.call(Qe,de,$):Ee,$==null)break e;de=_({},de,$);break e;case 2:Zn=!0}}$=N.callback,$!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[$]:ee.push($))}else ee={lane:$,tag:N.tag,payload:N.payload,callback:N.callback,next:null},le===null?(Q=le=ee,H=de):le=le.next=ee,E|=$;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;ee=N,N=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);le===null&&(H=de),p.baseState=H,p.firstBaseUpdate=Q,p.lastBaseUpdate=le,y===null&&(p.shared.lanes=0),ni|=E,e.lanes=E,e.memoizedState=de}}function Sf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Tf(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Sf(l[e],t)}var lo=M(null),jl=M(0);function Ef(e,t){e=zn,ae(jl,e),ae(lo,t),zn=e|t.baseLanes}function os(){ae(jl,zn),ae(lo,lo.current)}function ls(){zn=jl.current,z(lo),z(jl)}var Vt=M(null),ln=null;function $n(e){var t=e.alternate;ae(ct,ct.current&1),ae(Vt,e),ln===null&&(t===null||lo.current!==null||t.memoizedState!==null)&&(ln=e)}function rs(e){ae(ct,ct.current),ae(Vt,e),ln===null&&(ln=e)}function Cf(e){e.tag===22?(ae(ct,ct.current),ae(Vt,e),ln===null&&(ln=e)):jn()}function jn(){ae(ct,ct.current),ae(Vt,Vt.current)}function Ft(e){z(Vt),ln===e&&(ln=null),z(ct)}var ct=M(0);function er(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||du(l)||hu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rn=0,Ue=null,Xe=null,ht=null,tr=!1,ro=!1,Mi=!1,nr=0,$o=0,ao=null,F0=0;function at(){throw Error(r(321))}function as(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Pt(e[l],t[l]))return!1;return!0}function ss(e,t,l,s,p,y){return Rn=y,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?rd:Cs,Mi=!1,y=l(s,p),Mi=!1,ro&&(y=bf(t,l,s,p)),Af(e),y}function Af(e){K.H=tl;var t=Xe!==null&&Xe.next!==null;if(Rn=0,ht=Xe=Ue=null,tr=!1,$o=0,ao=null,t)throw Error(r(300));e===null||pt||(e=e.dependencies,e!==null&&Jl(e)&&(pt=!0))}function bf(e,t,l,s){Ue=e;var p=0;do{if(ro&&(ao=null),$o=0,ro=!1,25<=p)throw Error(r(301));if(p+=1,ht=Xe=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=ad,y=t(l,s)}while(ro);return y}function Y0(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?jo(t):t,e=e.useState()[0],(Xe!==null?Xe.memoizedState:null)!==e&&(Ue.flags|=1024),t}function us(){var e=nr!==0;return nr=0,e}function cs(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function fs(e){if(tr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}tr=!1}Rn=0,ht=Xe=Ue=null,ro=!1,$o=nr=0,ao=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ue.memoizedState=ht=e:ht=ht.next=e,ht}function ft(){if(Xe===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=ht===null?Ue.memoizedState:ht.next;if(t!==null)ht=t,Xe=e;else{if(e===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},ht===null?Ue.memoizedState=ht=e:ht=ht.next=e}return ht}function ir(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var t=$o;return $o+=1,ao===null&&(ao=[]),e=mf(ao,e,t),t=Ue,(ht===null?t.memoizedState:ht.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?rd:Cs),e}function or(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===D)return Ct(e)}throw Error(r(438,String(e)))}function ds(e){var t=null,l=Ue.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=Ue.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(p){return p.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=ir(),Ue.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=re;return t.index++,l}function Nn(e,t){return typeof t=="function"?t(e):t}function lr(e){var t=ft();return hs(t,Xe,e)}function hs(e,t,l){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=l;var p=e.baseQueue,y=s.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}t.baseQueue=p=y,s.pending=null}if(y=e.baseState,p===null)e.memoizedState=y;else{t=p.next;var N=E=null,H=null,Q=t,le=!1;do{var de=Q.lane&-536870913;if(de!==Q.lane?(Be&de)===de:(Rn&de)===de){var $=Q.revertLane;if($===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),de===to&&(le=!0);else if((Rn&$)===$){Q=Q.next,$===to&&(le=!0);continue}else de={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},H===null?(N=H=de,E=y):H=H.next=de,Ue.lanes|=$,ni|=$;de=Q.action,Mi&&l(y,de),y=Q.hasEagerState?Q.eagerState:l(y,de)}else $={lane:de,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},H===null?(N=H=$,E=y):H=H.next=$,Ue.lanes|=de,ni|=de;Q=Q.next}while(Q!==null&&Q!==t);if(H===null?E=y:H.next=N,!Pt(y,e.memoizedState)&&(pt=!0,le&&(l=no,l!==null)))throw l;e.memoizedState=y,e.baseState=E,e.baseQueue=H,s.lastRenderedState=y}return p===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ps(e){var t=ft(),l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=e;var s=l.dispatch,p=l.pending,y=t.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=e(y,E.action),E=E.next;while(E!==p);Pt(y,t.memoizedState)||(pt=!0),t.memoizedState=y,t.baseQueue===null&&(t.baseState=y),l.lastRenderedState=y}return[y,s]}function xf(e,t,l){var s=Ue,p=ft(),y=He;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=t();var E=!Pt((Xe||p).memoizedState,l);if(E&&(p.memoizedState=l,pt=!0),p=p.queue,ys(Nf.bind(null,s,p,e),[e]),p.getSnapshot!==t||E||ht!==null&&ht.memoizedState.tag&1){if(s.flags|=2048,so(9,{destroy:void 0},Rf.bind(null,s,p,l,t),null),$e===null)throw Error(r(349));y||(Rn&127)!==0||wf(s,t,l)}return l}function wf(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ue.updateQueue,t===null?(t=ir(),Ue.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Rf(e,t,l,s){t.value=l,t.getSnapshot=s,Mf(t)&&If(e)}function Nf(e,t,l){return l(function(){Mf(t)&&If(e)})}function Mf(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Pt(e,l)}catch{return!0}}function If(e){var t=Ti(e,2);t!==null&&Ht(t,e,2)}function ms(e){var t=Rt();if(typeof e=="function"){var l=e;if(e=l(),Mi){Zt(!0);try{l()}finally{Zt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t}function Df(e,t,l,s){return e.baseState=l,hs(e,Xe,typeof s=="function"?s:Nn)}function J0(e,t,l,s,p){if(sr(e))throw Error(r(485));if(e=t.action,e!==null){var y={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};K.T!==null?l(!0):y.isTransition=!1,s(y),l=t.pending,l===null?(y.next=t.pending=y,Uf(t,y)):(y.next=l.next,t.pending=l.next=y)}}function Uf(e,t){var l=t.action,s=t.payload,p=e.state;if(t.isTransition){var y=K.T,E={};K.T=E;try{var N=l(p,s),H=K.S;H!==null&&H(E,N),kf(e,t,N)}catch(Q){gs(e,t,Q)}finally{y!==null&&E.types!==null&&(y.types=E.types),K.T=y}}else try{y=l(p,s),kf(e,t,y)}catch(Q){gs(e,t,Q)}}function kf(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Lf(e,t,s)},function(s){return gs(e,t,s)}):Lf(e,t,l)}function Lf(e,t,l){t.status="fulfilled",t.value=l,zf(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Uf(e,l)))}function gs(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,zf(t),t=t.next;while(t!==s)}e.action=null}function zf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gf(e,t){return t}function Bf(e,t){if(He){var l=$e.formState;if(l!==null){e:{var s=Ue;if(He){if(et){t:{for(var p=et,y=on;p.nodeType!==8;){if(!y){p=null;break t}if(p=rn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){et=rn(p.nextSibling),s=p.data==="F!";break e}}Kn(s)}s=!1}s&&(t=l[0])}}return l=Rt(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:t},l.queue=s,l=id.bind(null,Ue,s),s.dispatch=l,s=ms(!1),y=Es.bind(null,Ue,!1,s.queue),s=Rt(),p={state:t,dispatch:null,action:e,pending:null},s.queue=p,l=J0.bind(null,Ue,p,y,l),p.dispatch=l,s.memoizedState=e,[t,l,!1]}function Of(e){var t=ft();return Hf(t,Xe,e)}function Hf(e,t,l){if(t=hs(e,t,Gf)[0],e=lr(Nn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=jo(t)}catch(E){throw E===io?Zl:E}else s=t;t=ft();var p=t.queue,y=p.dispatch;return l!==t.memoizedState&&(Ue.flags|=2048,so(9,{destroy:void 0},K0.bind(null,p,l),null)),[s,y,e]}function K0(e,t){e.action=t}function Pf(e){var t=ft(),l=Xe;if(l!==null)return Hf(t,l,e);ft(),t=t.memoizedState,l=ft();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function so(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=Ue.updateQueue,t===null&&(t=ir(),Ue.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function qf(){return ft().memoizedState}function rr(e,t,l,s){var p=Rt();Ue.flags|=e,p.memoizedState=so(1|t,{destroy:void 0},l,s===void 0?null:s)}function ar(e,t,l,s){var p=ft();s=s===void 0?null:s;var y=p.memoizedState.inst;Xe!==null&&s!==null&&as(s,Xe.memoizedState.deps)?p.memoizedState=so(t,y,l,s):(Ue.flags|=e,p.memoizedState=so(1|t,y,l,s))}function Vf(e,t){rr(8390656,8,e,t)}function ys(e,t){ar(2048,8,e,t)}function X0(e){Ue.flags|=4;var t=Ue.updateQueue;if(t===null)t=ir(),Ue.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Ff(e){var t=ft().memoizedState;return X0({ref:t,nextImpl:e}),function(){if((Fe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Yf(e,t){return ar(4,2,e,t)}function Jf(e,t){return ar(4,4,e,t)}function Kf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xf(e,t,l){l=l!=null?l.concat([e]):null,ar(4,4,Kf.bind(null,t,e),l)}function vs(){}function Zf(e,t){var l=ft();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&as(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function Qf(e,t){var l=ft();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&as(t,s[1]))return s[0];if(s=e(),Mi){Zt(!0);try{e()}finally{Zt(!1)}}return l.memoizedState=[s,t],s}function _s(e,t,l){return l===void 0||(Rn&1073741824)!==0&&(Be&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Wd(),Ue.lanes|=e,ni|=e,l)}function Wf(e,t,l,s){return Pt(l,t)?l:lo.current!==null?(e=_s(e,l,s),Pt(e,t)||(pt=!0),e):(Rn&42)===0||(Rn&1073741824)!==0&&(Be&261930)===0?(pt=!0,e.memoizedState=l):(e=Wd(),Ue.lanes|=e,ni|=e,t)}function $f(e,t,l,s,p){var y=J.p;J.p=y!==0&&8>y?y:8;var E=K.T,N={};K.T=N,Es(e,!1,t,l);try{var H=p(),Q=K.S;if(Q!==null&&Q(N,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=V0(H,s);el(e,t,le,Kt(e))}else el(e,t,s,Kt(e))}catch(de){el(e,t,{then:function(){},status:"rejected",reason:de},Kt())}finally{J.p=y,E!==null&&N.types!==null&&(E.types=N.types),K.T=E}}function Z0(){}function Ss(e,t,l,s){if(e.tag!==5)throw Error(r(476));var p=jf(e).queue;$f(e,p,t,me,l===null?Z0:function(){return ed(e),l(s)})}function jf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:me},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ed(e){var t=jf(e);t.next===null&&(t=e.alternate.memoizedState),el(e,t.next.queue,{},Kt())}function Ts(){return Ct(yl)}function td(){return ft().memoizedState}function nd(){return ft().memoizedState}function Q0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Kt();e=Qn(l);var s=Wn(t,e,l);s!==null&&(Ht(s,t,l),Zo(s,t,l)),t={cache:Qa()},e.payload=t;return}t=t.return}}function W0(e,t,l){var s=Kt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sr(e)?od(t,l):(l=Oa(e,t,l,s),l!==null&&(Ht(l,e,s),ld(l,t,s)))}function id(e,t,l){var s=Kt();el(e,t,l,s)}function el(e,t,l,s){var p={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(sr(e))od(t,p);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=t.lastRenderedReducer,y!==null))try{var E=t.lastRenderedState,N=y(E,l);if(p.hasEagerState=!0,p.eagerState=N,Pt(N,E))return ql(e,t,p,0),$e===null&&Pl(),!1}catch{}finally{}if(l=Oa(e,t,p,s),l!==null)return Ht(l,e,s),ld(l,t,s),!0}return!1}function Es(e,t,l,s){if(s={lane:2,revertLane:eu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},sr(e)){if(t)throw Error(r(479))}else t=Oa(e,l,s,2),t!==null&&Ht(t,e,2)}function sr(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function od(e,t){ro=tr=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function ld(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,uc(e,l)}}var tl={readContext:Ct,use:or,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};tl.useEffectEvent=at;var rd={readContext:Ct,use:or,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Vf,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,rr(4194308,4,Kf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return rr(4194308,4,e,t)},useInsertionEffect:function(e,t){rr(4,2,e,t)},useMemo:function(e,t){var l=Rt();t=t===void 0?null:t;var s=e();if(Mi){Zt(!0);try{e()}finally{Zt(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=Rt();if(l!==void 0){var p=l(t);if(Mi){Zt(!0);try{l(t)}finally{Zt(!1)}}}else p=t;return s.memoizedState=s.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},s.queue=e,e=e.dispatch=W0.bind(null,Ue,e),[s.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=ms(e);var t=e.queue,l=id.bind(null,Ue,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:vs,useDeferredValue:function(e,t){var l=Rt();return _s(l,e,t)},useTransition:function(){var e=ms(!1);return e=$f.bind(null,Ue,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=Ue,p=Rt();if(He){if(l===void 0)throw Error(r(407));l=l()}else{if(l=t(),$e===null)throw Error(r(349));(Be&127)!==0||wf(s,t,l)}p.memoizedState=l;var y={value:l,getSnapshot:t};return p.queue=y,Vf(Nf.bind(null,s,y,e),[e]),s.flags|=2048,so(9,{destroy:void 0},Rf.bind(null,s,y,l,t),null),l},useId:function(){var e=Rt(),t=$e.identifierPrefix;if(He){var l=vn,s=yn;l=(s&~(1<<32-lt(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=nr++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=F0++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ts,useFormState:Bf,useActionState:Bf,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Es.bind(null,Ue,!0,l),l.dispatch=t,[e,t]},useMemoCache:ds,useCacheRefresh:function(){return Rt().memoizedState=Q0.bind(null,Ue)},useEffectEvent:function(e){var t=Rt(),l={impl:e};return t.memoizedState=l,function(){if((Fe&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Cs={readContext:Ct,use:or,useCallback:Zf,useContext:Ct,useEffect:ys,useImperativeHandle:Xf,useInsertionEffect:Yf,useLayoutEffect:Jf,useMemo:Qf,useReducer:lr,useRef:qf,useState:function(){return lr(Nn)},useDebugValue:vs,useDeferredValue:function(e,t){var l=ft();return Wf(l,Xe.memoizedState,e,t)},useTransition:function(){var e=lr(Nn)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:jo(e),t]},useSyncExternalStore:xf,useId:td,useHostTransitionStatus:Ts,useFormState:Of,useActionState:Of,useOptimistic:function(e,t){var l=ft();return Df(l,Xe,e,t)},useMemoCache:ds,useCacheRefresh:nd};Cs.useEffectEvent=Ff;var ad={readContext:Ct,use:or,useCallback:Zf,useContext:Ct,useEffect:ys,useImperativeHandle:Xf,useInsertionEffect:Yf,useLayoutEffect:Jf,useMemo:Qf,useReducer:ps,useRef:qf,useState:function(){return ps(Nn)},useDebugValue:vs,useDeferredValue:function(e,t){var l=ft();return Xe===null?_s(l,e,t):Wf(l,Xe.memoizedState,e,t)},useTransition:function(){var e=ps(Nn)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:jo(e),t]},useSyncExternalStore:xf,useId:td,useHostTransitionStatus:Ts,useFormState:Pf,useActionState:Pf,useOptimistic:function(e,t){var l=ft();return Xe!==null?Df(l,Xe,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ds,useCacheRefresh:nd};ad.useEffectEvent=Ff;function As(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:_({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var bs={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=Kt(),p=Qn(s);p.payload=t,l!=null&&(p.callback=l),t=Wn(e,p,s),t!==null&&(Ht(t,e,s),Zo(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=Kt(),p=Qn(s);p.tag=1,p.payload=t,l!=null&&(p.callback=l),t=Wn(e,p,s),t!==null&&(Ht(t,e,s),Zo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Kt(),s=Qn(l);s.tag=2,t!=null&&(s.callback=t),t=Wn(e,s,l),t!==null&&(Ht(t,e,l),Zo(t,e,l))}};function sd(e,t,l,s,p,y,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,y,E):t.prototype&&t.prototype.isPureReactComponent?!Po(l,s)||!Po(p,y):!0}function ud(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&bs.enqueueReplaceState(t,t.state,null)}function Ii(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=_({},l));for(var p in e)l[p]===void 0&&(l[p]=e[p])}return l}function cd(e){Hl(e)}function fd(e){console.error(e)}function dd(e){Hl(e)}function ur(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function hd(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function xs(e,t,l){return l=Qn(l),l.tag=3,l.payload={element:null},l.callback=function(){ur(e,t)},l}function pd(e){return e=Qn(e),e.tag=3,e}function md(e,t,l,s){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=s.value;e.payload=function(){return p(y)},e.callback=function(){hd(t,l,s)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){hd(t,l,s),typeof p!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var N=s.stack;this.componentDidCatch(s.value,{componentStack:N!==null?N:""})})}function $0(e,t,l,s,p){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&eo(t,l,p,!0),l=Vt.current,l!==null){switch(l.tag){case 31:case 13:return ln===null?Tr():l.alternate===null&&st===0&&(st=3),l.flags&=-257,l.flags|=65536,l.lanes=p,s===Ql?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),Ws(e,s,p)),!1;case 22:return l.flags|=65536,s===Ql?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),Ws(e,s,p)),!1}throw Error(r(435,l.tag))}return Ws(e,s,p),Tr(),!1}if(He)return t=Vt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=p,s!==Ya&&(e=Error(r(422),{cause:s}),Fo(en(e,l)))):(s!==Ya&&(t=Error(r(423),{cause:s}),Fo(en(t,l))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,s=en(s,l),p=xs(e.stateNode,s,p),ns(e,p),st!==4&&(st=2)),!1;var y=Error(r(520),{cause:s});if(y=en(y,l),ul===null?ul=[y]:ul.push(y),st!==4&&(st=2),t===null)return!0;s=en(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=p&-p,l.lanes|=e,e=xs(l.stateNode,s,e),ns(l,e),!1;case 1:if(t=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ii===null||!ii.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=pd(p),md(p,e,l,s),ns(l,p),!1}l=l.return}while(l!==null);return!1}var ws=Error(r(461)),pt=!1;function At(e,t,l,s){t.child=e===null?_f(t,null,l,s):Ni(t,e.child,l,s)}function gd(e,t,l,s,p){l=l.render;var y=t.ref;if("ref"in s){var E={};for(var N in s)N!=="ref"&&(E[N]=s[N])}else E=s;return bi(t),s=ss(e,t,l,E,y,p),N=us(),e!==null&&!pt?(cs(e,t,p),Mn(e,t,p)):(He&&N&&Va(t),t.flags|=1,At(e,t,s,p),t.child)}function yd(e,t,l,s,p){if(e===null){var y=l.type;return typeof y=="function"&&!Ha(y)&&y.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=y,vd(e,t,y,s,p)):(e=Fl(l.type,null,s,t,t.mode,p),e.ref=t.ref,e.return=t,t.child=e)}if(y=e.child,!Ls(e,p)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Po,l(E,s)&&e.ref===t.ref)return Mn(e,t,p)}return t.flags|=1,e=An(y,s),e.ref=t.ref,e.return=t,t.child=e}function vd(e,t,l,s,p){if(e!==null){var y=e.memoizedProps;if(Po(y,s)&&e.ref===t.ref)if(pt=!1,t.pendingProps=s=y,Ls(e,p))(e.flags&131072)!==0&&(pt=!0);else return t.lanes=e.lanes,Mn(e,t,p)}return Rs(e,t,l,s,p)}function _d(e,t,l,s){var p=s.children,y=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,e!==null){for(s=t.child=e.child,p=0;s!==null;)p=p|s.lanes|s.childLanes,s=s.sibling;s=p&~y}else s=0,t.child=null;return Sd(e,t,y,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xl(t,y!==null?y.cachePool:null),y!==null?Ef(t,y):os(),Cf(t);else return s=t.lanes=536870912,Sd(e,t,y!==null?y.baseLanes|l:l,l,s)}else y!==null?(Xl(t,y.cachePool),Ef(t,y),jn(),t.memoizedState=null):(e!==null&&Xl(t,null),os(),jn());return At(e,t,p,l),t.child}function nl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Sd(e,t,l,s,p){var y=$a();return y=y===null?null:{parent:dt._currentValue,pool:y},t.memoizedState={baseLanes:l,cachePool:y},e!==null&&Xl(t,null),os(),Cf(t),e!==null&&eo(e,t,s,!0),t.childLanes=p,null}function cr(e,t){return t=dr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Td(e,t,l){return Ni(t,e.child,null,l),e=cr(t,t.pendingProps),e.flags|=2,Ft(t),t.memoizedState=null,e}function j0(e,t,l){var s=t.pendingProps,p=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(s.mode==="hidden")return e=cr(t,s),t.lanes=536870912,nl(null,e);if(rs(t),(e=et)?(e=Uh(e,on),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},l=of(e),l.return=t,t.child=l,Et=t,et=null)):e=null,e===null)throw Kn(t);return t.lanes=536870912,null}return cr(t,s)}var y=e.memoizedState;if(y!==null){var E=y.dehydrated;if(rs(t),p)if(t.flags&256)t.flags&=-257,t=Td(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(pt||eo(e,t,l,!1),p=(l&e.childLanes)!==0,pt||p){if(s=$e,s!==null&&(E=cc(s,l),E!==0&&E!==y.retryLane))throw y.retryLane=E,Ti(e,E),Ht(s,e,E),ws;Tr(),t=Td(e,t,l)}else e=y.treeContext,et=rn(E.nextSibling),Et=t,He=!0,Jn=null,on=!1,e!==null&&af(t,e),t=cr(t,s),t.flags|=4096;return t}return e=An(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function fr(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Rs(e,t,l,s,p){return bi(t),l=ss(e,t,l,s,void 0,p),s=us(),e!==null&&!pt?(cs(e,t,p),Mn(e,t,p)):(He&&s&&Va(t),t.flags|=1,At(e,t,l,p),t.child)}function Ed(e,t,l,s,p,y){return bi(t),t.updateQueue=null,l=bf(t,s,l,p),Af(e),s=us(),e!==null&&!pt?(cs(e,t,y),Mn(e,t,y)):(He&&s&&Va(t),t.flags|=1,At(e,t,l,y),t.child)}function Cd(e,t,l,s,p){if(bi(t),t.stateNode===null){var y=Qi,E=l.contextType;typeof E=="object"&&E!==null&&(y=Ct(E)),y=new l(s,y),t.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=bs,t.stateNode=y,y._reactInternals=t,y=t.stateNode,y.props=s,y.state=t.memoizedState,y.refs={},es(t),E=l.contextType,y.context=typeof E=="object"&&E!==null?Ct(E):Qi,y.state=t.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(As(t,l,E,s),y.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&bs.enqueueReplaceState(y,y.state,null),Wo(t,s,y,p),Qo(),y.state=t.memoizedState),typeof y.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){y=t.stateNode;var N=t.memoizedProps,H=Ii(l,N);y.props=H;var Q=y.context,le=l.contextType;E=Qi,typeof le=="object"&&le!==null&&(E=Ct(le));var de=l.getDerivedStateFromProps;le=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||Q!==E)&&ud(t,y,s,E),Zn=!1;var $=t.memoizedState;y.state=$,Wo(t,s,y,p),Qo(),Q=t.memoizedState,N||$!==Q||Zn?(typeof de=="function"&&(As(t,l,de,s),Q=t.memoizedState),(H=Zn||sd(t,l,H,s,$,Q,E))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=Q),y.props=s,y.state=Q,y.context=E,s=H):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{y=t.stateNode,ts(e,t),E=t.memoizedProps,le=Ii(l,E),y.props=le,de=t.pendingProps,$=y.context,Q=l.contextType,H=Qi,typeof Q=="object"&&Q!==null&&(H=Ct(Q)),N=l.getDerivedStateFromProps,(Q=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==de||$!==H)&&ud(t,y,s,H),Zn=!1,$=t.memoizedState,y.state=$,Wo(t,s,y,p),Qo();var ee=t.memoizedState;E!==de||$!==ee||Zn||e!==null&&e.dependencies!==null&&Jl(e.dependencies)?(typeof N=="function"&&(As(t,l,N,s),ee=t.memoizedState),(le=Zn||sd(t,l,le,s,$,ee,H)||e!==null&&e.dependencies!==null&&Jl(e.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,ee,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,ee,H)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ee),y.props=s,y.state=ee,y.context=H,s=le):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),s=!1)}return y=s,fr(e,t),s=(t.flags&128)!==0,y||s?(y=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:y.render(),t.flags|=1,e!==null&&s?(t.child=Ni(t,e.child,null,p),t.child=Ni(t,null,l,p)):At(e,t,l,p),t.memoizedState=y.state,e=t.child):e=Mn(e,t,p),e}function Ad(e,t,l,s){return Ci(),t.flags|=256,At(e,t,l,s),t.child}var Ns={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ms(e){return{baseLanes:e,cachePool:hf()}}function Is(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Jt),e}function bd(e,t,l){var s=t.pendingProps,p=!1,y=(t.flags&128)!==0,E;if((E=y)||(E=e!==null&&e.memoizedState===null?!1:(ct.current&2)!==0),E&&(p=!0,t.flags&=-129),E=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(p?$n(t):jn(),(e=et)?(e=Uh(e,on),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},l=of(e),l.return=t,t.child=l,Et=t,et=null)):e=null,e===null)throw Kn(t);return hu(e)?t.lanes=32:t.lanes=536870912,null}var N=s.children;return s=s.fallback,p?(jn(),p=t.mode,N=dr({mode:"hidden",children:N},p),s=Ei(s,p,l,null),N.return=t,s.return=t,N.sibling=s,t.child=N,s=t.child,s.memoizedState=Ms(l),s.childLanes=Is(e,E,l),t.memoizedState=Ns,nl(null,s)):($n(t),Ds(t,N))}var H=e.memoizedState;if(H!==null&&(N=H.dehydrated,N!==null)){if(y)t.flags&256?($n(t),t.flags&=-257,t=Us(e,t,l)):t.memoizedState!==null?(jn(),t.child=e.child,t.flags|=128,t=null):(jn(),N=s.fallback,p=t.mode,s=dr({mode:"visible",children:s.children},p),N=Ei(N,p,l,null),N.flags|=2,s.return=t,N.return=t,s.sibling=N,t.child=s,Ni(t,e.child,null,l),s=t.child,s.memoizedState=Ms(l),s.childLanes=Is(e,E,l),t.memoizedState=Ns,t=nl(null,s));else if($n(t),hu(N)){if(E=N.nextSibling&&N.nextSibling.dataset,E)var Q=E.dgst;E=Q,s=Error(r(419)),s.stack="",s.digest=E,Fo({value:s,source:null,stack:null}),t=Us(e,t,l)}else if(pt||eo(e,t,l,!1),E=(l&e.childLanes)!==0,pt||E){if(E=$e,E!==null&&(s=cc(E,l),s!==0&&s!==H.retryLane))throw H.retryLane=s,Ti(e,s),Ht(E,e,s),ws;du(N)||Tr(),t=Us(e,t,l)}else du(N)?(t.flags|=192,t.child=e.child,t=null):(e=H.treeContext,et=rn(N.nextSibling),Et=t,He=!0,Jn=null,on=!1,e!==null&&af(t,e),t=Ds(t,s.children),t.flags|=4096);return t}return p?(jn(),N=s.fallback,p=t.mode,H=e.child,Q=H.sibling,s=An(H,{mode:"hidden",children:s.children}),s.subtreeFlags=H.subtreeFlags&65011712,Q!==null?N=An(Q,N):(N=Ei(N,p,l,null),N.flags|=2),N.return=t,s.return=t,s.sibling=N,t.child=s,nl(null,s),s=t.child,N=e.child.memoizedState,N===null?N=Ms(l):(p=N.cachePool,p!==null?(H=dt._currentValue,p=p.parent!==H?{parent:H,pool:H}:p):p=hf(),N={baseLanes:N.baseLanes|l,cachePool:p}),s.memoizedState=N,s.childLanes=Is(e,E,l),t.memoizedState=Ns,nl(e.child,s)):($n(t),l=e.child,e=l.sibling,l=An(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(E=t.deletions,E===null?(t.deletions=[e],t.flags|=16):E.push(e)),t.child=l,t.memoizedState=null,l)}function Ds(e,t){return t=dr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function dr(e,t){return e=qt(22,e,null,t),e.lanes=0,e}function Us(e,t,l){return Ni(t,e.child,null,l),e=Ds(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xd(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Xa(e.return,t,l)}function ks(e,t,l,s,p,y){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:p,treeForkCount:y}:(E.isBackwards=t,E.rendering=null,E.renderingStartTime=0,E.last=s,E.tail=l,E.tailMode=p,E.treeForkCount=y)}function wd(e,t,l){var s=t.pendingProps,p=s.revealOrder,y=s.tail;s=s.children;var E=ct.current,N=(E&2)!==0;if(N?(E=E&1|2,t.flags|=128):E&=1,ae(ct,E),At(e,t,s,l),s=He?Vo:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xd(e,l,t);else if(e.tag===19)xd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(l=t.child,p=null;l!==null;)e=l.alternate,e!==null&&er(e)===null&&(p=l),l=l.sibling;l=p,l===null?(p=t.child,t.child=null):(p=l.sibling,l.sibling=null),ks(t,!1,p,l,y,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=t.child,t.child=null;p!==null;){if(e=p.alternate,e!==null&&er(e)===null){t.child=p;break}e=p.sibling,p.sibling=l,l=p,p=e}ks(t,!0,l,null,y,s);break;case"together":ks(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Mn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ni|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(eo(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,l=An(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=An(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Ls(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Jl(e)))}function ey(e,t,l){switch(t.tag){case 3:Ne(t,t.stateNode.containerInfo),Xn(t,dt,e.memoizedState.cache),Ci();break;case 27:case 5:nt(t);break;case 4:Ne(t,t.stateNode.containerInfo);break;case 10:Xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,rs(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?($n(t),t.flags|=128,null):(l&t.child.childLanes)!==0?bd(e,t,l):($n(t),e=Mn(e,t,l),e!==null?e.sibling:null);$n(t);break;case 19:var p=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(eo(e,t,l,!1),s=(l&t.childLanes)!==0),p){if(s)return wd(e,t,l);t.flags|=128}if(p=t.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ae(ct,ct.current),s)break;return null;case 22:return t.lanes=0,_d(e,t,l,t.pendingProps);case 24:Xn(t,dt,e.memoizedState.cache)}return Mn(e,t,l)}function Rd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)pt=!0;else{if(!Ls(e,l)&&(t.flags&128)===0)return pt=!1,ey(e,t,l);pt=(e.flags&131072)!==0}else pt=!1,He&&(t.flags&1048576)!==0&&rf(t,Vo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=wi(t.elementType),t.type=e,typeof e=="function")Ha(e)?(s=Ii(e,s),t.tag=1,t=Cd(null,t,e,s,l)):(t.tag=0,t=Rs(null,t,e,s,l));else{if(e!=null){var p=e.$$typeof;if(p===B){t.tag=11,t=gd(null,t,e,s,l);break e}else if(p===q){t.tag=14,t=yd(null,t,e,s,l);break e}}throw t=R(e)||e,Error(r(306,t,""))}}return t;case 0:return Rs(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,p=Ii(s,t.pendingProps),Cd(e,t,s,p,l);case 3:e:{if(Ne(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var y=t.memoizedState;p=y.element,ts(e,t),Wo(t,s,null,l);var E=t.memoizedState;if(s=E.cache,Xn(t,dt,s),s!==y.cache&&Za(t,[dt],l,!0),Qo(),s=E.element,y.isDehydrated)if(y={element:s,isDehydrated:!1,cache:E.cache},t.updateQueue.baseState=y,t.memoizedState=y,t.flags&256){t=Ad(e,t,s,l);break e}else if(s!==p){p=en(Error(r(424)),t),Fo(p),t=Ad(e,t,s,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=rn(e.firstChild),Et=t,He=!0,Jn=null,on=!0,l=_f(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ci(),s===p){t=Mn(e,t,l);break e}At(e,t,s,l)}t=t.child}return t;case 26:return fr(e,t),e===null?(l=Oh(t.type,null,t.pendingProps,null))?t.memoizedState=l:He||(l=t.type,e=t.pendingProps,s=Rr(Ae.current).createElement(l),s[Tt]=t,s[kt]=e,bt(s,l,e),vt(s),t.stateNode=s):t.memoizedState=Oh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return nt(t),e===null&&He&&(s=t.stateNode=zh(t.type,t.pendingProps,Ae.current),Et=t,on=!0,p=et,ai(t.type)?(pu=p,et=rn(s.firstChild)):et=p),At(e,t,t.pendingProps.children,l),fr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((p=s=et)&&(s=My(s,t.type,t.pendingProps,on),s!==null?(t.stateNode=s,Et=t,et=rn(s.firstChild),on=!1,p=!0):p=!1),p||Kn(t)),nt(t),p=t.type,y=t.pendingProps,E=e!==null?e.memoizedProps:null,s=y.children,uu(p,y)?s=null:E!==null&&uu(p,E)&&(t.flags|=32),t.memoizedState!==null&&(p=ss(e,t,Y0,null,null,l),yl._currentValue=p),fr(e,t),At(e,t,s,l),t.child;case 6:return e===null&&He&&((e=l=et)&&(l=Iy(l,t.pendingProps,on),l!==null?(t.stateNode=l,Et=t,et=null,e=!0):e=!1),e||Kn(t)),null;case 13:return bd(e,t,l);case 4:return Ne(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ni(t,null,s,l):At(e,t,s,l),t.child;case 11:return gd(e,t,t.type,t.pendingProps,l);case 7:return At(e,t,t.pendingProps,l),t.child;case 8:return At(e,t,t.pendingProps.children,l),t.child;case 12:return At(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,Xn(t,t.type,s.value),At(e,t,s.children,l),t.child;case 9:return p=t.type._context,s=t.pendingProps.children,bi(t),p=Ct(p),s=s(p),t.flags|=1,At(e,t,s,l),t.child;case 14:return yd(e,t,t.type,t.pendingProps,l);case 15:return vd(e,t,t.type,t.pendingProps,l);case 19:return wd(e,t,l);case 31:return j0(e,t,l);case 22:return _d(e,t,l,t.pendingProps);case 24:return bi(t),s=Ct(dt),e===null?(p=$a(),p===null&&(p=$e,y=Qa(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),t.memoizedState={parent:s,cache:p},es(t),Xn(t,dt,p)):((e.lanes&l)!==0&&(ts(e,t),Wo(t,null,null,l),Qo()),p=e.memoizedState,y=t.memoizedState,p.parent!==s?(p={parent:s,cache:s},t.memoizedState=p,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=p),Xn(t,dt,s)):(s=y.cache,Xn(t,dt,s),s!==p.cache&&Za(t,[dt],l,!0))),At(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function In(e){e.flags|=4}function zs(e,t,l,s,p){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(th())e.flags|=8192;else throw Ri=Ql,ja}else e.flags&=-16777217}function Nd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fh(t))if(th())e.flags|=8192;else throw Ri=Ql,ja}function hr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ac():536870912,e.lanes|=t,ho|=t)}function il(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var p=e.child;p!==null;)l|=p.lanes|p.childLanes,s|=p.subtreeFlags&65011712,s|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)l|=p.lanes|p.childLanes,s|=p.subtreeFlags,s|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function ty(e,t,l){var s=t.pendingProps;switch(Fa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return tt(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),wn(dt),we(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ji(t)?In(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ja())),tt(t),null;case 26:var p=t.type,y=t.memoizedState;return e===null?(In(t),y!==null?(tt(t),Nd(t,y)):(tt(t),zs(t,p,null,s,l))):y?y!==e.memoizedState?(In(t),tt(t),Nd(t,y)):(tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&In(t),tt(t),zs(t,p,e,s,l)),null;case 27:if(je(t),l=Ae.current,p=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return tt(t),null}e=ie.current,ji(t)?sf(t):(e=zh(p,s,l),t.stateNode=e,In(t))}return tt(t),null;case 5:if(je(t),p=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return tt(t),null}if(y=ie.current,ji(t))sf(t);else{var E=Rr(Ae.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof s.is=="string"?E.createElement("select",{is:s.is}):E.createElement("select"),s.multiple?y.multiple=!0:s.size&&(y.size=s.size);break;default:y=typeof s.is=="string"?E.createElement(p,{is:s.is}):E.createElement(p)}}y[Tt]=t,y[kt]=s;e:for(E=t.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===t)break e;for(;E.sibling===null;){if(E.return===null||E.return===t)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}t.stateNode=y;e:switch(bt(y,p,s),p){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&In(t)}}return tt(t),zs(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=Ae.current,ji(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,p=Et,p!==null)switch(p.tag){case 27:case 5:s=p.memoizedProps}e[Tt]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||bh(e.nodeValue,l)),e||Kn(t,!0)}else e=Rr(e).createTextNode(s),e[Tt]=t,t.stateNode=e}return tt(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=ji(t),l!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Tt]=t}else Ci(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),e=!1}else l=Ja(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Ft(t),t):(Ft(t),null);if((t.flags&128)!==0)throw Error(r(558))}return tt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=ji(t),s!==null&&s.dehydrated!==null){if(e===null){if(!p)throw Error(r(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Tt]=t}else Ci(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),p=!1}else p=Ja(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return t.flags&256?(Ft(t),t):(Ft(t),null)}return Ft(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,p=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(p=s.alternate.memoizedState.cachePool.pool),y=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),y!==p&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),hr(t,t.updateQueue),tt(t),null);case 4:return we(),e===null&&ou(t.stateNode.containerInfo),tt(t),null;case 10:return wn(t.type),tt(t),null;case 19:if(z(ct),s=t.memoizedState,s===null)return tt(t),null;if(p=(t.flags&128)!==0,y=s.rendering,y===null)if(p)il(s,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=er(e),y!==null){for(t.flags|=128,il(s,!1),e=y.updateQueue,t.updateQueue=e,hr(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)nf(l,e),l=l.sibling;return ae(ct,ct.current&1|2),He&&bn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&_e()>vr&&(t.flags|=128,p=!0,il(s,!1),t.lanes=4194304)}else{if(!p)if(e=er(y),e!==null){if(t.flags|=128,p=!0,e=e.updateQueue,t.updateQueue=e,hr(t,e),il(s,!0),s.tail===null&&s.tailMode==="hidden"&&!y.alternate&&!He)return tt(t),null}else 2*_e()-s.renderingStartTime>vr&&l!==536870912&&(t.flags|=128,p=!0,il(s,!1),t.lanes=4194304);s.isBackwards?(y.sibling=t.child,t.child=y):(e=s.last,e!==null?e.sibling=y:t.child=y,s.last=y)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_e(),e.sibling=null,l=ct.current,ae(ct,p?l&1|2:l&1),He&&bn(t,s.treeForkCount),e):(tt(t),null);case 22:case 23:return Ft(t),ls(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),l=t.updateQueue,l!==null&&hr(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&z(xi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),wn(dt),tt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function ny(e,t){switch(Fa(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wn(dt),we(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return je(t),null;case 31:if(t.memoizedState!==null){if(Ft(t),t.alternate===null)throw Error(r(340));Ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ft(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(ct),null;case 4:return we(),null;case 10:return wn(t.type),null;case 22:case 23:return Ft(t),ls(),e!==null&&z(xi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wn(dt),null;case 25:return null;default:return null}}function Md(e,t){switch(Fa(t),t.tag){case 3:wn(dt),we();break;case 26:case 27:case 5:je(t);break;case 4:we();break;case 31:t.memoizedState!==null&&Ft(t);break;case 13:Ft(t);break;case 19:z(ct);break;case 10:wn(t.type);break;case 22:case 23:Ft(t),ls(),e!==null&&z(xi);break;case 24:wn(dt)}}function ol(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var p=s.next;l=p;do{if((l.tag&e)===e){s=void 0;var y=l.create,E=l.inst;s=y(),E.destroy=s}l=l.next}while(l!==p)}}catch(N){Ke(t,t.return,N)}}function ei(e,t,l){try{var s=t.updateQueue,p=s!==null?s.lastEffect:null;if(p!==null){var y=p.next;s=y;do{if((s.tag&e)===e){var E=s.inst,N=E.destroy;if(N!==void 0){E.destroy=void 0,p=t;var H=l,Q=N;try{Q()}catch(le){Ke(p,H,le)}}}s=s.next}while(s!==y)}}catch(le){Ke(t,t.return,le)}}function Id(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Tf(t,l)}catch(s){Ke(e,e.return,s)}}}function Dd(e,t,l){l.props=Ii(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Ke(e,t,s)}}function ll(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(p){Ke(e,t,p)}}function _n(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(p){Ke(e,t,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ke(e,t,p)}else l.current=null}function Ud(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(p){Ke(e,e.return,p)}}function Gs(e,t,l){try{var s=e.stateNode;Ay(s,e.type,l,t),s[kt]=t}catch(p){Ke(e,e.return,p)}}function kd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ai(e.type)||e.tag===4}function Bs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Os(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=En));else if(s!==4&&(s===27&&ai(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Os(e,t,l),e=e.sibling;e!==null;)Os(e,t,l),e=e.sibling}function pr(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&ai(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(pr(e,t,l),e=e.sibling;e!==null;)pr(e,t,l),e=e.sibling}function Ld(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,p=t.attributes;p.length;)t.removeAttributeNode(p[0]);bt(t,s,l),t[Tt]=e,t[kt]=l}catch(y){Ke(e,e.return,y)}}var Dn=!1,mt=!1,Hs=!1,zd=typeof WeakSet=="function"?WeakSet:Set,_t=null;function iy(e,t){if(e=e.containerInfo,au=Lr,e=Kc(e),Ua(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var p=s.anchorOffset,y=s.focusNode;s=s.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,N=-1,H=-1,Q=0,le=0,de=e,$=null;t:for(;;){for(var ee;de!==l||p!==0&&de.nodeType!==3||(N=E+p),de!==y||s!==0&&de.nodeType!==3||(H=E+s),de.nodeType===3&&(E+=de.nodeValue.length),(ee=de.firstChild)!==null;)$=de,de=ee;for(;;){if(de===e)break t;if($===l&&++Q===p&&(N=E),$===y&&++le===s&&(H=E),(ee=de.nextSibling)!==null)break;de=$,$=de.parentNode}de=ee}l=N===-1||H===-1?null:{start:N,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(su={focusedElem:e,selectionRange:l},Lr=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){switch(t=_t,y=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)p=e[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,l=t,p=y.memoizedProps,y=y.memoizedState,s=l.stateNode;try{var Ee=Ii(l.type,p);e=s.getSnapshotBeforeUpdate(Ee,y),s.__reactInternalSnapshotBeforeUpdate=e}catch(Re){Ke(l,l.return,Re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)fu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}}function Gd(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:kn(e,l),s&4&&ol(5,l);break;case 1:if(kn(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(E){Ke(l,l.return,E)}else{var p=Ii(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(p,t,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Ke(l,l.return,E)}}s&64&&Id(l),s&512&&ll(l,l.return);break;case 3:if(kn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Tf(e,t)}catch(E){Ke(l,l.return,E)}}break;case 27:t===null&&s&4&&Ld(l);case 26:case 5:kn(e,l),t===null&&s&4&&Ud(l),s&512&&ll(l,l.return);break;case 12:kn(e,l);break;case 31:kn(e,l),s&4&&Hd(e,l);break;case 13:kn(e,l),s&4&&Pd(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=dy.bind(null,l),Dy(e,l))));break;case 22:if(s=l.memoizedState!==null||Dn,!s){t=t!==null&&t.memoizedState!==null||mt,p=Dn;var y=mt;Dn=s,(mt=t)&&!y?Ln(e,l,(l.subtreeFlags&8772)!==0):kn(e,l),Dn=p,mt=y}break;case 30:break;default:kn(e,l)}}function Bd(e){var t=e.alternate;t!==null&&(e.alternate=null,Bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ga(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var it=null,zt=!1;function Un(e,t,l){for(l=l.child;l!==null;)Od(e,t,l),l=l.sibling}function Od(e,t,l){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(We,l)}catch{}switch(l.tag){case 26:mt||_n(l,t),Un(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mt||_n(l,t);var s=it,p=zt;ai(l.type)&&(it=l.stateNode,zt=!1),Un(e,t,l),pl(l.stateNode),it=s,zt=p;break;case 5:mt||_n(l,t);case 6:if(s=it,p=zt,it=null,Un(e,t,l),it=s,zt=p,it!==null)if(zt)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(l.stateNode)}catch(y){Ke(l,t,y)}else try{it.removeChild(l.stateNode)}catch(y){Ke(l,t,y)}break;case 18:it!==null&&(zt?(e=it,Ih(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),To(e)):Ih(it,l.stateNode));break;case 4:s=it,p=zt,it=l.stateNode.containerInfo,zt=!0,Un(e,t,l),it=s,zt=p;break;case 0:case 11:case 14:case 15:ei(2,l,t),mt||ei(4,l,t),Un(e,t,l);break;case 1:mt||(_n(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Dd(l,t,s)),Un(e,t,l);break;case 21:Un(e,t,l);break;case 22:mt=(s=mt)||l.memoizedState!==null,Un(e,t,l),mt=s;break;default:Un(e,t,l)}}function Hd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{To(e)}catch(l){Ke(t,t.return,l)}}}function Pd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{To(e)}catch(l){Ke(t,t.return,l)}}function oy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zd),t;default:throw Error(r(435,e.tag))}}function mr(e,t){var l=oy(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var p=hy.bind(null,e,s);s.then(p,p)}})}function Gt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var p=l[s],y=e,E=t,N=E;e:for(;N!==null;){switch(N.tag){case 27:if(ai(N.type)){it=N.stateNode,zt=!1;break e}break;case 5:it=N.stateNode,zt=!1;break e;case 3:case 4:it=N.stateNode.containerInfo,zt=!0;break e}N=N.return}if(it===null)throw Error(r(160));Od(y,E,p),it=null,zt=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)qd(t,e),t=t.sibling}var fn=null;function qd(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(t,e),Bt(e),s&4&&(ei(3,e,e.return),ol(3,e),ei(5,e,e.return));break;case 1:Gt(t,e),Bt(e),s&512&&(mt||l===null||_n(l,l.return)),s&64&&Dn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var p=fn;if(Gt(t,e),Bt(e),s&512&&(mt||l===null||_n(l,l.return)),s&4){var y=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,p=p.ownerDocument||p;t:switch(s){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Do]||y[Tt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(s),p.head.insertBefore(y,p.querySelector("head > title"))),bt(y,s,l),y[Tt]=e,vt(y),s=y;break e;case"link":var E=qh("link","href",p).get(s+(l.href||""));if(E){for(var N=0;N<E.length;N++)if(y=E[N],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(N,1);break t}}y=p.createElement(s),bt(y,s,l),p.head.appendChild(y);break;case"meta":if(E=qh("meta","content",p).get(s+(l.content||""))){for(N=0;N<E.length;N++)if(y=E[N],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(N,1);break t}}y=p.createElement(s),bt(y,s,l),p.head.appendChild(y);break;default:throw Error(r(468,s))}y[Tt]=e,vt(y),s=y}e.stateNode=s}else Vh(p,e.type,e.stateNode);else e.stateNode=Ph(p,s,e.memoizedProps);else y!==s?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,s===null?Vh(p,e.type,e.stateNode):Ph(p,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Gs(e,e.memoizedProps,l.memoizedProps)}break;case 27:Gt(t,e),Bt(e),s&512&&(mt||l===null||_n(l,l.return)),l!==null&&s&4&&Gs(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Gt(t,e),Bt(e),s&512&&(mt||l===null||_n(l,l.return)),e.flags&32){p=e.stateNode;try{Vi(p,"")}catch(Ee){Ke(e,e.return,Ee)}}s&4&&e.stateNode!=null&&(p=e.memoizedProps,Gs(e,p,l!==null?l.memoizedProps:p)),s&1024&&(Hs=!0);break;case 6:if(Gt(t,e),Bt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(Ee){Ke(e,e.return,Ee)}}break;case 3:if(Ir=null,p=fn,fn=Nr(t.containerInfo),Gt(t,e),fn=p,Bt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{To(t.containerInfo)}catch(Ee){Ke(e,e.return,Ee)}Hs&&(Hs=!1,Vd(e));break;case 4:s=fn,fn=Nr(e.stateNode.containerInfo),Gt(t,e),Bt(e),fn=s;break;case 12:Gt(t,e),Bt(e);break;case 31:Gt(t,e),Bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,mr(e,s)));break;case 13:Gt(t,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(yr=_e()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,mr(e,s)));break;case 22:p=e.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,Q=Dn,le=mt;if(Dn=Q||p,mt=le||H,Gt(t,e),mt=le,Dn=Q,Bt(e),s&8192)e:for(t=e.stateNode,t._visibility=p?t._visibility&-2:t._visibility|1,p&&(l===null||H||Dn||mt||Di(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){H=l=t;try{if(y=H.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{N=H.stateNode;var de=H.memoizedProps.style,$=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Ee){Ke(H,H.return,Ee)}}}else if(t.tag===6){if(l===null){H=t;try{H.stateNode.nodeValue=p?"":H.memoizedProps}catch(Ee){Ke(H,H.return,Ee)}}}else if(t.tag===18){if(l===null){H=t;try{var ee=H.stateNode;p?Dh(ee,!0):Dh(H.stateNode,!1)}catch(Ee){Ke(H,H.return,Ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,mr(e,l))));break;case 19:Gt(t,e),Bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,mr(e,s)));break;case 30:break;case 21:break;default:Gt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(kd(s)){l=s;break}s=s.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,y=Bs(e);pr(e,y,p);break;case 5:var E=l.stateNode;l.flags&32&&(Vi(E,""),l.flags&=-33);var N=Bs(e);pr(e,N,E);break;case 3:case 4:var H=l.stateNode.containerInfo,Q=Bs(e);Os(e,Q,H);break;default:throw Error(r(161))}}catch(le){Ke(e,e.return,le)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function kn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Gd(e,t.alternate,t),t=t.sibling}function Di(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ei(4,t,t.return),Di(t);break;case 1:_n(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Dd(t,t.return,l),Di(t);break;case 27:pl(t.stateNode);case 26:case 5:_n(t,t.return),Di(t);break;case 22:t.memoizedState===null&&Di(t);break;case 30:Di(t);break;default:Di(t)}e=e.sibling}}function Ln(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,p=e,y=t,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ln(p,y,l),ol(4,y);break;case 1:if(Ln(p,y,l),s=y,p=s.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){Ke(s,s.return,Q)}if(s=y,p=s.updateQueue,p!==null){var N=s.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)Sf(H[p],N)}catch(Q){Ke(s,s.return,Q)}}l&&E&64&&Id(y),ll(y,y.return);break;case 27:Ld(y);case 26:case 5:Ln(p,y,l),l&&s===null&&E&4&&Ud(y),ll(y,y.return);break;case 12:Ln(p,y,l);break;case 31:Ln(p,y,l),l&&E&4&&Hd(p,y);break;case 13:Ln(p,y,l),l&&E&4&&Pd(p,y);break;case 22:y.memoizedState===null&&Ln(p,y,l),ll(y,y.return);break;case 30:break;default:Ln(p,y,l)}t=t.sibling}}function Ps(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Yo(l))}function qs(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yo(e))}function dn(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fd(e,t,l,s),t=t.sibling}function Fd(e,t,l,s){var p=t.flags;switch(t.tag){case 0:case 11:case 15:dn(e,t,l,s),p&2048&&ol(9,t);break;case 1:dn(e,t,l,s);break;case 3:dn(e,t,l,s),p&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yo(e)));break;case 12:if(p&2048){dn(e,t,l,s),e=t.stateNode;try{var y=t.memoizedProps,E=y.id,N=y.onPostCommit;typeof N=="function"&&N(E,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){Ke(t,t.return,H)}}else dn(e,t,l,s);break;case 31:dn(e,t,l,s);break;case 13:dn(e,t,l,s);break;case 23:break;case 22:y=t.stateNode,E=t.alternate,t.memoizedState!==null?y._visibility&2?dn(e,t,l,s):rl(e,t):y._visibility&2?dn(e,t,l,s):(y._visibility|=2,uo(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),p&2048&&Ps(E,t);break;case 24:dn(e,t,l,s),p&2048&&qs(t.alternate,t);break;default:dn(e,t,l,s)}}function uo(e,t,l,s,p){for(p=p&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var y=e,E=t,N=l,H=s,Q=E.flags;switch(E.tag){case 0:case 11:case 15:uo(y,E,N,H,p),ol(8,E);break;case 23:break;case 22:var le=E.stateNode;E.memoizedState!==null?le._visibility&2?uo(y,E,N,H,p):rl(y,E):(le._visibility|=2,uo(y,E,N,H,p)),p&&Q&2048&&Ps(E.alternate,E);break;case 24:uo(y,E,N,H,p),p&&Q&2048&&qs(E.alternate,E);break;default:uo(y,E,N,H,p)}t=t.sibling}}function rl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,p=s.flags;switch(s.tag){case 22:rl(l,s),p&2048&&Ps(s.alternate,s);break;case 24:rl(l,s),p&2048&&qs(s.alternate,s);break;default:rl(l,s)}t=t.sibling}}var al=8192;function co(e,t,l){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Yd(e,t,l),e=e.sibling}function Yd(e,t,l){switch(e.tag){case 26:co(e,t,l),e.flags&al&&e.memoizedState!==null&&Fy(l,fn,e.memoizedState,e.memoizedProps);break;case 5:co(e,t,l);break;case 3:case 4:var s=fn;fn=Nr(e.stateNode.containerInfo),co(e,t,l),fn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=al,al=16777216,co(e,t,l),al=s):co(e,t,l));break;default:co(e,t,l)}}function Jd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function sl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];_t=s,Xd(s,e)}Jd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kd(e),e=e.sibling}function Kd(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&ei(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,gr(e)):sl(e);break;default:sl(e)}}function gr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];_t=s,Xd(s,e)}Jd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ei(8,t,t.return),gr(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,gr(t));break;default:gr(t)}e=e.sibling}}function Xd(e,t){for(;_t!==null;){var l=_t;switch(l.tag){case 0:case 11:case 15:ei(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Yo(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,_t=s;else e:for(l=e;_t!==null;){s=_t;var p=s.sibling,y=s.return;if(Bd(s),s===l){_t=null;break e}if(p!==null){p.return=y,_t=p;break e}_t=y}}}var ly={getCacheForType:function(e){var t=Ct(dt),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Ct(dt).controller.signal}},ry=typeof WeakMap=="function"?WeakMap:Map,Fe=0,$e=null,ze=null,Be=0,Je=0,Yt=null,ti=!1,fo=!1,Vs=!1,zn=0,st=0,ni=0,Ui=0,Fs=0,Jt=0,ho=0,ul=null,Ot=null,Ys=!1,yr=0,Zd=0,vr=1/0,_r=null,ii=null,gt=0,oi=null,po=null,Gn=0,Js=0,Ks=null,Qd=null,cl=0,Xs=null;function Kt(){return(Fe&2)!==0&&Be!==0?Be&-Be:K.T!==null?eu():fc()}function Wd(){if(Jt===0)if((Be&536870912)===0||He){var e=gi;gi<<=1,(gi&3932160)===0&&(gi=262144),Jt=e}else Jt=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Jt}function Ht(e,t,l){(e===$e&&(Je===2||Je===9)||e.cancelPendingCommit!==null)&&(mo(e,0),li(e,Be,Jt,!1)),Io(e,l),((Fe&2)===0||e!==$e)&&(e===$e&&((Fe&2)===0&&(Ui|=l),st===4&&li(e,Be,Jt,!1)),Sn(e))}function $d(e,t,l){if((Fe&6)!==0)throw Error(r(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Mo(e,t),p=s?uy(e,t):Qs(e,t,!0),y=s;do{if(p===0){fo&&!s&&li(e,t,0,!1);break}else{if(l=e.current.alternate,y&&!ay(l)){p=Qs(e,t,!1),y=!1;continue}if(p===2){if(y=t,e.errorRecoveryDisabledLanes&y)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){t=E;e:{var N=e;p=ul;var H=N.current.memoizedState.isDehydrated;if(H&&(mo(N,E).flags|=256),E=Qs(N,E,!1),E!==2){if(Vs&&!H){N.errorRecoveryDisabledLanes|=y,Ui|=y,p=4;break e}y=Ot,Ot=p,y!==null&&(Ot===null?Ot=y:Ot.push.apply(Ot,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){mo(e,0),li(e,t,0,!0);break}e:{switch(s=e,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:li(s,t,Jt,!ti);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(p=yr+300-_e(),10<p)){if(li(s,t,Jt,!ti),Nl(s,0,!0)!==0)break e;Gn=t,s.timeoutHandle=Nh(jd.bind(null,s,l,Ot,_r,Ys,t,Jt,Ui,ho,ti,y,"Throttled",-0,0),p);break e}jd(s,l,Ot,_r,Ys,t,Jt,Ui,ho,ti,y,null,-0,0)}}break}while(!0);Sn(e)}function jd(e,t,l,s,p,y,E,N,H,Q,le,de,$,ee){if(e.timeoutHandle=-1,de=t.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},Yd(t,y,de);var Ee=(y&62914560)===y?yr-_e():(y&4194048)===y?Zd-_e():0;if(Ee=Yy(de,Ee),Ee!==null){Gn=y,e.cancelPendingCommit=Ee(ah.bind(null,e,t,y,l,s,p,E,N,H,le,de,null,$,ee)),li(e,y,E,!Q);return}}ah(e,t,y,l,s,p,E,N,H)}function ay(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var p=l[s],y=p.getSnapshot;p=p.value;try{if(!Pt(y(),p))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function li(e,t,l,s){t&=~Fs,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var p=t;0<p;){var y=31-lt(p),E=1<<y;s[y]=-1,p&=~E}l!==0&&sc(e,l,t)}function Sr(){return(Fe&6)===0?(fl(0),!1):!0}function Zs(){if(ze!==null){if(Je===0)var e=ze.return;else e=ze,xn=Ai=null,fs(e),oo=null,Ko=0,e=ze;for(;e!==null;)Md(e.alternate,e),e=e.return;ze=null}}function mo(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,wy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Gn=0,Zs(),$e=e,ze=l=An(e.current,null),Be=t,Je=0,Yt=null,ti=!1,fo=Mo(e,t),Vs=!1,ho=Jt=Fs=Ui=ni=st=0,Ot=ul=null,Ys=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var p=31-lt(s),y=1<<p;t|=e[p],s&=~y}return zn=t,Pl(),l}function eh(e,t){Ue=null,K.H=tl,t===io||t===Zl?(t=gf(),Je=3):t===ja?(t=gf(),Je=4):Je=t===ws?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yt=t,ze===null&&(st=1,ur(e,en(t,e.current)))}function th(){var e=Vt.current;return e===null?!0:(Be&4194048)===Be?ln===null:(Be&62914560)===Be||(Be&536870912)!==0?e===ln:!1}function nh(){var e=K.H;return K.H=tl,e===null?tl:e}function ih(){var e=K.A;return K.A=ly,e}function Tr(){st=4,ti||(Be&4194048)!==Be&&Vt.current!==null||(fo=!0),(ni&134217727)===0&&(Ui&134217727)===0||$e===null||li($e,Be,Jt,!1)}function Qs(e,t,l){var s=Fe;Fe|=2;var p=nh(),y=ih();($e!==e||Be!==t)&&(_r=null,mo(e,t)),t=!1;var E=st;e:do try{if(Je!==0&&ze!==null){var N=ze,H=Yt;switch(Je){case 8:Zs(),E=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(t=!0);var Q=Je;if(Je=0,Yt=null,go(e,N,H,Q),l&&fo){E=0;break e}break;default:Q=Je,Je=0,Yt=null,go(e,N,H,Q)}}sy(),E=st;break}catch(le){eh(e,le)}while(!0);return t&&e.shellSuspendCounter++,xn=Ai=null,Fe=s,K.H=p,K.A=y,ze===null&&($e=null,Be=0,Pl()),E}function sy(){for(;ze!==null;)oh(ze)}function uy(e,t){var l=Fe;Fe|=2;var s=nh(),p=ih();$e!==e||Be!==t?(_r=null,vr=_e()+500,mo(e,t)):fo=Mo(e,t);e:do try{if(Je!==0&&ze!==null){t=ze;var y=Yt;t:switch(Je){case 1:Je=0,Yt=null,go(e,t,y,1);break;case 2:case 9:if(pf(y)){Je=0,Yt=null,lh(t);break}t=function(){Je!==2&&Je!==9||$e!==e||(Je=7),Sn(e)},y.then(t,t);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:pf(y)?(Je=0,Yt=null,lh(t)):(Je=0,Yt=null,go(e,t,y,7));break;case 5:var E=null;switch(ze.tag){case 26:E=ze.memoizedState;case 5:case 27:var N=ze;if(E?Fh(E):N.stateNode.complete){Je=0,Yt=null;var H=N.sibling;if(H!==null)ze=H;else{var Q=N.return;Q!==null?(ze=Q,Er(Q)):ze=null}break t}}Je=0,Yt=null,go(e,t,y,5);break;case 6:Je=0,Yt=null,go(e,t,y,6);break;case 8:Zs(),st=6;break e;default:throw Error(r(462))}}cy();break}catch(le){eh(e,le)}while(!0);return xn=Ai=null,K.H=s,K.A=p,Fe=l,ze!==null?0:($e=null,Be=0,Pl(),st)}function cy(){for(;ze!==null&&!W();)oh(ze)}function oh(e){var t=Rd(e.alternate,e,zn);e.memoizedProps=e.pendingProps,t===null?Er(e):ze=t}function lh(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Ed(l,t,t.pendingProps,t.type,void 0,Be);break;case 11:t=Ed(l,t,t.pendingProps,t.type.render,t.ref,Be);break;case 5:fs(t);default:Md(l,t),t=ze=nf(t,zn),t=Rd(l,t,zn)}e.memoizedProps=e.pendingProps,t===null?Er(e):ze=t}function go(e,t,l,s){xn=Ai=null,fs(t),oo=null,Ko=0;var p=t.return;try{if($0(e,p,t,l,Be)){st=1,ur(e,en(l,e.current)),ze=null;return}}catch(y){if(p!==null)throw ze=p,y;st=1,ur(e,en(l,e.current)),ze=null;return}t.flags&32768?(He||s===1?e=!0:fo||(Be&536870912)!==0?e=!1:(ti=e=!0,(s===2||s===9||s===3||s===6)&&(s=Vt.current,s!==null&&s.tag===13&&(s.flags|=16384))),rh(t,e)):Er(t)}function Er(e){var t=e;do{if((t.flags&32768)!==0){rh(t,ti);return}e=t.return;var l=ty(t.alternate,t,zn);if(l!==null){ze=l;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);st===0&&(st=5)}function rh(e,t){do{var l=ny(e.alternate,e);if(l!==null){l.flags&=32767,ze=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){ze=e;return}ze=e=l}while(e!==null);st=6,ze=null}function ah(e,t,l,s,p,y,E,N,H){e.cancelPendingCommit=null;do Cr();while(gt!==0);if((Fe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(y=t.lanes|t.childLanes,y|=Ba,Vg(e,l,y,E,N,H),e===$e&&(ze=$e=null,Be=0),po=t,oi=e,Gn=l,Js=y,Ks=p,Qd=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,py(Le,function(){return dh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=K.T,K.T=null,p=J.p,J.p=2,E=Fe,Fe|=4;try{iy(e,t,l)}finally{Fe=E,J.p=p,K.T=s}}gt=1,sh(),uh(),ch()}}function sh(){if(gt===1){gt=0;var e=oi,t=po,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var s=J.p;J.p=2;var p=Fe;Fe|=4;try{qd(t,e);var y=su,E=Kc(e.containerInfo),N=y.focusedElem,H=y.selectionRange;if(E!==N&&N&&N.ownerDocument&&Jc(N.ownerDocument.documentElement,N)){if(H!==null&&Ua(N)){var Q=H.start,le=H.end;if(le===void 0&&(le=Q),"selectionStart"in N)N.selectionStart=Q,N.selectionEnd=Math.min(le,N.value.length);else{var de=N.ownerDocument||document,$=de&&de.defaultView||window;if($.getSelection){var ee=$.getSelection(),Ee=N.textContent.length,Re=Math.min(H.start,Ee),Qe=H.end===void 0?Re:Math.min(H.end,Ee);!ee.extend&&Re>Qe&&(E=Qe,Qe=Re,Re=E);var Y=Yc(N,Re),P=Yc(N,Qe);if(Y&&P&&(ee.rangeCount!==1||ee.anchorNode!==Y.node||ee.anchorOffset!==Y.offset||ee.focusNode!==P.node||ee.focusOffset!==P.offset)){var Z=de.createRange();Z.setStart(Y.node,Y.offset),ee.removeAllRanges(),Re>Qe?(ee.addRange(Z),ee.extend(P.node,P.offset)):(Z.setEnd(P.node,P.offset),ee.addRange(Z))}}}}for(de=[],ee=N;ee=ee.parentNode;)ee.nodeType===1&&de.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var ce=de[N];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Lr=!!au,su=au=null}finally{Fe=p,J.p=s,K.T=l}}e.current=t,gt=2}}function uh(){if(gt===2){gt=0;var e=oi,t=po,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var s=J.p;J.p=2;var p=Fe;Fe|=4;try{Gd(e,t.alternate,t)}finally{Fe=p,J.p=s,K.T=l}}gt=3}}function ch(){if(gt===4||gt===3){gt=0,ge();var e=oi,t=po,l=Gn,s=Qd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?gt=5:(gt=0,po=oi=null,fh(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(ii=null),pa(l),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(We,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=K.T,p=J.p,J.p=2,K.T=null;try{for(var y=e.onRecoverableError,E=0;E<s.length;E++){var N=s[E];y(N.value,{componentStack:N.stack})}}finally{K.T=t,J.p=p}}(Gn&3)!==0&&Cr(),Sn(e),p=e.pendingLanes,(l&261930)!==0&&(p&42)!==0?e===Xs?cl++:(cl=0,Xs=e):cl=0,fl(0)}}function fh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yo(t)))}function Cr(){return sh(),uh(),ch(),dh()}function dh(){if(gt!==5)return!1;var e=oi,t=Js;Js=0;var l=pa(Gn),s=K.T,p=J.p;try{J.p=32>l?32:l,K.T=null,l=Ks,Ks=null;var y=oi,E=Gn;if(gt=0,po=oi=null,Gn=0,(Fe&6)!==0)throw Error(r(331));var N=Fe;if(Fe|=4,Kd(y.current),Fd(y,y.current,E,l),Fe=N,fl(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(We,y)}catch{}return!0}finally{J.p=p,K.T=s,fh(e,t)}}function hh(e,t,l){t=en(l,t),t=xs(e.stateNode,t,2),e=Wn(e,t,2),e!==null&&(Io(e,2),Sn(e))}function Ke(e,t,l){if(e.tag===3)hh(e,e,l);else for(;t!==null;){if(t.tag===3){hh(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ii===null||!ii.has(s))){e=en(l,e),l=pd(2),s=Wn(t,l,2),s!==null&&(md(l,s,t,e),Io(s,2),Sn(s));break}}t=t.return}}function Ws(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new ry;var p=new Set;s.set(t,p)}else p=s.get(t),p===void 0&&(p=new Set,s.set(t,p));p.has(l)||(Vs=!0,p.add(l),e=fy.bind(null,e,t,l),t.then(e,e))}function fy(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,$e===e&&(Be&l)===l&&(st===4||st===3&&(Be&62914560)===Be&&300>_e()-yr?(Fe&2)===0&&mo(e,0):Fs|=l,ho===Be&&(ho=0)),Sn(e)}function ph(e,t){t===0&&(t=ac()),e=Ti(e,t),e!==null&&(Io(e,t),Sn(e))}function dy(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),ph(e,l)}function hy(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,p=e.memoizedState;p!==null&&(l=p.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),ph(e,l)}function py(e,t){return he(e,t)}var Ar=null,yo=null,$s=!1,br=!1,js=!1,ri=0;function Sn(e){e!==yo&&e.next===null&&(yo===null?Ar=yo=e:yo=yo.next=e),br=!0,$s||($s=!0,gy())}function fl(e,t){if(!js&&br){js=!0;do for(var l=!1,s=Ar;s!==null;){if(e!==0){var p=s.pendingLanes;if(p===0)var y=0;else{var E=s.suspendedLanes,N=s.pingedLanes;y=(1<<31-lt(42|e)+1)-1,y&=p&~(E&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,vh(s,y))}else y=Be,y=Nl(s,s===$e?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(y&3)===0||Mo(s,y)||(l=!0,vh(s,y));s=s.next}while(l);js=!1}}function my(){mh()}function mh(){br=$s=!1;var e=0;ri!==0&&xy()&&(e=ri);for(var t=_e(),l=null,s=Ar;s!==null;){var p=s.next,y=gh(s,t);y===0?(s.next=null,l===null?Ar=p:l.next=p,p===null&&(yo=l)):(l=s,(e!==0||(y&3)!==0)&&(br=!0)),s=p}gt!==0&&gt!==5||fl(e),ri!==0&&(ri=0)}function gh(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,p=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var E=31-lt(y),N=1<<E,H=p[E];H===-1?((N&l)===0||(N&s)!==0)&&(p[E]=qg(N,t)):H<=t&&(e.expiredLanes|=N),y&=~N}if(t=$e,l=Be,l=Nl(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(Je===2||Je===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&pe(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Mo(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&pe(s),pa(l)){case 2:case 8:l=Ye;break;case 32:l=Le;break;case 268435456:l=qn;break;default:l=Le}return s=yh.bind(null,e),l=he(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&pe(s),e.callbackPriority=2,e.callbackNode=null,2}function yh(e,t){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Cr()&&e.callbackNode!==l)return null;var s=Be;return s=Nl(e,e===$e?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:($d(e,s,t),gh(e,_e()),e.callbackNode!=null&&e.callbackNode===l?yh.bind(null,e):null)}function vh(e,t){if(Cr())return null;$d(e,t,!0)}function gy(){Ry(function(){(Fe&6)!==0?he(be,my):mh()})}function eu(){if(ri===0){var e=to;e===0&&(e=zi,zi<<=1,(zi&261888)===0&&(zi=256)),ri=e}return ri}function _h(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ul(""+e)}function Sh(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function yy(e,t,l,s,p){if(t==="submit"&&l&&l.stateNode===p){var y=_h((p[kt]||null).action),E=s.submitter;E&&(t=(t=E[kt]||null)?_h(t.formAction):E.getAttribute("formAction"),t!==null&&(y=t,E=null));var N=new Gl("action","action",null,s,p);e.push({event:N,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ri!==0){var H=E?Sh(p,E):new FormData(p);Ss(l,{pending:!0,data:H,method:p.method,action:y},null,H)}}else typeof y=="function"&&(N.preventDefault(),H=E?Sh(p,E):new FormData(p),Ss(l,{pending:!0,data:H,method:p.method,action:y},y,H))},currentTarget:p}]})}}for(var tu=0;tu<Ga.length;tu++){var nu=Ga[tu],vy=nu.toLowerCase(),_y=nu[0].toUpperCase()+nu.slice(1);cn(vy,"on"+_y)}cn(Qc,"onAnimationEnd"),cn(Wc,"onAnimationIteration"),cn($c,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(L0,"onTransitionRun"),cn(z0,"onTransitionStart"),cn(G0,"onTransitionCancel"),cn(jc,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function Th(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],p=s.event;s=s.listeners;e:{var y=void 0;if(t)for(var E=s.length-1;0<=E;E--){var N=s[E],H=N.instance,Q=N.currentTarget;if(N=N.listener,H!==y&&p.isPropagationStopped())break e;y=N,p.currentTarget=Q;try{y(p)}catch(le){Hl(le)}p.currentTarget=null,y=H}else for(E=0;E<s.length;E++){if(N=s[E],H=N.instance,Q=N.currentTarget,N=N.listener,H!==y&&p.isPropagationStopped())break e;y=N,p.currentTarget=Q;try{y(p)}catch(le){Hl(le)}p.currentTarget=null,y=H}}}}function Ge(e,t){var l=t[ma];l===void 0&&(l=t[ma]=new Set);var s=e+"__bubble";l.has(s)||(Eh(t,e,2,!1),l.add(s))}function iu(e,t,l){var s=0;t&&(s|=4),Eh(l,e,s,t)}var xr="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[xr]){e[xr]=!0,pc.forEach(function(l){l!=="selectionchange"&&(Sy.has(l)||iu(l,!1,e),iu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xr]||(t[xr]=!0,iu("selectionchange",!1,t))}}function Eh(e,t,l,s){switch(Wh(t)){case 2:var p=Xy;break;case 8:p=Zy;break;default:p=_u}l=p.bind(null,t,l,e),p=void 0,!Aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(p=!0),s?p!==void 0?e.addEventListener(t,l,{capture:!0,passive:p}):e.addEventListener(t,l,!0):p!==void 0?e.addEventListener(t,l,{passive:p}):e.addEventListener(t,l,!1)}function lu(e,t,l,s,p){var y=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var E=s.tag;if(E===3||E===4){var N=s.stateNode.containerInfo;if(N===p)break;if(E===4)for(E=s.return;E!==null;){var H=E.tag;if((H===3||H===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;N!==null;){if(E=Bi(N),E===null)return;if(H=E.tag,H===5||H===6||H===26||H===27){s=y=E;continue e}N=N.parentNode}}s=s.return}xc(function(){var Q=y,le=Ea(l),de=[];e:{var $=ef.get(e);if($!==void 0){var ee=Gl,Ee=e;switch(e){case"keypress":if(Ll(l)===0)break e;case"keydown":case"keyup":ee=h0;break;case"focusin":Ee="focus",ee=Ra;break;case"focusout":Ee="blur",ee=Ra;break;case"beforeblur":case"afterblur":ee=Ra;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=t0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=g0;break;case Qc:case Wc:case $c:ee=o0;break;case jc:ee=v0;break;case"scroll":case"scrollend":ee=jg;break;case"wheel":ee=S0;break;case"copy":case"cut":case"paste":ee=r0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Ic;break;case"toggle":case"beforetoggle":ee=E0}var Re=(t&4)!==0,Qe=!Re&&(e==="scroll"||e==="scrollend"),Y=Re?$!==null?$+"Capture":null:$;Re=[];for(var P=Q,Z;P!==null;){var ce=P;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||Y===null||(ce=ko(P,Y),ce!=null&&Re.push(hl(P,ce,Z))),Qe)break;P=P.return}0<Re.length&&($=new ee($,Ee,null,l,le),de.push({event:$,listeners:Re}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",$&&l!==Ta&&(Ee=l.relatedTarget||l.fromElement)&&(Bi(Ee)||Ee[Gi]))break e;if((ee||$)&&($=le.window===le?le:($=le.ownerDocument)?$.defaultView||$.parentWindow:window,ee?(Ee=l.relatedTarget||l.toElement,ee=Q,Ee=Ee?Bi(Ee):null,Ee!==null&&(Qe=u(Ee),Re=Ee.tag,Ee!==Qe||Re!==5&&Re!==27&&Re!==6)&&(Ee=null)):(ee=null,Ee=Q),ee!==Ee)){if(Re=Nc,ce="onMouseLeave",Y="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Re=Ic,ce="onPointerLeave",Y="onPointerEnter",P="pointer"),Qe=ee==null?$:Uo(ee),Z=Ee==null?$:Uo(Ee),$=new Re(ce,P+"leave",ee,l,le),$.target=Qe,$.relatedTarget=Z,ce=null,Bi(le)===Q&&(Re=new Re(Y,P+"enter",Ee,l,le),Re.target=Z,Re.relatedTarget=Qe,ce=Re),Qe=ce,ee&&Ee)t:{for(Re=Ty,Y=ee,P=Ee,Z=0,ce=Y;ce;ce=Re(ce))Z++;ce=0;for(var xe=P;xe;xe=Re(xe))ce++;for(;0<Z-ce;)Y=Re(Y),Z--;for(;0<ce-Z;)P=Re(P),ce--;for(;Z--;){if(Y===P||P!==null&&Y===P.alternate){Re=Y;break t}Y=Re(Y),P=Re(P)}Re=null}else Re=null;ee!==null&&Ch(de,$,ee,Re,!1),Ee!==null&&Qe!==null&&Ch(de,Qe,Ee,Re,!0)}}e:{if($=Q?Uo(Q):window,ee=$.nodeName&&$.nodeName.toLowerCase(),ee==="select"||ee==="input"&&$.type==="file")var Pe=Oc;else if(Gc($))if(Hc)Pe=D0;else{Pe=M0;var Ce=N0}else ee=$.nodeName,!ee||ee.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Q&&Sa(Q.elementType)&&(Pe=Oc):Pe=I0;if(Pe&&(Pe=Pe(e,Q))){Bc(de,Pe,l,le);break e}Ce&&Ce(e,$,Q),e==="focusout"&&Q&&$.type==="number"&&Q.memoizedProps.value!=null&&_a($,"number",$.value)}switch(Ce=Q?Uo(Q):window,e){case"focusin":(Gc(Ce)||Ce.contentEditable==="true")&&(Ki=Ce,ka=Q,qo=null);break;case"focusout":qo=ka=Ki=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Xc(de,l,le);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":Xc(de,l,le)}var ke;if(Ma)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ji?Lc(e,l)&&(Oe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(Dc&&l.locale!=="ko"&&(Ji||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ji&&(ke=wc()):(Fn=le,ba="value"in Fn?Fn.value:Fn.textContent,Ji=!0)),Ce=wr(Q,Oe),0<Ce.length&&(Oe=new Mc(Oe,e,null,l,le),de.push({event:Oe,listeners:Ce}),ke?Oe.data=ke:(ke=zc(l),ke!==null&&(Oe.data=ke)))),(ke=A0?b0(e,l):x0(e,l))&&(Oe=wr(Q,"onBeforeInput"),0<Oe.length&&(Ce=new Mc("onBeforeInput","beforeinput",null,l,le),de.push({event:Ce,listeners:Oe}),Ce.data=ke)),yy(de,e,Q,l,le)}Th(de,t)})}function hl(e,t,l){return{instance:e,listener:t,currentTarget:l}}function wr(e,t){for(var l=t+"Capture",s=[];e!==null;){var p=e,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ko(e,l),p!=null&&s.unshift(hl(e,p,y)),p=ko(e,t),p!=null&&s.push(hl(e,p,y))),e.tag===3)return s;e=e.return}return[]}function Ty(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ch(e,t,l,s,p){for(var y=t._reactName,E=[];l!==null&&l!==s;){var N=l,H=N.alternate,Q=N.stateNode;if(N=N.tag,H!==null&&H===s)break;N!==5&&N!==26&&N!==27||Q===null||(H=Q,p?(Q=ko(l,y),Q!=null&&E.unshift(hl(l,Q,H))):p||(Q=ko(l,y),Q!=null&&E.push(hl(l,Q,H)))),l=l.return}E.length!==0&&e.push({event:t,listeners:E})}var Ey=/\r\n?/g,Cy=/\u0000|\uFFFD/g;function Ah(e){return(typeof e=="string"?e:""+e).replace(Ey,`
`).replace(Cy,"")}function bh(e,t){return t=Ah(t),Ah(e)===t}function Ze(e,t,l,s,p,y){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Vi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Vi(e,""+s);break;case"className":Il(e,"class",s);break;case"tabIndex":Il(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Il(e,l,s);break;case"style":Ac(e,s,y);break;case"data":if(t!=="object"){Il(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Ul(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(t!=="input"&&Ze(e,t,"name",p.name,p,null),Ze(e,t,"formEncType",p.formEncType,p,null),Ze(e,t,"formMethod",p.formMethod,p,null),Ze(e,t,"formTarget",p.formTarget,p,null)):(Ze(e,t,"encType",p.encType,p,null),Ze(e,t,"method",p.method,p,null),Ze(e,t,"target",p.target,p,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Ul(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=En);break;case"onScroll":s!=null&&Ge("scroll",e);break;case"onScrollEnd":s!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(l=s.__html,l!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Ul(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),Ml(e,"popover",s);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ml(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Wg.get(l)||l,Ml(e,l,s))}}function ru(e,t,l,s,p,y){switch(l){case"style":Ac(e,s,y);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(l=s.__html,l!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Vi(e,s):(typeof s=="number"||typeof s=="bigint")&&Vi(e,""+s);break;case"onScroll":s!=null&&Ge("scroll",e);break;case"onScrollEnd":s!=null&&Ge("scrollend",e);break;case"onClick":s!=null&&(e.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),t=l.slice(2,p?l.length-7:void 0),y=e[kt]||null,y=y!=null?y[l]:null,typeof y=="function"&&e.removeEventListener(t,y,p),typeof s=="function")){typeof y!="function"&&y!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,p);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Ml(e,l,s)}}}function bt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var s=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":s=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ze(e,t,y,E,l,null)}}p&&Ze(e,t,"srcSet",l.srcSet,l,null),s&&Ze(e,t,"src",l.src,l,null);return;case"input":Ge("invalid",e);var N=y=E=p=null,H=null,Q=null;for(s in l)if(l.hasOwnProperty(s)){var le=l[s];if(le!=null)switch(s){case"name":p=le;break;case"type":E=le;break;case"checked":H=le;break;case"defaultChecked":Q=le;break;case"value":y=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,t));break;default:Ze(e,t,s,le,l,null)}}Sc(e,y,N,H,Q,E,p,!1);return;case"select":Ge("invalid",e),s=E=y=null;for(p in l)if(l.hasOwnProperty(p)&&(N=l[p],N!=null))switch(p){case"value":y=N;break;case"defaultValue":E=N;break;case"multiple":s=N;default:Ze(e,t,p,N,l,null)}t=y,l=E,e.multiple=!!s,t!=null?qi(e,!!s,t,!1):l!=null&&qi(e,!!s,l,!0);return;case"textarea":Ge("invalid",e),y=p=s=null;for(E in l)if(l.hasOwnProperty(E)&&(N=l[E],N!=null))switch(E){case"value":s=N;break;case"defaultValue":p=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:Ze(e,t,E,N,l,null)}Ec(e,s,p,y);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(s=l[H],s!=null))switch(H){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ze(e,t,H,s,l,null)}return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(s=0;s<dl.length;s++)Ge(dl[s],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(s=l[Q],s!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ze(e,t,Q,s,l,null)}return;default:if(Sa(t)){for(le in l)l.hasOwnProperty(le)&&(s=l[le],s!==void 0&&ru(e,t,le,s,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(s=l[N],s!=null&&Ze(e,t,N,s,l,null))}function Ay(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,N=null,H=null,Q=null,le=null;for(ee in l){var de=l[ee];if(l.hasOwnProperty(ee)&&de!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":H=de;default:s.hasOwnProperty(ee)||Ze(e,t,ee,null,s,de)}}for(var $ in s){var ee=s[$];if(de=l[$],s.hasOwnProperty($)&&(ee!=null||de!=null))switch($){case"type":y=ee;break;case"name":p=ee;break;case"checked":Q=ee;break;case"defaultChecked":le=ee;break;case"value":E=ee;break;case"defaultValue":N=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,t));break;default:ee!==de&&Ze(e,t,$,ee,s,de)}}va(e,E,N,H,Q,le,y,p);return;case"select":ee=E=N=$=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":ee=H;default:s.hasOwnProperty(y)||Ze(e,t,y,null,s,H)}for(p in s)if(y=s[p],H=l[p],s.hasOwnProperty(p)&&(y!=null||H!=null))switch(p){case"value":$=y;break;case"defaultValue":N=y;break;case"multiple":E=y;default:y!==H&&Ze(e,t,p,y,s,H)}t=N,l=E,s=ee,$!=null?qi(e,!!l,$,!1):!!s!=!!l&&(t!=null?qi(e,!!l,t,!0):qi(e,!!l,l?[]:"",!1));return;case"textarea":ee=$=null;for(N in l)if(p=l[N],l.hasOwnProperty(N)&&p!=null&&!s.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ze(e,t,N,null,s,p)}for(E in s)if(p=s[E],y=l[E],s.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":$=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&Ze(e,t,E,p,s,y)}Tc(e,$,ee);return;case"option":for(var Ee in l)if($=l[Ee],l.hasOwnProperty(Ee)&&$!=null&&!s.hasOwnProperty(Ee))switch(Ee){case"selected":e.selected=!1;break;default:Ze(e,t,Ee,null,s,$)}for(H in s)if($=s[H],ee=l[H],s.hasOwnProperty(H)&&$!==ee&&($!=null||ee!=null))switch(H){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Ze(e,t,H,$,s,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)$=l[Re],l.hasOwnProperty(Re)&&$!=null&&!s.hasOwnProperty(Re)&&Ze(e,t,Re,null,s,$);for(Q in s)if($=s[Q],ee=l[Q],s.hasOwnProperty(Q)&&$!==ee&&($!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,t));break;default:Ze(e,t,Q,$,s,ee)}return;default:if(Sa(t)){for(var Qe in l)$=l[Qe],l.hasOwnProperty(Qe)&&$!==void 0&&!s.hasOwnProperty(Qe)&&ru(e,t,Qe,void 0,s,$);for(le in s)$=s[le],ee=l[le],!s.hasOwnProperty(le)||$===ee||$===void 0&&ee===void 0||ru(e,t,le,$,s,ee);return}}for(var Y in l)$=l[Y],l.hasOwnProperty(Y)&&$!=null&&!s.hasOwnProperty(Y)&&Ze(e,t,Y,null,s,$);for(de in s)$=s[de],ee=l[de],!s.hasOwnProperty(de)||$===ee||$==null&&ee==null||Ze(e,t,de,$,s,ee)}function xh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function by(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var p=l[s],y=p.transferSize,E=p.initiatorType,N=p.duration;if(y&&N&&xh(E)){for(E=0,N=p.responseEnd,s+=1;s<l.length;s++){var H=l[s],Q=H.startTime;if(Q>N)break;var le=H.transferSize,de=H.initiatorType;le&&xh(de)&&(H=H.responseEnd,E+=le*(H<N?1:(N-Q)/(H-Q)))}if(--s,t+=8*(y+E)/(p.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var au=null,su=null;function Rr(e){return e.nodeType===9?e:e.ownerDocument}function wh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cu=null;function xy(){var e=window.event;return e&&e.type==="popstate"?e===cu?!1:(cu=e,!0):(cu=null,!1)}var Nh=typeof setTimeout=="function"?setTimeout:void 0,wy=typeof clearTimeout=="function"?clearTimeout:void 0,Mh=typeof Promise=="function"?Promise:void 0,Ry=typeof queueMicrotask=="function"?queueMicrotask:typeof Mh<"u"?function(e){return Mh.resolve(null).then(e).catch(Ny)}:Nh;function Ny(e){setTimeout(function(){throw e})}function ai(e){return e==="head"}function Ih(e,t){var l=t,s=0;do{var p=l.nextSibling;if(e.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(p),To(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")pl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,pl(l);for(var y=l.firstChild;y;){var E=y.nextSibling,N=y.nodeName;y[Do]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=E}}else l==="body"&&pl(e.ownerDocument.body);l=p}while(l);To(t)}function Dh(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function fu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fu(l),ga(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function My(e,t,l,s){for(;e.nodeType===1;){var p=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Do])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function Iy(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=rn(e.nextSibling),e===null))return null;return e}function Uh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=rn(e.nextSibling),e===null))return null;return e}function du(e){return e.data==="$?"||e.data==="$~"}function hu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Dy(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var pu=null;function kh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return rn(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Lh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function zh(e,t,l){switch(t=Rr(l),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function pl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ga(e)}var an=new Map,Gh=new Set;function Nr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bn=J.d;J.d={f:Uy,r:ky,D:Ly,C:zy,L:Gy,m:By,X:Hy,S:Oy,M:Py};function Uy(){var e=Bn.f(),t=Sr();return e||t}function ky(e){var t=Oi(e);t!==null&&t.tag===5&&t.type==="form"?ed(t):Bn.r(e)}var vo=typeof document>"u"?null:document;function Bh(e,t,l){var s=vo;if(s&&typeof t=="string"&&t){var p=$t(t);p='link[rel="'+e+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Gh.has(p)||(Gh.add(p),e={rel:e,crossOrigin:l,href:t},s.querySelector(p)===null&&(t=s.createElement("link"),bt(t,"link",e),vt(t),s.head.appendChild(t)))}}function Ly(e){Bn.D(e),Bh("dns-prefetch",e,null)}function zy(e,t){Bn.C(e,t),Bh("preconnect",e,t)}function Gy(e,t,l){Bn.L(e,t,l);var s=vo;if(s&&e&&t){var p='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+$t(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+$t(l.imageSizes)+'"]')):p+='[href="'+$t(e)+'"]';var y=p;switch(t){case"style":y=_o(e);break;case"script":y=So(e)}an.has(y)||(e=_({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),an.set(y,e),s.querySelector(p)!==null||t==="style"&&s.querySelector(ml(y))||t==="script"&&s.querySelector(gl(y))||(t=s.createElement("link"),bt(t,"link",e),vt(t),s.head.appendChild(t)))}}function By(e,t){Bn.m(e,t);var l=vo;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",p='link[rel="modulepreload"][as="'+$t(s)+'"][href="'+$t(e)+'"]',y=p;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=So(e)}if(!an.has(y)&&(e=_({rel:"modulepreload",href:e},t),an.set(y,e),l.querySelector(p)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gl(y)))return}s=l.createElement("link"),bt(s,"link",e),vt(s),l.head.appendChild(s)}}}function Oy(e,t,l){Bn.S(e,t,l);var s=vo;if(s&&e){var p=Hi(s).hoistableStyles,y=_o(e);t=t||"default";var E=p.get(y);if(!E){var N={loading:0,preload:null};if(E=s.querySelector(ml(y)))N.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},l),(l=an.get(y))&&mu(e,l);var H=E=s.createElement("link");vt(H),bt(H,"link",e),H._p=new Promise(function(Q,le){H.onload=Q,H.onerror=le}),H.addEventListener("load",function(){N.loading|=1}),H.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Mr(E,t,s)}E={type:"stylesheet",instance:E,count:1,state:N},p.set(y,E)}}}function Hy(e,t){Bn.X(e,t);var l=vo;if(l&&e){var s=Hi(l).hoistableScripts,p=So(e),y=s.get(p);y||(y=l.querySelector(gl(p)),y||(e=_({src:e,async:!0},t),(t=an.get(p))&&gu(e,t),y=l.createElement("script"),vt(y),bt(y,"link",e),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(p,y))}}function Py(e,t){Bn.M(e,t);var l=vo;if(l&&e){var s=Hi(l).hoistableScripts,p=So(e),y=s.get(p);y||(y=l.querySelector(gl(p)),y||(e=_({src:e,async:!0,type:"module"},t),(t=an.get(p))&&gu(e,t),y=l.createElement("script"),vt(y),bt(y,"link",e),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(p,y))}}function Oh(e,t,l,s){var p=(p=Ae.current)?Nr(p):null;if(!p)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=_o(l.href),l=Hi(p).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=_o(l.href);var y=Hi(p).hoistableStyles,E=y.get(e);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,E),(y=p.querySelector(ml(e)))&&!y._p&&(E.instance=y,E.state.loading=5),an.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},an.set(e,l),y||qy(p,e,l,E.state))),t&&s===null)throw Error(r(528,""));return E}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=So(l),l=Hi(p).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function _o(e){return'href="'+$t(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function Hh(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function qy(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),bt(t,"link",l),vt(t),e.head.appendChild(t))}function So(e){return'[src="'+$t(e)+'"]'}function gl(e){return"script[async]"+e}function Ph(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+$t(l.href)+'"]');if(s)return t.instance=s,vt(s),s;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),vt(s),bt(s,"style",p),Mr(s,l.precedence,e),t.instance=s;case"stylesheet":p=_o(l.href);var y=e.querySelector(ml(p));if(y)return t.state.loading|=4,t.instance=y,vt(y),y;s=Hh(l),(p=an.get(p))&&mu(s,p),y=(e.ownerDocument||e).createElement("link"),vt(y);var E=y;return E._p=new Promise(function(N,H){E.onload=N,E.onerror=H}),bt(y,"link",s),t.state.loading|=4,Mr(y,l.precedence,e),t.instance=y;case"script":return y=So(l.src),(p=e.querySelector(gl(y)))?(t.instance=p,vt(p),p):(s=l,(p=an.get(y))&&(s=_({},l),gu(s,p)),e=e.ownerDocument||e,p=e.createElement("script"),vt(p),bt(p,"link",s),e.head.appendChild(p),t.instance=p);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Mr(s,l.precedence,e));return t.instance}function Mr(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=s.length?s[s.length-1]:null,y=p,E=0;E<s.length;E++){var N=s[E];if(N.dataset.precedence===t)y=N;else if(y!==p)break}y?y.parentNode.insertBefore(e,y.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function gu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ir=null;function qh(e,t,l){if(Ir===null){var s=new Map,p=Ir=new Map;p.set(l,s)}else p=Ir,s=p.get(l),s||(s=new Map,p.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),p=0;p<l.length;p++){var y=l[p];if(!(y[Do]||y[Tt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(t)||"";E=e+E;var N=s.get(E);N?N.push(y):s.set(E,[y])}}return s}function Vh(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Vy(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Fh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fy(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=_o(s.href),y=t.querySelector(ml(p));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Dr.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=y,vt(y);return}y=t.ownerDocument||t,s=Hh(s),(p=an.get(p))&&mu(s,p),y=y.createElement("link"),vt(y);var E=y;E._p=new Promise(function(N,H){E.onload=N,E.onerror=H}),bt(y,"link",s),l.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Dr.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var yu=0;function Yy(e,t){return e.stylesheets&&e.count===0&&kr(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&kr(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+t);0<e.imgBytes&&yu===0&&(yu=62500*by());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&kr(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>yu?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(p)}}:null}function Dr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ur=null;function kr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ur=new Map,t.forEach(Jy,e),Ur=null,Dr.call(e))}function Jy(e,t){if(!(t.state.loading&4)){var l=Ur.get(e);if(l)var s=l.get(null);else{l=new Map,Ur.set(e,l);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),s=E)}s&&l.set(null,s)}p=t.instance,E=p.getAttribute("data-precedence"),y=l.get(E)||s,y===s&&l.set(null,p),l.set(E,p),this.count++,s=Dr.bind(this),p.addEventListener("load",s),p.addEventListener("error",s),y?y.parentNode.insertBefore(p,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),t.state.loading|=4}}var yl={$$typeof:D,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Ky(e,t,l,s,p,y,E,N,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=s,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Yh(e,t,l,s,p,y,E,N,H,Q,le,de){return e=new Ky(e,t,l,E,H,Q,le,de,N),t=1,y===!0&&(t|=24),y=qt(3,null,null,t),e.current=y,y.stateNode=e,t=Qa(),t.refCount++,e.pooledCache=t,t.refCount++,y.memoizedState={element:s,isDehydrated:l,cache:t},es(y),e}function Jh(e){return e?(e=Qi,e):Qi}function Kh(e,t,l,s,p,y){p=Jh(p),s.context===null?s.context=p:s.pendingContext=p,s=Qn(t),s.payload={element:l},y=y===void 0?null:y,y!==null&&(s.callback=y),l=Wn(e,s,t),l!==null&&(Ht(l,e,t),Zo(l,e,t))}function Xh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function vu(e,t){Xh(e,t),(e=e.alternate)&&Xh(e,t)}function Zh(e){if(e.tag===13||e.tag===31){var t=Ti(e,67108864);t!==null&&Ht(t,e,67108864),vu(e,67108864)}}function Qh(e){if(e.tag===13||e.tag===31){var t=Kt();t=ha(t);var l=Ti(e,t);l!==null&&Ht(l,e,t),vu(e,t)}}var Lr=!0;function Xy(e,t,l,s){var p=K.T;K.T=null;var y=J.p;try{J.p=2,_u(e,t,l,s)}finally{J.p=y,K.T=p}}function Zy(e,t,l,s){var p=K.T;K.T=null;var y=J.p;try{J.p=8,_u(e,t,l,s)}finally{J.p=y,K.T=p}}function _u(e,t,l,s){if(Lr){var p=Su(s);if(p===null)lu(e,t,s,zr,l),$h(e,s);else if(Wy(p,e,t,l,s))s.stopPropagation();else if($h(e,s),t&4&&-1<Qy.indexOf(e)){for(;p!==null;){var y=Oi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Qt(y.pendingLanes);if(E!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;E;){var H=1<<31-lt(E);N.entanglements[1]|=H,E&=~H}Sn(y),(Fe&6)===0&&(vr=_e()+500,fl(0))}}break;case 31:case 13:N=Ti(y,2),N!==null&&Ht(N,y,2),Sr(),vu(y,2)}if(y=Su(s),y===null&&lu(e,t,s,zr,l),y===p)break;p=y}p!==null&&s.stopPropagation()}else lu(e,t,s,null,l)}}function Su(e){return e=Ea(e),Tu(e)}var zr=null;function Tu(e){if(zr=null,e=Bi(e),e!==null){var t=u(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=f(t),e!==null)return e;e=null}else if(l===31){if(e=d(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zr=e,null}function Wh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case be:return 2;case Ye:return 8;case Le:case Ut:return 32;case qn:return 268435456;default:return 32}default:return 32}}var Eu=!1,si=null,ui=null,ci=null,vl=new Map,_l=new Map,fi=[],Qy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $h(e,t){switch(e){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":vl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(t.pointerId)}}function Sl(e,t,l,s,p,y){return e===null||e.nativeEvent!==y?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:y,targetContainers:[p]},t!==null&&(t=Oi(t),t!==null&&Zh(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,p!==null&&t.indexOf(p)===-1&&t.push(p),e)}function Wy(e,t,l,s,p){switch(t){case"focusin":return si=Sl(si,e,t,l,s,p),!0;case"dragenter":return ui=Sl(ui,e,t,l,s,p),!0;case"mouseover":return ci=Sl(ci,e,t,l,s,p),!0;case"pointerover":var y=p.pointerId;return vl.set(y,Sl(vl.get(y)||null,e,t,l,s,p)),!0;case"gotpointercapture":return y=p.pointerId,_l.set(y,Sl(_l.get(y)||null,e,t,l,s,p)),!0}return!1}function jh(e){var t=Bi(e.target);if(t!==null){var l=u(t);if(l!==null){if(t=l.tag,t===13){if(t=f(l),t!==null){e.blockedOn=t,dc(e.priority,function(){Qh(l)});return}}else if(t===31){if(t=d(l),t!==null){e.blockedOn=t,dc(e.priority,function(){Qh(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Su(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Ta=s,l.target.dispatchEvent(s),Ta=null}else return t=Oi(l),t!==null&&Zh(t),e.blockedOn=l,!1;t.shift()}return!0}function ep(e,t,l){Gr(e)&&l.delete(t)}function $y(){Eu=!1,si!==null&&Gr(si)&&(si=null),ui!==null&&Gr(ui)&&(ui=null),ci!==null&&Gr(ci)&&(ci=null),vl.forEach(ep),_l.forEach(ep)}function Br(e,t){e.blockedOn===t&&(e.blockedOn=null,Eu||(Eu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$y)))}var Or=null;function tp(e){Or!==e&&(Or=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Or===e&&(Or=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],p=e[t+2];if(typeof s!="function"){if(Tu(s||l)===null)continue;break}var y=Oi(l);y!==null&&(e.splice(t,3),t-=3,Ss(y,{pending:!0,data:p,method:l.method,action:s},s,p))}}))}function To(e){function t(H){return Br(H,e)}si!==null&&Br(si,e),ui!==null&&Br(ui,e),ci!==null&&Br(ci,e),vl.forEach(t),_l.forEach(t);for(var l=0;l<fi.length;l++){var s=fi[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<fi.length&&(l=fi[0],l.blockedOn===null);)jh(l),l.blockedOn===null&&fi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var p=l[s],y=l[s+1],E=p[kt]||null;if(typeof y=="function")E||tp(l);else if(E){var N=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[kt]||null)N=E.formAction;else if(Tu(p)!==null)continue}else N=E.action;typeof N=="function"?l[s+1]=N:(l.splice(s,3),s-=3),tp(l)}}}function np(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function t(){p!==null&&(p(),p=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),p!==null&&(p(),p=null)}}}function Cu(e){this._internalRoot=e}Hr.prototype.render=Cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var l=t.current,s=Kt();Kh(l,s,e,t,null,null)},Hr.prototype.unmount=Cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kh(e.current,2,null,e,null,null),Sr(),t[Gi]=null}};function Hr(e){this._internalRoot=e}Hr.prototype.unstable_scheduleHydration=function(e){if(e){var t=fc();e={blockedOn:null,target:e,priority:t};for(var l=0;l<fi.length&&t!==0&&t<fi[l].priority;l++);fi.splice(l,0,e),l===0&&jh(e)}};var ip=n.version;if(ip!=="19.2.4")throw Error(r(527,ip,"19.2.4"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var jy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pr.isDisabled&&Pr.supportsFiber)try{We=Pr.inject(jy),yt=Pr}catch{}}return El.createRoot=function(e,t){if(!a(e))throw Error(r(299));var l=!1,s="",p=cd,y=fd,E=dd;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(p=t.onUncaughtError),t.onCaughtError!==void 0&&(y=t.onCaughtError),t.onRecoverableError!==void 0&&(E=t.onRecoverableError)),t=Yh(e,1,!1,null,null,l,s,null,p,y,E,np),e[Gi]=t.current,ou(e),new Cu(t)},El.hydrateRoot=function(e,t,l){if(!a(e))throw Error(r(299));var s=!1,p="",y=cd,E=fd,N=dd,H=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.formState!==void 0&&(H=l.formState)),t=Yh(e,1,!0,t,l??null,s,p,H,y,E,N,np),t.context=Jh(null),l=t.current,s=Kt(),s=ha(s),p=Qn(s),p.callback=null,Wn(l,p,s),l=s,t.current.lanes=l,Io(t,l),Sn(t),e[Gi]=t.current,ou(e),new Hr(t)},El.version="19.2.4",El}var hp;function cv(){if(hp)return xu.exports;hp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),xu.exports=uv(),xu.exports}var fv=cv();const dv=Zu(fv),ot=1536,ut=2048,Xm=rt.forwardRef(({config:i},n)=>{const o=rt.useRef(null),[r,a]=rt.useState(null);return rt.useImperativeHandle(n,()=>({getDataUrl:()=>o.current?o.current.toDataURL("image/png"):"",getCanvasElement:()=>o.current})),rt.useEffect(()=>{if(i.contentMode==="image"&&i.imageSrc){const u=new Image;u.src=i.imageSrc,u.onload=()=>a(u)}else a(null)},[i.contentMode,i.imageSrc]),rt.useEffect(()=>{const u=o.current;if(!u)return;const f=u.getContext("2d");if(!f)return;f.clearRect(0,0,ot,ut);const d=i.borderRadius/100*(ot/2);if(f.beginPath(),f.moveTo(d,0),f.lineTo(ot-d,0),f.quadraticCurveTo(ot,0,ot,d),f.lineTo(ot,ut-d),f.quadraticCurveTo(ot,ut,ot-d,ut),f.lineTo(d,ut),f.quadraticCurveTo(0,ut,0,ut-d),f.lineTo(0,d),f.quadraticCurveTo(0,0,d,0),f.closePath(),f.save(),f.clip(),i.bgType==="solid")f.fillStyle=i.bgColor;else if(i.bgType==="gradient-linear"){const v=(i.bgGradientAngle-90)*(Math.PI/180),_=ot/2,S=ut/2,T=Math.sqrt(Math.pow(ot,2)+Math.pow(ut,2))/2,b=_-Math.cos(v)*T,C=S-Math.sin(v)*T,x=_+Math.cos(v)*T,w=S+Math.sin(v)*T,I=f.createLinearGradient(b,C,x,w);i.bgGradientStops.forEach(D=>I.addColorStop(D.offset,D.color)),f.fillStyle=I}else if(i.bgType==="gradient-radial"){const v=f.createRadialGradient(ot/2,ut/2,0,ot/2,ut/2,ot);i.bgGradientStops.forEach(_=>v.addColorStop(_.offset,_.color)),f.fillStyle=v}if(f.fillRect(0,0,ot,ut),i.pattern&&i.pattern!=="none"){f.save(),f.strokeStyle=i.patternColor||i.textColor,f.globalAlpha=i.patternOpacity!==void 0?i.patternOpacity:.3,f.lineWidth=i.patternLineWidth||15;const v=i.patternSpacing||120,_=i.patternAngle||0;f.translate(ot/2,ut/2),f.rotate(_*Math.PI/180),f.translate(-ot/2,-ut/2);const S=-1500,T=3e3;if(i.pattern==="grid"){f.beginPath();for(let b=S;b<T;b+=v)f.moveTo(b,S),f.lineTo(b,T);for(let b=S;b<T;b+=v)f.moveTo(S,b),f.lineTo(T,b);f.stroke()}else if(i.pattern==="stripes"){f.beginPath();for(let b=S;b<T;b+=v)f.moveTo(b,S),f.lineTo(b,T);f.stroke()}else if(i.pattern==="waves"){const b=v/2,C=.01;f.beginPath();for(let x=S;x<T;x+=v)for(let w=S;w<=T;w+=20){const I=Math.sin(w*C)*(b*.4);w===S?f.moveTo(w,x+I):f.lineTo(w,x+I)}f.stroke()}f.restore()}f.restore(),i.borderWidth>0&&(f.beginPath(),f.moveTo(d,0),f.lineTo(ot-d,0),f.quadraticCurveTo(ot,0,ot,d),f.lineTo(ot,ut-d),f.quadraticCurveTo(ot,ut,ot-d,ut),f.lineTo(d,ut),f.quadraticCurveTo(0,ut,0,ut-d),f.lineTo(0,d),f.quadraticCurveTo(0,0,d,0),f.closePath(),f.lineWidth=i.borderWidth*4,f.strokeStyle=i.borderColor,f.stroke());const g=ot/2+i.textPositionX*4,m=ut/2+i.textPositionY*4;if(i.contentMode==="image"&&r){f.save();const v=i.fontSize/100,_=r.width*v,S=r.height*v;f.translate(g,m),f.drawImage(r,-_/2,-S/2,_,S),f.restore()}else if(i.contentMode==="text"){f.fillStyle=i.textColor;const v=i.fontSize*4;f.font=`${i.fontStyle} ${i.fontWeight} ${v}px ${i.fontFamily}`,"letterSpacing"in f&&(f.letterSpacing=`${i.letterSpacing*4}px`),f.textAlign="center",f.textBaseline="middle";const _=i.text.split(`
`),S=v*i.lineHeight,T=S*_.length;let b=m-T/2+S/2;_.forEach(C=>{f.fillText(C,g,b),b+=S})}},[i,r]),k.jsx("div",{className:"shadow-2xl rounded-lg overflow-hidden border border-gray-200 inline-block bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]",children:k.jsx("canvas",{ref:o,width:ot,height:ut,className:"w-[300px] h-[400px] object-contain",style:{width:"300px",height:"400px"}})})});Xm.displayName="IconCanvas";const hv=[{name:"Inter (Sans)",value:"Inter, sans-serif"},{name:"Roboto Mono (Code)",value:'"Roboto Mono", monospace'},{name:"Playfair (Serif)",value:'"Playfair Display", serif'},{name:"Pacifico (Hand)",value:'"Pacifico", cursive'},{name:"System",value:"sans-serif"}],pv=[{name:"None",value:"none"},{name:"Grid",value:"grid"},{name:"Stripes",value:"stripes"},{name:"Waves",value:"waves"}],mv=[{name:"Classic Blue",config:{bgType:"solid",bgColor:"#2962FF",textColor:"#FFFFFF",pattern:"none",borderColor:"#FFFFFF",borderWidth:0}},{name:"Sunset Glow",config:{bgType:"gradient-linear",bgGradientStops:[{offset:0,color:"#FF512F"},{offset:1,color:"#DD2476"}],bgGradientAngle:45,textColor:"#FFFFFF",pattern:"none",borderColor:"#FFFFFF",borderWidth:10}},{name:"Ocean Waves",config:{bgType:"gradient-linear",bgGradientStops:[{offset:0,color:"#2193b0"},{offset:1,color:"#6dd5ed"}],bgGradientAngle:180,textColor:"#FFFFFF",pattern:"waves",patternColor:"#FFFFFF",patternAngle:0,patternSpacing:100,patternOpacity:.2,borderColor:"#86efac",borderWidth:0}},{name:"Neon Cyber",config:{bgType:"gradient-radial",bgGradientStops:[{offset:0,color:"#0F2027"},{offset:.5,color:"#203A43"},{offset:1,color:"#2C5364"}],textColor:"#00FFCC",pattern:"grid",patternColor:"#00FFCC",patternLineWidth:2,patternAngle:0,patternSpacing:100,patternOpacity:.4,borderColor:"#00FFCC",borderWidth:6}},{name:"Midnight Dev",config:{bgType:"solid",bgColor:"#0f172a",textColor:"#38bdf8",pattern:"grid",patternColor:"#334155",patternSpacing:80,patternOpacity:.6,borderColor:"#1e293b",borderWidth:20}},{name:"Solar Strike",config:{bgType:"gradient-linear",bgGradientStops:[{offset:0,color:"#f59e0b"},{offset:1,color:"#ef4444"}],bgGradientAngle:135,textColor:"#ffffff",pattern:"stripes",patternColor:"#ffffff",patternAngle:45,patternLineWidth:8,patternOpacity:.15,borderColor:"#ffffff",borderWidth:0}},{name:"Fresh Mint",config:{bgType:"gradient-linear",bgGradientStops:[{offset:0,color:"#34d399"},{offset:1,color:"#10b981"}],bgGradientAngle:90,textColor:"#ffffff",pattern:"none",borderColor:"#ecfdf5",borderWidth:12}},{name:"Purple Haze",config:{bgType:"gradient-radial",bgGradientStops:[{offset:0,color:"#d8b4fe"},{offset:1,color:"#7e22ce"}],textColor:"#ffffff",pattern:"waves",patternColor:"#ffffff",patternSpacing:60,patternAngle:15,patternOpacity:.15,borderColor:"#faf5ff",borderWidth:8}},{name:"Slate Heavy",config:{bgType:"solid",bgColor:"#334155",textColor:"#f1f5f9",borderColor:"#94a3b8",borderWidth:30,pattern:"none"}},{name:"Gold Rush",config:{bgType:"gradient-linear",bgGradientStops:[{offset:0,color:"#fcd34d"},{offset:1,color:"#b45309"}],bgGradientAngle:180,textColor:"#fffbeb",pattern:"none",borderColor:"#78350f",borderWidth:4}},{name:"Arctic Glass",config:{bgType:"gradient-linear",bgGradientStops:[{offset:0,color:"#e0f2fe"},{offset:1,color:"#38bdf8"}],bgGradientAngle:45,textColor:"#0c4a6e",pattern:"waves",patternColor:"#ffffff",patternSpacing:120,patternAngle:0,patternOpacity:.5,borderColor:"#ffffff",borderWidth:16}},{name:"Red Alert",config:{bgType:"gradient-radial",bgGradientStops:[{offset:0,color:"#ef4444"},{offset:.8,color:"#7f1d1d"}],textColor:"#ffffff",pattern:"stripes",patternColor:"#000000",patternAngle:90,patternSpacing:40,patternOpacity:.2,borderColor:"#000000",borderWidth:8}},{name:"Candy Pop",config:{bgType:"gradient-linear",bgGradientStops:[{offset:0,color:"#f472b6"},{offset:1,color:"#22d3ee"}],bgGradientAngle:135,textColor:"#ffffff",pattern:"none",borderColor:"#ffffff",borderWidth:15}},{name:"Blueprint",config:{bgType:"solid",bgColor:"#172554",textColor:"#ffffff",pattern:"grid",patternColor:"#ffffff",patternLineWidth:1,patternSpacing:60,patternAngle:0,patternOpacity:.4,borderColor:"#ffffff",borderWidth:5}},{name:"Mono Thick",config:{bgType:"solid",bgColor:"#ffffff",textColor:"#000000",borderColor:"#000000",borderWidth:40,pattern:"none"}},{name:"Espresso",config:{bgType:"gradient-linear",bgGradientStops:[{offset:0,color:"#78350f"},{offset:1,color:"#451a03"}],bgGradientAngle:180,textColor:"#fef3c7",pattern:"waves",patternColor:"#d97706",patternAngle:0,patternOpacity:.2,borderColor:"#92400e",borderWidth:2}}],Cl=({title:i,children:n,defaultOpen:o=!1})=>{const[r,a]=rt.useState(o);return k.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[k.jsxs("button",{onClick:()=>a(!r),className:"w-full flex justify-between items-center p-4 bg-gray-50/50 hover:bg-gray-50 transition-colors",children:[k.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider text-gray-600",children:i}),k.jsx("svg",{className:`w-4 h-4 text-gray-400 transform transition-transform ${r?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&k.jsx("div",{className:"p-5 border-t border-gray-100",children:n})]})},gv=({config:i,onChange:n})=>{var u,f;const o=(d,g)=>{n({...i,[d]:g})},r=d=>{n({...i,...d})},a=d=>{var m;const g=(m=d.target.files)==null?void 0:m[0];if(g){const v=new FileReader;v.onloadend=()=>{o("imageSrc",v.result)},v.readAsDataURL(g)}};return k.jsxs("div",{className:"space-y-4",children:[k.jsx(Cl,{title:"Quick Presets",defaultOpen:!0,children:k.jsx("div",{className:"grid grid-cols-4 gap-2",children:mv.map(d=>{var g,m,v,_,S,T;return k.jsxs("button",{onClick:()=>r(d.config),className:"flex flex-col items-center gap-1 p-2 rounded-lg border border-transparent hover:border-gray-200 hover:bg-gray-50 transition-all group",children:[k.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm border border-gray-200 group-hover:scale-110 transition-transform overflow-hidden relative box-border",style:{background:d.config.bgType==="solid"?d.config.bgColor:`linear-gradient(135deg, ${(m=(g=d.config.bgGradientStops)==null?void 0:g[0])==null?void 0:m.color}, ${((_=(v=d.config.bgGradientStops)==null?void 0:v[1])==null?void 0:_.color)||((T=(S=d.config.bgGradientStops)==null?void 0:S[0])==null?void 0:T.color)})`,border:d.config.borderWidth&&d.config.borderWidth>0?`${Math.min(d.config.borderWidth/4,4)}px solid ${d.config.borderColor}`:"none"},children:d.config.pattern&&d.config.pattern!=="none"&&k.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle, white 1px, transparent 1px)",backgroundSize:"4px 4px",opacity:d.config.patternOpacity||.3}})}),k.jsx("span",{className:"text-[10px] text-gray-600 font-medium text-center leading-tight",children:d.name})]},d.name)})})}),k.jsxs(Cl,{title:"Content",defaultOpen:!0,children:[k.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg mb-4",children:[k.jsx("button",{className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${i.contentMode==="text"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,onClick:()=>o("contentMode","text"),children:"Text"}),k.jsx("button",{className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${i.contentMode==="image"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,onClick:()=>o("contentMode","image"),children:"Image / Texture"})]}),i.contentMode==="text"?k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Text Content"}),k.jsx("textarea",{value:i.text,onChange:d=>o("text",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-lg min-h-[80px]",placeholder:"Type text..."}),k.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Supports multiple lines"})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsxs("div",{className:"flex-1",children:[k.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Color"}),k.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded p-1",children:[k.jsx("input",{type:"color",value:i.textColor,onChange:d=>o("textColor",d.target.value),className:"h-6 w-8 rounded cursor-pointer border-0 p-0 overflow-hidden"}),k.jsx("span",{className:"text-xs font-mono text-gray-500",children:i.textColor})]})]}),k.jsxs("div",{className:"flex-1",children:[k.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Font"}),k.jsx("select",{value:i.fontFamily,onChange:d=>o("fontFamily",d.target.value),className:"w-full px-2 py-1.5 border border-gray-200 rounded text-sm bg-white",children:hv.map(d=>k.jsx("option",{value:d.value,children:d.name},d.value))})]})]}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[k.jsx("span",{className:"font-semibold text-gray-700",children:"Size"}),k.jsxs("span",{children:[i.fontSize,"px"]})]}),k.jsx("input",{type:"range",min:"50",max:"500",value:i.fontSize,onChange:d=>o("fontSize",Number(d.target.value)),className:"w-full accent-blue-600 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[k.jsx("span",{children:"Spacing"}),k.jsxs("span",{children:[i.letterSpacing,"px"]})]}),k.jsx("input",{type:"range",min:"-50",max:"100",value:i.letterSpacing,onChange:d=>o("letterSpacing",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[k.jsx("span",{children:"Line Height"}),k.jsxs("span",{children:[i.lineHeight,"x"]})]}),k.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:i.lineHeight,onChange:d=>o("lineHeight",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[k.jsx("span",{children:"Pos X"}),k.jsx("span",{children:i.textPositionX})]}),k.jsx("input",{type:"range",min:"-300",max:"300",value:i.textPositionX,onChange:d=>o("textPositionX",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[k.jsx("span",{children:"Pos Y"}),k.jsx("span",{children:i.textPositionY})]}),k.jsx("input",{type:"range",min:"-300",max:"300",value:i.textPositionY,onChange:d=>o("textPositionY",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]})]}),k.jsxs("div",{className:"flex items-center gap-2 justify-center pt-2",children:[k.jsx("button",{onClick:()=>o("fontWeight",i.fontWeight==="bold"?"normal":"bold"),className:`px-3 py-1 rounded text-xs border ${i.fontWeight==="bold"?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200"}`,children:"Bold"}),k.jsx("button",{onClick:()=>o("fontStyle",i.fontStyle==="italic"?"normal":"italic"),className:`px-3 py-1 rounded text-xs border ${i.fontStyle==="italic"?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200"}`,children:"Italic"})]})]}):k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:bg-gray-50 transition-colors relative",children:[k.jsx("input",{type:"file",accept:"image/*",onChange:a,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),i.imageSrc?k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("img",{src:i.imageSrc,alt:"Uploaded",className:"h-16 w-16 object-contain mb-2 rounded shadow-sm border"}),k.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Click to change image"})]}):k.jsxs("div",{className:"text-gray-500",children:[k.jsx("svg",{className:"mx-auto h-8 w-8 text-gray-400 mb-2",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:k.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m0 0v4a4 4 0 004 4h20a4 4 0 004-4V28m-4-4h-4m-12 4h12a4 4 0 004-4V12a4 4 0 00-4-4h-4m-12 8v-2m4 4h12m-12-4h12",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),k.jsx("span",{className:"text-xs font-medium",children:"Upload Image / Logo"})]})]}),i.imageSrc&&k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Scale"}),k.jsx("input",{type:"range",min:"50",max:"500",value:i.fontSize,onChange:d=>o("fontSize",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Pos Y"}),k.jsx("input",{type:"range",min:"-300",max:"300",value:i.textPositionY,onChange:d=>o("textPositionY",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]})]})]})]}),k.jsx(Cl,{title:"Background",children:k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg mb-4",children:[k.jsx("button",{className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${i.bgType==="solid"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,onClick:()=>o("bgType","solid"),children:"Solid"}),k.jsx("button",{className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${i.bgType.startsWith("gradient")?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,onClick:()=>o("bgType","gradient-linear"),children:"Gradient"})]}),i.bgType==="solid"?k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Background Color"}),k.jsx("div",{className:"flex items-center gap-2",children:k.jsx("input",{type:"color",value:i.bgColor,onChange:d=>o("bgColor",d.target.value),className:"h-8 w-full rounded cursor-pointer border border-gray-200 p-1"})})]}):k.jsxs("div",{className:"space-y-3",children:[k.jsxs("div",{className:"flex gap-2 mb-2",children:[k.jsx("button",{onClick:()=>o("bgType","gradient-linear"),className:`flex-1 text-[10px] py-1 border rounded ${i.bgType==="gradient-linear"?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200"}`,children:"Linear"}),k.jsx("button",{onClick:()=>o("bgType","gradient-radial"),className:`flex-1 text-[10px] py-1 border rounded ${i.bgType==="gradient-radial"?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200"}`,children:"Radial"})]}),k.jsx("div",{className:"flex items-center justify-between",children:k.jsx("label",{className:"text-xs font-semibold text-gray-700",children:"Colors"})}),k.jsxs("div",{className:"flex gap-2",children:[k.jsxs("div",{className:"flex-1",children:[k.jsx("span",{className:"text-[10px] text-gray-500",children:"Start"}),k.jsx("input",{type:"color",value:((u=i.bgGradientStops[0])==null?void 0:u.color)||"#ffffff",onChange:d=>{const g=[...i.bgGradientStops];g[0]={...g[0],color:d.target.value},o("bgGradientStops",g)},className:"h-8 w-full rounded cursor-pointer border border-gray-200 p-1"})]}),k.jsxs("div",{className:"flex-1",children:[k.jsx("span",{className:"text-[10px] text-gray-500",children:"End"}),k.jsx("input",{type:"color",value:((f=i.bgGradientStops[i.bgGradientStops.length-1])==null?void 0:f.color)||"#000000",onChange:d=>{const g=[...i.bgGradientStops];g[g.length-1]={...g[g.length-1],color:d.target.value},o("bgGradientStops",g)},className:"h-8 w-full rounded cursor-pointer border border-gray-200 p-1"})]})]}),i.bgType==="gradient-linear"&&k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[k.jsx("span",{children:"Angle"}),k.jsxs("span",{children:[i.bgGradientAngle,""]})]}),k.jsx("input",{type:"range",min:"0",max:"360",value:i.bgGradientAngle,onChange:d=>o("bgGradientAngle",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]})]})]})}),k.jsx(Cl,{title:"Pattern",children:k.jsxs("div",{children:[k.jsx("div",{className:"flex gap-2 bg-gray-50 p-1 rounded-lg",children:pv.map(d=>k.jsx("button",{onClick:()=>o("pattern",d.value),className:`flex-1 text-[10px] py-1.5 rounded-md transition-all ${i.pattern===d.value?"bg-white text-blue-600 shadow-sm font-medium":"text-gray-500 hover:text-gray-700"}`,children:d.name},d.value))}),i.pattern!=="none"&&k.jsxs("div",{className:"mt-3 bg-gray-50 p-3 rounded-lg border border-gray-100 space-y-3",children:[k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Color"}),k.jsx("input",{type:"color",value:i.patternColor,onChange:d=>o("patternColor",d.target.value),className:"h-6 w-6 rounded-full cursor-pointer border border-gray-200 p-0 overflow-hidden"})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[k.jsx("span",{children:"Opacity"}),k.jsxs("span",{children:[Math.round((i.patternOpacity||.3)*100),"%"]})]}),k.jsx("input",{type:"range",min:"0.05",max:"1",step:"0.05",value:i.patternOpacity||.3,onChange:d=>o("patternOpacity",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[k.jsx("span",{children:"Angle"}),k.jsxs("span",{children:[i.patternAngle||0,""]})]}),k.jsx("input",{type:"range",min:"0",max:"360",value:i.patternAngle||0,onChange:d=>o("patternAngle",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[k.jsx("span",{children:"Thickness"}),k.jsxs("span",{children:[i.patternLineWidth,"px"]})]}),k.jsx("input",{type:"range",min:"1",max:"50",value:i.patternLineWidth,onChange:d=>o("patternLineWidth",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[k.jsx("span",{children:"Spacing"}),k.jsxs("span",{children:[i.patternSpacing,"px"]})]}),k.jsx("input",{type:"range",min:"20",max:"300",value:i.patternSpacing,onChange:d=>o("patternSpacing",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]})]})]})]})}),k.jsx(Cl,{title:"Border & Shape",children:k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between items-center mb-1",children:[k.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Border Width"}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("input",{type:"color",value:i.borderColor,onChange:d=>o("borderColor",d.target.value),className:"h-5 w-5 rounded-full cursor-pointer border border-gray-200 p-0 overflow-hidden",title:"Border Color"}),k.jsxs("span",{className:"text-xs text-gray-500",children:[i.borderWidth,"px"]})]})]}),k.jsx("input",{type:"range",min:"0",max:"200",value:i.borderWidth,onChange:d=>o("borderWidth",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between mb-1",children:[k.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Corner Radius"}),k.jsxs("span",{className:"text-xs text-gray-500",children:[i.borderRadius,"%"]})]}),k.jsx("input",{type:"range",min:"0",max:"50",value:i.borderRadius,onChange:d=>o("borderRadius",Number(d.target.value)),className:"w-full accent-blue-600 h-1"})]})]})})]})},yv=({onGenerate:i,isGenerating:n})=>{const[o,r]=rt.useState(""),a=()=>{o.trim()&&i(o)};return k.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 p-6 rounded-xl shadow-sm border border-indigo-100",children:[k.jsxs("h2",{className:"text-lg font-semibold mb-2 text-indigo-900 flex items-center gap-2",children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"AI Magic Editor"]}),k.jsx("p",{className:"text-sm text-indigo-700 mb-4",children:"Powered by Gemini 2.5 Flash Image. Describe how you want to transform your icon."}),k.jsxs("div",{className:"space-y-3",children:[k.jsx("textarea",{value:o,onChange:u=>r(u.target.value),placeholder:"E.g., Make it look like a 3D metallic neon sign on a brick wall...",className:"w-full px-4 py-3 border border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 min-h-[100px] resize-none text-sm",disabled:n}),k.jsx("button",{onClick:a,disabled:n||!o.trim(),className:`w-full py-3 px-4 rounded-lg font-medium text-white transition-all shadow-md
            ${n||!o.trim()?"bg-indigo-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 hover:shadow-lg active:transform active:scale-[0.98]"}`,children:n?k.jsxs("span",{className:"flex items-center justify-center gap-2",children:[k.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"Generate with Gemini"})]}),k.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[k.jsx("span",{className:"text-xs font-semibold text-indigo-800 uppercase tracking-wider",children:"Try:"}),["Cyberpunk style","Hand-drawn sketch","Realistic glass texture","Pixel art"].map(u=>k.jsx("button",{onClick:()=>r(u),className:"text-xs bg-white border border-indigo-200 text-indigo-600 px-2 py-1 rounded hover:bg-indigo-50 transition-colors",children:u},u))]})]})};function Vr(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Mu={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var pp;function vv(){return pp||(pp=1,(function(i,n){(function(o){i.exports=o()})(function(){return(function o(r,a,u){function f(m,v){if(!a[m]){if(!r[m]){var _=typeof Vr=="function"&&Vr;if(!v&&_)return _(m,!0);if(d)return d(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var T=a[m]={exports:{}};r[m][0].call(T.exports,function(b){var C=r[m][1][b];return f(C||b)},T,T.exports,o,r,a,u)}return a[m].exports}for(var d=typeof Vr=="function"&&Vr,g=0;g<u.length;g++)f(u[g]);return f})({1:[function(o,r,a){var u=o("./utils"),f=o("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(g){for(var m,v,_,S,T,b,C,x=[],w=0,I=g.length,D=I,B=u.getTypeOf(g)!=="string";w<g.length;)D=I-w,_=B?(m=g[w++],v=w<I?g[w++]:0,w<I?g[w++]:0):(m=g.charCodeAt(w++),v=w<I?g.charCodeAt(w++):0,w<I?g.charCodeAt(w++):0),S=m>>2,T=(3&m)<<4|v>>4,b=1<D?(15&v)<<2|_>>6:64,C=2<D?63&_:64,x.push(d.charAt(S)+d.charAt(T)+d.charAt(b)+d.charAt(C));return x.join("")},a.decode=function(g){var m,v,_,S,T,b,C=0,x=0,w="data:";if(g.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var I,D=3*(g=g.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(g.charAt(g.length-1)===d.charAt(64)&&D--,g.charAt(g.length-2)===d.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(I=f.uint8array?new Uint8Array(0|D):new Array(0|D);C<g.length;)m=d.indexOf(g.charAt(C++))<<2|(S=d.indexOf(g.charAt(C++)))>>4,v=(15&S)<<4|(T=d.indexOf(g.charAt(C++)))>>2,_=(3&T)<<6|(b=d.indexOf(g.charAt(C++))),I[x++]=m,T!==64&&(I[x++]=v),b!==64&&(I[x++]=_);return I}},{"./support":30,"./utils":32}],2:[function(o,r,a){var u=o("./external"),f=o("./stream/DataWorker"),d=o("./stream/Crc32Probe"),g=o("./stream/DataLengthProbe");function m(v,_,S,T,b){this.compressedSize=v,this.uncompressedSize=_,this.crc32=S,this.compression=T,this.compressedContent=b}m.prototype={getContentWorker:function(){var v=new f(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),_=this;return v.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new f(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(v,_,S){return v.pipe(new d).pipe(new g("uncompressedSize")).pipe(_.compressWorker(S)).pipe(new g("compressedSize")).withStreamInfo("compression",_)},r.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,r,a){var u=o("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},a.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,r,a){var u=o("./utils"),f=(function(){for(var d,g=[],m=0;m<256;m++){d=m;for(var v=0;v<8;v++)d=1&d?3988292384^d>>>1:d>>>1;g[m]=d}return g})();r.exports=function(d,g){return d!==void 0&&d.length?u.getTypeOf(d)!=="string"?(function(m,v,_,S){var T=f,b=S+_;m^=-1;for(var C=S;C<b;C++)m=m>>>8^T[255&(m^v[C])];return-1^m})(0|g,d,d.length,0):(function(m,v,_,S){var T=f,b=S+_;m^=-1;for(var C=S;C<b;C++)m=m>>>8^T[255&(m^v.charCodeAt(C))];return-1^m})(0|g,d,d.length,0):0}},{"./utils":32}],5:[function(o,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(o,r,a){var u=null;u=typeof Promise<"u"?Promise:o("lie"),r.exports={Promise:u}},{lie:37}],7:[function(o,r,a){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=o("pako"),d=o("./utils"),g=o("./stream/GenericWorker"),m=u?"uint8array":"array";function v(_,S){g.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=S,this.meta={}}a.magic="\b\0",d.inherits(v,g),v.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(m,_.data),!1)},v.prototype.flush=function(){g.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(S){_.push({data:S,meta:_.meta})}},a.compressWorker=function(_){return new v("Deflate",_)},a.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,r,a){function u(T,b){var C,x="";for(C=0;C<b;C++)x+=String.fromCharCode(255&T),T>>>=8;return x}function f(T,b,C,x,w,I){var D,B,U=T.file,X=T.compression,q=I!==m.utf8encode,ne=d.transformTo("string",I(U.name)),V=d.transformTo("string",m.utf8encode(U.name)),re=U.comment,ve=d.transformTo("string",I(re)),O=d.transformTo("string",m.utf8encode(re)),j=V.length!==U.name.length,R=O.length!==re.length,oe="",K="",J="",me=U.dir,se=U.date,Se={crc32:0,compressedSize:0,uncompressedSize:0};b&&!C||(Se.crc32=T.crc32,Se.compressedSize=T.compressedSize,Se.uncompressedSize=T.uncompressedSize);var M=0;b&&(M|=8),q||!j&&!R||(M|=2048);var z=0,ae=0;me&&(z|=16),w==="UNIX"?(ae=798,z|=(function(ue,Ae){var Me=ue;return ue||(Me=Ae?16893:33204),(65535&Me)<<16})(U.unixPermissions,me)):(ae=20,z|=(function(ue){return 63&(ue||0)})(U.dosPermissions)),D=se.getUTCHours(),D<<=6,D|=se.getUTCMinutes(),D<<=5,D|=se.getUTCSeconds()/2,B=se.getUTCFullYear()-1980,B<<=4,B|=se.getUTCMonth()+1,B<<=5,B|=se.getUTCDate(),j&&(K=u(1,1)+u(v(ne),4)+V,oe+="up"+u(K.length,2)+K),R&&(J=u(1,1)+u(v(ve),4)+O,oe+="uc"+u(J.length,2)+J);var ie="";return ie+=`
\0`,ie+=u(M,2),ie+=X.magic,ie+=u(D,2),ie+=u(B,2),ie+=u(Se.crc32,4),ie+=u(Se.compressedSize,4),ie+=u(Se.uncompressedSize,4),ie+=u(ne.length,2),ie+=u(oe.length,2),{fileRecord:_.LOCAL_FILE_HEADER+ie+ne+oe,dirRecord:_.CENTRAL_FILE_HEADER+u(ae,2)+ie+u(ve.length,2)+"\0\0\0\0"+u(z,4)+u(x,4)+ne+oe+ve}}var d=o("../utils"),g=o("../stream/GenericWorker"),m=o("../utf8"),v=o("../crc32"),_=o("../signature");function S(T,b,C,x){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=C,this.encodeFileName=x,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(S,g),S.prototype.push=function(T){var b=T.meta.percent||0,C=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,g.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:C?(b+100*(C-x-1))/C:100}}))},S.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var b=this.streamFiles&&!T.file.dir;if(b){var C=f(T,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:C.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(T){this.accumulate=!1;var b=this.streamFiles&&!T.file.dir,C=f(T,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(C.dirRecord),b)this.push({data:(function(x){return _.DATA_DESCRIPTOR+u(x.crc32,4)+u(x.compressedSize,4)+u(x.uncompressedSize,4)})(T),meta:{percent:100}});else for(this.push({data:C.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var T=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var C=this.bytesWritten-T,x=(function(w,I,D,B,U){var X=d.transformTo("string",U(B));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(w,2)+u(w,2)+u(I,4)+u(D,4)+u(X.length,2)+X})(this.dirRecords.length,C,T,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(T){this._sources.push(T);var b=this;return T.on("data",function(C){b.processChunk(C)}),T.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),T.on("error",function(C){b.error(C)}),this},S.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(T){var b=this._sources;if(!g.prototype.error.call(this,T))return!1;for(var C=0;C<b.length;C++)try{b[C].error(T)}catch{}return!0},S.prototype.lock=function(){g.prototype.lock.call(this);for(var T=this._sources,b=0;b<T.length;b++)T[b].lock()},r.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,r,a){var u=o("../compressions"),f=o("./ZipFileWorker");a.generateWorker=function(d,g,m){var v=new f(g.streamFiles,m,g.platform,g.encodeFileName),_=0;try{d.forEach(function(S,T){_++;var b=(function(I,D){var B=I||D,U=u[B];if(!U)throw new Error(B+" is not a valid compression method !");return U})(T.options.compression,g.compression),C=T.options.compressionOptions||g.compressionOptions||{},x=T.dir,w=T.date;T._compressWorker(b,C).withStreamInfo("file",{name:S,dir:x,date:w,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(v)}),v.entriesCount=_}catch(S){v.error(S)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,r,a){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new u;for(var d in this)typeof this[d]!="function"&&(f[d]=this[d]);return f}}(u.prototype=o("./object")).loadAsync=o("./load"),u.support=o("./support"),u.defaults=o("./defaults"),u.version="3.10.1",u.loadAsync=function(f,d){return new u().loadAsync(f,d)},u.external=o("./external"),r.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,r,a){var u=o("./utils"),f=o("./external"),d=o("./utf8"),g=o("./zipEntries"),m=o("./stream/Crc32Probe"),v=o("./nodejsUtils");function _(S){return new f.Promise(function(T,b){var C=S.decompressed.getContentWorker().pipe(new m);C.on("error",function(x){b(x)}).on("end",function(){C.streamInfo.crc32!==S.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}r.exports=function(S,T){var b=this;return T=u.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),v.isNode&&v.isStream(S)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",S,!0,T.optimizedBinaryString,T.base64).then(function(C){var x=new g(T);return x.load(C),x}).then(function(C){var x=[f.Promise.resolve(C)],w=C.files;if(T.checkCRC32)for(var I=0;I<w.length;I++)x.push(_(w[I]));return f.Promise.all(x)}).then(function(C){for(var x=C.shift(),w=x.files,I=0;I<w.length;I++){var D=w[I],B=D.fileNameStr,U=u.resolve(D.fileNameStr);b.file(U,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:T.createFolders}),D.dir||(b.file(U).unsafeOriginalName=B)}return x.zipComment.length&&(b.comment=x.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,r,a){var u=o("../utils"),f=o("../stream/GenericWorker");function d(g,m){f.call(this,"Nodejs stream input adapter for "+g),this._upstreamEnded=!1,this._bindStream(m)}u.inherits(d,f),d.prototype._bindStream=function(g){var m=this;(this._stream=g).pause(),g.on("data",function(v){m.push({data:v,meta:{percent:0}})}).on("error",function(v){m.isPaused?this.generatedError=v:m.error(v)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},d.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,r,a){var u=o("readable-stream").Readable;function f(d,g,m){u.call(this,g),this._helper=d;var v=this;d.on("data",function(_,S){v.push(_)||v._helper.pause(),m&&m(S)}).on("error",function(_){v.emit("error",_)}).on("end",function(){v.push(null)})}o("../utils").inherits(f,u),f.prototype._read=function(){this._helper.resume()},r.exports=f},{"../utils":32,"readable-stream":16}],14:[function(o,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,f);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,f)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var f=new Buffer(u);return f.fill(0),f},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(o,r,a){function u(U,X,q){var ne,V=d.getTypeOf(X),re=d.extend(q||{},v);re.date=re.date||new Date,re.compression!==null&&(re.compression=re.compression.toUpperCase()),typeof re.unixPermissions=="string"&&(re.unixPermissions=parseInt(re.unixPermissions,8)),re.unixPermissions&&16384&re.unixPermissions&&(re.dir=!0),re.dosPermissions&&16&re.dosPermissions&&(re.dir=!0),re.dir&&(U=w(U)),re.createFolders&&(ne=x(U))&&I.call(this,ne,!0);var ve=V==="string"&&re.binary===!1&&re.base64===!1;q&&q.binary!==void 0||(re.binary=!ve),(X instanceof _&&X.uncompressedSize===0||re.dir||!X||X.length===0)&&(re.base64=!1,re.binary=!0,X="",re.compression="STORE",V="string");var O=null;O=X instanceof _||X instanceof g?X:b.isNode&&b.isStream(X)?new C(U,X):d.prepareContent(U,X,re.binary,re.optimizedBinaryString,re.base64);var j=new S(U,O,re);this.files[U]=j}var f=o("./utf8"),d=o("./utils"),g=o("./stream/GenericWorker"),m=o("./stream/StreamHelper"),v=o("./defaults"),_=o("./compressedObject"),S=o("./zipObject"),T=o("./generate"),b=o("./nodejsUtils"),C=o("./nodejs/NodejsStreamInputAdapter"),x=function(U){U.slice(-1)==="/"&&(U=U.substring(0,U.length-1));var X=U.lastIndexOf("/");return 0<X?U.substring(0,X):""},w=function(U){return U.slice(-1)!=="/"&&(U+="/"),U},I=function(U,X){return X=X!==void 0?X:v.createFolders,U=w(U),this.files[U]||u.call(this,U,null,{dir:!0,createFolders:X}),this.files[U]};function D(U){return Object.prototype.toString.call(U)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(U){var X,q,ne;for(X in this.files)ne=this.files[X],(q=X.slice(this.root.length,X.length))&&X.slice(0,this.root.length)===this.root&&U(q,ne)},filter:function(U){var X=[];return this.forEach(function(q,ne){U(q,ne)&&X.push(ne)}),X},file:function(U,X,q){if(arguments.length!==1)return U=this.root+U,u.call(this,U,X,q),this;if(D(U)){var ne=U;return this.filter(function(re,ve){return!ve.dir&&ne.test(re)})}var V=this.files[this.root+U];return V&&!V.dir?V:null},folder:function(U){if(!U)return this;if(D(U))return this.filter(function(V,re){return re.dir&&U.test(V)});var X=this.root+U,q=I.call(this,X),ne=this.clone();return ne.root=q.name,ne},remove:function(U){U=this.root+U;var X=this.files[U];if(X||(U.slice(-1)!=="/"&&(U+="/"),X=this.files[U]),X&&!X.dir)delete this.files[U];else for(var q=this.filter(function(V,re){return re.name.slice(0,U.length)===U}),ne=0;ne<q.length;ne++)delete this.files[q[ne].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(U){var X,q={};try{if((q=d.extend(U||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=q.type.toLowerCase(),q.compression=q.compression.toUpperCase(),q.type==="binarystring"&&(q.type="string"),!q.type)throw new Error("No output type specified.");d.checkSupport(q.type),q.platform!=="darwin"&&q.platform!=="freebsd"&&q.platform!=="linux"&&q.platform!=="sunos"||(q.platform="UNIX"),q.platform==="win32"&&(q.platform="DOS");var ne=q.comment||this.comment||"";X=T.generateWorker(this,q,ne)}catch(V){(X=new g("error")).error(V)}return new m(X,q.type||"string",q.mimeType)},generateAsync:function(U,X){return this.generateInternalStream(U).accumulate(X)},generateNodeStream:function(U,X){return(U=U||{}).type||(U.type="nodebuffer"),this.generateInternalStream(U).toNodejsStream(X)}};r.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,r,a){r.exports=o("stream")},{stream:void 0}],17:[function(o,r,a){var u=o("./DataReader");function f(d){u.call(this,d);for(var g=0;g<this.data.length;g++)d[g]=255&d[g]}o("../utils").inherits(f,u),f.prototype.byteAt=function(d){return this.data[this.zero+d]},f.prototype.lastIndexOfSignature=function(d){for(var g=d.charCodeAt(0),m=d.charCodeAt(1),v=d.charCodeAt(2),_=d.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===g&&this.data[S+1]===m&&this.data[S+2]===v&&this.data[S+3]===_)return S-this.zero;return-1},f.prototype.readAndCheckSignature=function(d){var g=d.charCodeAt(0),m=d.charCodeAt(1),v=d.charCodeAt(2),_=d.charCodeAt(3),S=this.readData(4);return g===S[0]&&m===S[1]&&v===S[2]&&_===S[3]},f.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,g},r.exports=f},{"../utils":32,"./DataReader":18}],18:[function(o,r,a){var u=o("../utils");function f(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var g,m=0;for(this.checkOffset(d),g=this.index+d-1;g>=this.index;g--)m=(m<<8)+this.byteAt(g);return this.index+=d,m},readString:function(d){return u.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},r.exports=f},{"../utils":32}],19:[function(o,r,a){var u=o("./Uint8ArrayReader");function f(d){u.call(this,d)}o("../utils").inherits(f,u),f.prototype.readData=function(d){this.checkOffset(d);var g=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,g},r.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,r,a){var u=o("./DataReader");function f(d){u.call(this,d)}o("../utils").inherits(f,u),f.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},f.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},f.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},f.prototype.readData=function(d){this.checkOffset(d);var g=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,g},r.exports=f},{"../utils":32,"./DataReader":18}],21:[function(o,r,a){var u=o("./ArrayReader");function f(d){u.call(this,d)}o("../utils").inherits(f,u),f.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,g},r.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(o,r,a){var u=o("../utils"),f=o("../support"),d=o("./ArrayReader"),g=o("./StringReader"),m=o("./NodeBufferReader"),v=o("./Uint8ArrayReader");r.exports=function(_){var S=u.getTypeOf(_);return u.checkSupport(S),S!=="string"||f.uint8array?S==="nodebuffer"?new m(_):f.uint8array?new v(u.transformTo("uint8array",_)):new d(u.transformTo("array",_)):new g(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,r,a){var u=o("./GenericWorker"),f=o("../utils");function d(g){u.call(this,"ConvertWorker to "+g),this.destType=g}f.inherits(d,u),d.prototype.processChunk=function(g){this.push({data:f.transformTo(this.destType,g.data),meta:g.meta})},r.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(o,r,a){var u=o("./GenericWorker"),f=o("../crc32");function d(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(d,u),d.prototype.processChunk=function(g){this.streamInfo.crc32=f(g.data,this.streamInfo.crc32||0),this.push(g)},r.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,r,a){var u=o("../utils"),f=o("./GenericWorker");function d(g){f.call(this,"DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}u.inherits(d,f),d.prototype.processChunk=function(g){if(g){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+g.data.length}f.prototype.processChunk.call(this,g)},r.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(o,r,a){var u=o("../utils"),f=o("./GenericWorker");function d(g){f.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(v){m.dataIsReady=!0,m.data=v,m.max=v&&v.length||0,m.type=u.getTypeOf(v),m.isPaused||m._tickAndRepeat()},function(v){m.error(v)})}u.inherits(d,f),d.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var g=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,m);break;case"uint8array":g=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":g=this.data.slice(this.index,m)}return this.index=m,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(o,r,a){function u(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,d){return this._listeners[f].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,d){if(this._listeners[f])for(var g=0;g<this._listeners[f].length;g++)this._listeners[f][g].call(this,d)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var d=this;return f.on("data",function(g){d.processChunk(g)}),f.on("end",function(){d.end()}),f.on("error",function(g){d.error(g)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,d){return this.extraStreamInfo[f]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},r.exports=u},{}],29:[function(o,r,a){var u=o("../utils"),f=o("./ConvertWorker"),d=o("./GenericWorker"),g=o("../base64"),m=o("../support"),v=o("../external"),_=null;if(m.nodestream)try{_=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(b,C){return new v.Promise(function(x,w){var I=[],D=b._internalType,B=b._outputType,U=b._mimeType;b.on("data",function(X,q){I.push(X),C&&C(q)}).on("error",function(X){I=[],w(X)}).on("end",function(){try{var X=(function(q,ne,V){switch(q){case"blob":return u.newBlob(u.transformTo("arraybuffer",ne),V);case"base64":return g.encode(ne);default:return u.transformTo(q,ne)}})(B,(function(q,ne){var V,re=0,ve=null,O=0;for(V=0;V<ne.length;V++)O+=ne[V].length;switch(q){case"string":return ne.join("");case"array":return Array.prototype.concat.apply([],ne);case"uint8array":for(ve=new Uint8Array(O),V=0;V<ne.length;V++)ve.set(ne[V],re),re+=ne[V].length;return ve;case"nodebuffer":return Buffer.concat(ne);default:throw new Error("concat : unsupported type '"+q+"'")}})(D,I),U);x(X)}catch(q){w(q)}I=[]}).resume()})}function T(b,C,x){var w=C;switch(C){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=C,this._mimeType=x,u.checkSupport(w),this._worker=b.pipe(new f(w)),b.lock()}catch(I){this._worker=new d("error"),this._worker.error(I)}}T.prototype={accumulate:function(b){return S(this,b)},on:function(b,C){var x=this;return b==="data"?this._worker.on(b,function(w){C.call(x,w.data,w.meta)}):this._worker.on(b,function(){u.delay(C,arguments,x)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var u=new ArrayBuffer(0);try{a.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(u),a.blob=f.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!o("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(o,r,a){for(var u=o("./utils"),f=o("./support"),d=o("./nodejsUtils"),g=o("./stream/GenericWorker"),m=new Array(256),v=0;v<256;v++)m[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;m[254]=m[254]=1;function _(){g.call(this,"utf-8 decode"),this.leftOver=null}function S(){g.call(this,"utf-8 encode")}a.utf8encode=function(T){return f.nodebuffer?d.newBufferFrom(T,"utf-8"):(function(b){var C,x,w,I,D,B=b.length,U=0;for(I=0;I<B;I++)(64512&(x=b.charCodeAt(I)))==55296&&I+1<B&&(64512&(w=b.charCodeAt(I+1)))==56320&&(x=65536+(x-55296<<10)+(w-56320),I++),U+=x<128?1:x<2048?2:x<65536?3:4;for(C=f.uint8array?new Uint8Array(U):new Array(U),I=D=0;D<U;I++)(64512&(x=b.charCodeAt(I)))==55296&&I+1<B&&(64512&(w=b.charCodeAt(I+1)))==56320&&(x=65536+(x-55296<<10)+(w-56320),I++),x<128?C[D++]=x:(x<2048?C[D++]=192|x>>>6:(x<65536?C[D++]=224|x>>>12:(C[D++]=240|x>>>18,C[D++]=128|x>>>12&63),C[D++]=128|x>>>6&63),C[D++]=128|63&x);return C})(T)},a.utf8decode=function(T){return f.nodebuffer?u.transformTo("nodebuffer",T).toString("utf-8"):(function(b){var C,x,w,I,D=b.length,B=new Array(2*D);for(C=x=0;C<D;)if((w=b[C++])<128)B[x++]=w;else if(4<(I=m[w]))B[x++]=65533,C+=I-1;else{for(w&=I===2?31:I===3?15:7;1<I&&C<D;)w=w<<6|63&b[C++],I--;1<I?B[x++]=65533:w<65536?B[x++]=w:(w-=65536,B[x++]=55296|w>>10&1023,B[x++]=56320|1023&w)}return B.length!==x&&(B.subarray?B=B.subarray(0,x):B.length=x),u.applyFromCharCode(B)})(T=u.transformTo(f.uint8array?"uint8array":"array",T))},u.inherits(_,g),_.prototype.processChunk=function(T){var b=u.transformTo(f.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var C=b;(b=new Uint8Array(C.length+this.leftOver.length)).set(this.leftOver,0),b.set(C,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var x=(function(I,D){var B;for((D=D||I.length)>I.length&&(D=I.length),B=D-1;0<=B&&(192&I[B])==128;)B--;return B<0||B===0?D:B+m[I[B]]>D?B:D})(b),w=b;x!==b.length&&(f.uint8array?(w=b.subarray(0,x),this.leftOver=b.subarray(x,b.length)):(w=b.slice(0,x),this.leftOver=b.slice(x,b.length))),this.push({data:a.utf8decode(w),meta:T.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=_,u.inherits(S,g),S.prototype.processChunk=function(T){this.push({data:a.utf8encode(T.data),meta:T.meta})},a.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,r,a){var u=o("./support"),f=o("./base64"),d=o("./nodejsUtils"),g=o("./external");function m(C){return C}function v(C,x){for(var w=0;w<C.length;++w)x[w]=255&C.charCodeAt(w);return x}o("setimmediate"),a.newBlob=function(C,x){a.checkSupport("blob");try{return new Blob([C],{type:x})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(C),w.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(C,x,w){var I=[],D=0,B=C.length;if(B<=w)return String.fromCharCode.apply(null,C);for(;D<B;)x==="array"||x==="nodebuffer"?I.push(String.fromCharCode.apply(null,C.slice(D,Math.min(D+w,B)))):I.push(String.fromCharCode.apply(null,C.subarray(D,Math.min(D+w,B)))),D+=w;return I.join("")},stringifyByChar:function(C){for(var x="",w=0;w<C.length;w++)x+=String.fromCharCode(C[w]);return x},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}})()}};function S(C){var x=65536,w=a.getTypeOf(C),I=!0;if(w==="uint8array"?I=_.applyCanBeUsed.uint8array:w==="nodebuffer"&&(I=_.applyCanBeUsed.nodebuffer),I)for(;1<x;)try{return _.stringifyByChunk(C,w,x)}catch{x=Math.floor(x/2)}return _.stringifyByChar(C)}function T(C,x){for(var w=0;w<C.length;w++)x[w]=C[w];return x}a.applyFromCharCode=S;var b={};b.string={string:m,array:function(C){return v(C,new Array(C.length))},arraybuffer:function(C){return b.string.uint8array(C).buffer},uint8array:function(C){return v(C,new Uint8Array(C.length))},nodebuffer:function(C){return v(C,d.allocBuffer(C.length))}},b.array={string:S,array:m,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return d.newBufferFrom(C)}},b.arraybuffer={string:function(C){return S(new Uint8Array(C))},array:function(C){return T(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:m,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return d.newBufferFrom(new Uint8Array(C))}},b.uint8array={string:S,array:function(C){return T(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:m,nodebuffer:function(C){return d.newBufferFrom(C)}},b.nodebuffer={string:S,array:function(C){return T(C,new Array(C.length))},arraybuffer:function(C){return b.nodebuffer.uint8array(C).buffer},uint8array:function(C){return T(C,new Uint8Array(C.length))},nodebuffer:m},a.transformTo=function(C,x){if(x=x||"",!C)return x;a.checkSupport(C);var w=a.getTypeOf(x);return b[w][C](x)},a.resolve=function(C){for(var x=C.split("/"),w=[],I=0;I<x.length;I++){var D=x[I];D==="."||D===""&&I!==0&&I!==x.length-1||(D===".."?w.pop():w.push(D))}return w.join("/")},a.getTypeOf=function(C){return typeof C=="string"?"string":Object.prototype.toString.call(C)==="[object Array]"?"array":u.nodebuffer&&d.isBuffer(C)?"nodebuffer":u.uint8array&&C instanceof Uint8Array?"uint8array":u.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(C){if(!u[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(C){var x,w,I="";for(w=0;w<(C||"").length;w++)I+="\\x"+((x=C.charCodeAt(w))<16?"0":"")+x.toString(16).toUpperCase();return I},a.delay=function(C,x,w){setImmediate(function(){C.apply(w||null,x||[])})},a.inherits=function(C,x){function w(){}w.prototype=x.prototype,C.prototype=new w},a.extend=function(){var C,x,w={};for(C=0;C<arguments.length;C++)for(x in arguments[C])Object.prototype.hasOwnProperty.call(arguments[C],x)&&w[x]===void 0&&(w[x]=arguments[C][x]);return w},a.prepareContent=function(C,x,w,I,D){return g.Promise.resolve(x).then(function(B){return u.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader<"u"?new g.Promise(function(U,X){var q=new FileReader;q.onload=function(ne){U(ne.target.result)},q.onerror=function(ne){X(ne.target.error)},q.readAsArrayBuffer(B)}):B}).then(function(B){var U=a.getTypeOf(B);return U?(U==="arraybuffer"?B=a.transformTo("uint8array",B):U==="string"&&(D?B=f.decode(B):w&&I!==!0&&(B=(function(X){return v(X,u.uint8array?new Uint8Array(X.length):new Array(X.length))})(B))),B):g.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,r,a){var u=o("./reader/readerFor"),f=o("./utils"),d=o("./signature"),g=o("./zipEntry"),m=o("./support");function v(_){this.files=[],this.loadOptions=_}v.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(S)+", expected "+f.pretty(_)+")")}},isSignature:function(_,S){var T=this.reader.index;this.reader.setIndex(_);var b=this.reader.readString(4)===S;return this.reader.setIndex(T),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",T=f.transformTo(S,_);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,S,T,b=this.zip64EndOfCentralSize-44;0<b;)_=this.reader.readInt(2),S=this.reader.readInt(4),T=this.reader.readData(S),this.zip64ExtensibleData[_]={id:_,length:S,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,S;for(_=0;_<this.files.length;_++)S=this.files[_],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(_=new g({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var S=_;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var b=S-T;if(0<b)this.isSignature(S,d.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(_){this.reader=u(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,r,a){var u=o("./reader/readerFor"),f=o("./utils"),d=o("./compressedObject"),g=o("./crc32"),m=o("./utf8"),v=o("./compressions"),_=o("./support");function S(T,b){this.options=T,this.loadOptions=b}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var b,C;if(T.skip(22),this.fileNameLength=T.readInt(2),C=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(C),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(x){for(var w in v)if(Object.prototype.hasOwnProperty.call(v,w)&&v[w].magic===x)return v[w];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,b,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var b=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(b),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=u(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var b,C,x,w=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<w;)b=T.readInt(2),C=T.readInt(2),x=T.readData(C),this.extraFields[b]={id:b,length:C,value:x};T.setIndex(w)},handleUTF8:function(){var T=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var C=f.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(C)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var w=f.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var b=u(T.value);return b.readInt(1)!==1||g(this.fileName)!==b.readInt(4)?null:m.utf8decode(b.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var b=u(T.value);return b.readInt(1)!==1||g(this.fileComment)!==b.readInt(4)?null:m.utf8decode(b.readData(T.length-5))}return null}},r.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,r,a){function u(b,C,x){this.name=b,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=C,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var f=o("./stream/StreamHelper"),d=o("./stream/DataWorker"),g=o("./utf8"),m=o("./compressedObject"),v=o("./stream/GenericWorker");u.prototype={internalStream:function(b){var C=null,x="string";try{if(!b)throw new Error("No output type specified.");var w=(x=b.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),C=this._decompressWorker();var I=!this._dataBinary;I&&!w&&(C=C.pipe(new g.Utf8EncodeWorker)),!I&&w&&(C=C.pipe(new g.Utf8DecodeWorker))}catch(D){(C=new v("error")).error(D)}return new f(C,x,"")},async:function(b,C){return this.internalStream(b).accumulate(C)},nodeStream:function(b,C){return this.internalStream(b||"nodebuffer").toNodejsStream(C)},_compressWorker:function(b,C){if(this._data instanceof m&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new g.Utf8EncodeWorker)),m.createWorkerFrom(x,b,C)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof v?this._data:new d(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<_.length;T++)u.prototype[_[T]]=S;r.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,r,a){(function(u){var f,d,g=u.MutationObserver||u.WebKitMutationObserver;if(g){var m=0,v=new g(b),_=u.document.createTextNode("");v.observe(_,{characterData:!0}),f=function(){_.data=m=++m%2}}else if(u.setImmediate||u.MessageChannel===void 0)f="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var C=u.document.createElement("script");C.onreadystatechange=function(){b(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},u.document.documentElement.appendChild(C)}:function(){setTimeout(b,0)};else{var S=new u.MessageChannel;S.port1.onmessage=b,f=function(){S.port2.postMessage(0)}}var T=[];function b(){var C,x;d=!0;for(var w=T.length;w;){for(x=T,T=[],C=-1;++C<w;)x[C]();w=T.length}d=!1}r.exports=function(C){T.push(C)!==1||d||f()}}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,r,a){var u=o("immediate");function f(){}var d={},g=["REJECTED"],m=["FULFILLED"],v=["PENDING"];function _(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,w!==f&&C(this,w)}function S(w,I,D){this.promise=w,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function T(w,I,D){u(function(){var B;try{B=I(D)}catch(U){return d.reject(w,U)}B===w?d.reject(w,new TypeError("Cannot resolve promise with itself")):d.resolve(w,B)})}function b(w){var I=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof I=="function")return function(){I.apply(w,arguments)}}function C(w,I){var D=!1;function B(q){D||(D=!0,d.reject(w,q))}function U(q){D||(D=!0,d.resolve(w,q))}var X=x(function(){I(U,B)});X.status==="error"&&B(X.value)}function x(w,I){var D={};try{D.value=w(I),D.status="success"}catch(B){D.status="error",D.value=B}return D}(r.exports=_).prototype.finally=function(w){if(typeof w!="function")return this;var I=this.constructor;return this.then(function(D){return I.resolve(w()).then(function(){return D})},function(D){return I.resolve(w()).then(function(){throw D})})},_.prototype.catch=function(w){return this.then(null,w)},_.prototype.then=function(w,I){if(typeof w!="function"&&this.state===m||typeof I!="function"&&this.state===g)return this;var D=new this.constructor(f);return this.state!==v?T(D,this.state===m?w:I,this.outcome):this.queue.push(new S(D,w,I)),D},S.prototype.callFulfilled=function(w){d.resolve(this.promise,w)},S.prototype.otherCallFulfilled=function(w){T(this.promise,this.onFulfilled,w)},S.prototype.callRejected=function(w){d.reject(this.promise,w)},S.prototype.otherCallRejected=function(w){T(this.promise,this.onRejected,w)},d.resolve=function(w,I){var D=x(b,I);if(D.status==="error")return d.reject(w,D.value);var B=D.value;if(B)C(w,B);else{w.state=m,w.outcome=I;for(var U=-1,X=w.queue.length;++U<X;)w.queue[U].callFulfilled(I)}return w},d.reject=function(w,I){w.state=g,w.outcome=I;for(var D=-1,B=w.queue.length;++D<B;)w.queue[D].callRejected(I);return w},_.resolve=function(w){return w instanceof this?w:d.resolve(new this(f),w)},_.reject=function(w){var I=new this(f);return d.reject(I,w)},_.all=function(w){var I=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=w.length,B=!1;if(!D)return this.resolve([]);for(var U=new Array(D),X=0,q=-1,ne=new this(f);++q<D;)V(w[q],q);return ne;function V(re,ve){I.resolve(re).then(function(O){U[ve]=O,++X!==D||B||(B=!0,d.resolve(ne,U))},function(O){B||(B=!0,d.reject(ne,O))})}},_.race=function(w){var I=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=w.length,B=!1;if(!D)return this.resolve([]);for(var U=-1,X=new this(f);++U<D;)q=w[U],I.resolve(q).then(function(ne){B||(B=!0,d.resolve(X,ne))},function(ne){B||(B=!0,d.reject(X,ne))});var q;return X}},{immediate:36}],38:[function(o,r,a){var u={};(0,o("./lib/utils/common").assign)(u,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),r.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,r,a){var u=o("./zlib/deflate"),f=o("./utils/common"),d=o("./utils/strings"),g=o("./zlib/messages"),m=o("./zlib/zstream"),v=Object.prototype.toString,_=0,S=-1,T=0,b=8;function C(w){if(!(this instanceof C))return new C(w);this.options=f.assign({level:S,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:T,to:""},w||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var D=u.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(D!==_)throw new Error(g[D]);if(I.header&&u.deflateSetHeader(this.strm,I.header),I.dictionary){var B;if(B=typeof I.dictionary=="string"?d.string2buf(I.dictionary):v.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(D=u.deflateSetDictionary(this.strm,B))!==_)throw new Error(g[D]);this._dict_set=!0}}function x(w,I){var D=new C(I);if(D.push(w,!0),D.err)throw D.msg||g[D.err];return D.result}C.prototype.push=function(w,I){var D,B,U=this.strm,X=this.options.chunkSize;if(this.ended)return!1;B=I===~~I?I:I===!0?4:0,typeof w=="string"?U.input=d.string2buf(w):v.call(w)==="[object ArrayBuffer]"?U.input=new Uint8Array(w):U.input=w,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new f.Buf8(X),U.next_out=0,U.avail_out=X),(D=u.deflate(U,B))!==1&&D!==_)return this.onEnd(D),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||B!==4&&B!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(f.shrinkBuf(U.output,U.next_out))):this.onData(f.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&D!==1);return B===4?(D=u.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===_):B!==2||(this.onEnd(_),!(U.avail_out=0))},C.prototype.onData=function(w){this.chunks.push(w)},C.prototype.onEnd=function(w){w===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},a.Deflate=C,a.deflate=x,a.deflateRaw=function(w,I){return(I=I||{}).raw=!0,x(w,I)},a.gzip=function(w,I){return(I=I||{}).gzip=!0,x(w,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,r,a){var u=o("./zlib/inflate"),f=o("./utils/common"),d=o("./utils/strings"),g=o("./zlib/constants"),m=o("./zlib/messages"),v=o("./zlib/zstream"),_=o("./zlib/gzheader"),S=Object.prototype.toString;function T(C){if(!(this instanceof T))return new T(C);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},C||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||C&&C.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var w=u.inflateInit2(this.strm,x.windowBits);if(w!==g.Z_OK)throw new Error(m[w]);this.header=new _,u.inflateGetHeader(this.strm,this.header)}function b(C,x){var w=new T(x);if(w.push(C,!0),w.err)throw w.msg||m[w.err];return w.result}T.prototype.push=function(C,x){var w,I,D,B,U,X,q=this.strm,ne=this.options.chunkSize,V=this.options.dictionary,re=!1;if(this.ended)return!1;I=x===~~x?x:x===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof C=="string"?q.input=d.binstring2buf(C):S.call(C)==="[object ArrayBuffer]"?q.input=new Uint8Array(C):q.input=C,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new f.Buf8(ne),q.next_out=0,q.avail_out=ne),(w=u.inflate(q,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&V&&(X=typeof V=="string"?d.string2buf(V):S.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,w=u.inflateSetDictionary(this.strm,X)),w===g.Z_BUF_ERROR&&re===!0&&(w=g.Z_OK,re=!1),w!==g.Z_STREAM_END&&w!==g.Z_OK)return this.onEnd(w),!(this.ended=!0);q.next_out&&(q.avail_out!==0&&w!==g.Z_STREAM_END&&(q.avail_in!==0||I!==g.Z_FINISH&&I!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=d.utf8border(q.output,q.next_out),B=q.next_out-D,U=d.buf2string(q.output,D),q.next_out=B,q.avail_out=ne-B,B&&f.arraySet(q.output,q.output,D,B,0),this.onData(U)):this.onData(f.shrinkBuf(q.output,q.next_out)))),q.avail_in===0&&q.avail_out===0&&(re=!0)}while((0<q.avail_in||q.avail_out===0)&&w!==g.Z_STREAM_END);return w===g.Z_STREAM_END&&(I=g.Z_FINISH),I===g.Z_FINISH?(w=u.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===g.Z_OK):I!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),!(q.avail_out=0))},T.prototype.onData=function(C){this.chunks.push(C)},T.prototype.onEnd=function(C){C===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},a.Inflate=T,a.inflate=b,a.inflateRaw=function(C,x){return(x=x||{}).raw=!0,b(C,x)},a.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,r,a){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(g){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var v=m.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var _ in v)v.hasOwnProperty(_)&&(g[_]=v[_])}}return g},a.shrinkBuf=function(g,m){return g.length===m?g:g.subarray?g.subarray(0,m):(g.length=m,g)};var f={arraySet:function(g,m,v,_,S){if(m.subarray&&g.subarray)g.set(m.subarray(v,v+_),S);else for(var T=0;T<_;T++)g[S+T]=m[v+T]},flattenChunks:function(g){var m,v,_,S,T,b;for(m=_=0,v=g.length;m<v;m++)_+=g[m].length;for(b=new Uint8Array(_),m=S=0,v=g.length;m<v;m++)T=g[m],b.set(T,S),S+=T.length;return b}},d={arraySet:function(g,m,v,_,S){for(var T=0;T<_;T++)g[S+T]=m[v+T]},flattenChunks:function(g){return[].concat.apply([],g)}};a.setTyped=function(g){g?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,f)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,d))},a.setTyped(u)},{}],42:[function(o,r,a){var u=o("./common"),f=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var g=new u.Buf8(256),m=0;m<256;m++)g[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function v(_,S){if(S<65537&&(_.subarray&&d||!_.subarray&&f))return String.fromCharCode.apply(null,u.shrinkBuf(_,S));for(var T="",b=0;b<S;b++)T+=String.fromCharCode(_[b]);return T}g[254]=g[254]=1,a.string2buf=function(_){var S,T,b,C,x,w=_.length,I=0;for(C=0;C<w;C++)(64512&(T=_.charCodeAt(C)))==55296&&C+1<w&&(64512&(b=_.charCodeAt(C+1)))==56320&&(T=65536+(T-55296<<10)+(b-56320),C++),I+=T<128?1:T<2048?2:T<65536?3:4;for(S=new u.Buf8(I),C=x=0;x<I;C++)(64512&(T=_.charCodeAt(C)))==55296&&C+1<w&&(64512&(b=_.charCodeAt(C+1)))==56320&&(T=65536+(T-55296<<10)+(b-56320),C++),T<128?S[x++]=T:(T<2048?S[x++]=192|T>>>6:(T<65536?S[x++]=224|T>>>12:(S[x++]=240|T>>>18,S[x++]=128|T>>>12&63),S[x++]=128|T>>>6&63),S[x++]=128|63&T);return S},a.buf2binstring=function(_){return v(_,_.length)},a.binstring2buf=function(_){for(var S=new u.Buf8(_.length),T=0,b=S.length;T<b;T++)S[T]=_.charCodeAt(T);return S},a.buf2string=function(_,S){var T,b,C,x,w=S||_.length,I=new Array(2*w);for(T=b=0;T<w;)if((C=_[T++])<128)I[b++]=C;else if(4<(x=g[C]))I[b++]=65533,T+=x-1;else{for(C&=x===2?31:x===3?15:7;1<x&&T<w;)C=C<<6|63&_[T++],x--;1<x?I[b++]=65533:C<65536?I[b++]=C:(C-=65536,I[b++]=55296|C>>10&1023,I[b++]=56320|1023&C)}return v(I,b)},a.utf8border=function(_,S){var T;for((S=S||_.length)>_.length&&(S=_.length),T=S-1;0<=T&&(192&_[T])==128;)T--;return T<0||T===0?S:T+g[_[T]]>S?T:S}},{"./common":41}],43:[function(o,r,a){r.exports=function(u,f,d,g){for(var m=65535&u|0,v=u>>>16&65535|0,_=0;d!==0;){for(d-=_=2e3<d?2e3:d;v=v+(m=m+f[g++]|0)|0,--_;);m%=65521,v%=65521}return m|v<<16|0}},{}],44:[function(o,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,r,a){var u=(function(){for(var f,d=[],g=0;g<256;g++){f=g;for(var m=0;m<8;m++)f=1&f?3988292384^f>>>1:f>>>1;d[g]=f}return d})();r.exports=function(f,d,g,m){var v=u,_=m+g;f^=-1;for(var S=m;S<_;S++)f=f>>>8^v[255&(f^d[S])];return-1^f}},{}],46:[function(o,r,a){var u,f=o("../utils/common"),d=o("./trees"),g=o("./adler32"),m=o("./crc32"),v=o("./messages"),_=0,S=4,T=0,b=-2,C=-1,x=4,w=2,I=8,D=9,B=286,U=30,X=19,q=2*B+1,ne=15,V=3,re=258,ve=re+V+1,O=42,j=113,R=1,oe=2,K=3,J=4;function me(A,fe){return A.msg=v[fe],fe}function se(A){return(A<<1)-(4<A?9:0)}function Se(A){for(var fe=A.length;0<=--fe;)A[fe]=0}function M(A){var fe=A.state,te=fe.pending;te>A.avail_out&&(te=A.avail_out),te!==0&&(f.arraySet(A.output,fe.pending_buf,fe.pending_out,te,A.next_out),A.next_out+=te,fe.pending_out+=te,A.total_out+=te,A.avail_out-=te,fe.pending-=te,fe.pending===0&&(fe.pending_out=0))}function z(A,fe){d._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,fe),A.block_start=A.strstart,M(A.strm)}function ae(A,fe){A.pending_buf[A.pending++]=fe}function ie(A,fe){A.pending_buf[A.pending++]=fe>>>8&255,A.pending_buf[A.pending++]=255&fe}function ue(A,fe){var te,G,L=A.max_chain_length,F=A.strstart,he=A.prev_length,pe=A.nice_match,W=A.strstart>A.w_size-ve?A.strstart-(A.w_size-ve):0,ge=A.window,_e=A.w_mask,ye=A.prev,be=A.strstart+re,Ye=ge[F+he-1],Le=ge[F+he];A.prev_length>=A.good_match&&(L>>=2),pe>A.lookahead&&(pe=A.lookahead);do if(ge[(te=fe)+he]===Le&&ge[te+he-1]===Ye&&ge[te]===ge[F]&&ge[++te]===ge[F+1]){F+=2,te++;do;while(ge[++F]===ge[++te]&&ge[++F]===ge[++te]&&ge[++F]===ge[++te]&&ge[++F]===ge[++te]&&ge[++F]===ge[++te]&&ge[++F]===ge[++te]&&ge[++F]===ge[++te]&&ge[++F]===ge[++te]&&F<be);if(G=re-(be-F),F=be-re,he<G){if(A.match_start=fe,pe<=(he=G))break;Ye=ge[F+he-1],Le=ge[F+he]}}while((fe=ye[fe&_e])>W&&--L!=0);return he<=A.lookahead?he:A.lookahead}function Ae(A){var fe,te,G,L,F,he,pe,W,ge,_e,ye=A.w_size;do{if(L=A.window_size-A.lookahead-A.strstart,A.strstart>=ye+(ye-ve)){for(f.arraySet(A.window,A.window,ye,ye,0),A.match_start-=ye,A.strstart-=ye,A.block_start-=ye,fe=te=A.hash_size;G=A.head[--fe],A.head[fe]=ye<=G?G-ye:0,--te;);for(fe=te=ye;G=A.prev[--fe],A.prev[fe]=ye<=G?G-ye:0,--te;);L+=ye}if(A.strm.avail_in===0)break;if(he=A.strm,pe=A.window,W=A.strstart+A.lookahead,ge=L,_e=void 0,_e=he.avail_in,ge<_e&&(_e=ge),te=_e===0?0:(he.avail_in-=_e,f.arraySet(pe,he.input,he.next_in,_e,W),he.state.wrap===1?he.adler=g(he.adler,pe,_e,W):he.state.wrap===2&&(he.adler=m(he.adler,pe,_e,W)),he.next_in+=_e,he.total_in+=_e,_e),A.lookahead+=te,A.lookahead+A.insert>=V)for(F=A.strstart-A.insert,A.ins_h=A.window[F],A.ins_h=(A.ins_h<<A.hash_shift^A.window[F+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[F+V-1])&A.hash_mask,A.prev[F&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=F,F++,A.insert--,!(A.lookahead+A.insert<V)););}while(A.lookahead<ve&&A.strm.avail_in!==0)}function Me(A,fe){for(var te,G;;){if(A.lookahead<ve){if(Ae(A),A.lookahead<ve&&fe===_)return R;if(A.lookahead===0)break}if(te=0,A.lookahead>=V&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,te=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),te!==0&&A.strstart-te<=A.w_size-ve&&(A.match_length=ue(A,te)),A.match_length>=V)if(G=d._tr_tally(A,A.strstart-A.match_start,A.match_length-V),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=V){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,te=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else G=d._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(G&&(z(A,!1),A.strm.avail_out===0))return R}return A.insert=A.strstart<V-1?A.strstart:V-1,fe===S?(z(A,!0),A.strm.avail_out===0?K:J):A.last_lit&&(z(A,!1),A.strm.avail_out===0)?R:oe}function Ne(A,fe){for(var te,G,L;;){if(A.lookahead<ve){if(Ae(A),A.lookahead<ve&&fe===_)return R;if(A.lookahead===0)break}if(te=0,A.lookahead>=V&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,te=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=V-1,te!==0&&A.prev_length<A.max_lazy_match&&A.strstart-te<=A.w_size-ve&&(A.match_length=ue(A,te),A.match_length<=5&&(A.strategy===1||A.match_length===V&&4096<A.strstart-A.match_start)&&(A.match_length=V-1)),A.prev_length>=V&&A.match_length<=A.prev_length){for(L=A.strstart+A.lookahead-V,G=d._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-V),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=L&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,te=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=V-1,A.strstart++,G&&(z(A,!1),A.strm.avail_out===0))return R}else if(A.match_available){if((G=d._tr_tally(A,0,A.window[A.strstart-1]))&&z(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return R}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(G=d._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<V-1?A.strstart:V-1,fe===S?(z(A,!0),A.strm.avail_out===0?K:J):A.last_lit&&(z(A,!1),A.strm.avail_out===0)?R:oe}function we(A,fe,te,G,L){this.good_length=A,this.max_lazy=fe,this.nice_length=te,this.max_chain=G,this.func=L}function nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*q),this.dyn_dtree=new f.Buf16(2*(2*U+1)),this.bl_tree=new f.Buf16(2*(2*X+1)),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(ne+1),this.heap=new f.Buf16(2*B+1),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*B+1),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function je(A){var fe;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=w,(fe=A.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?O:j,A.adler=fe.wrap===2?0:1,fe.last_flush=_,d._tr_init(fe),T):me(A,b)}function It(A){var fe=je(A);return fe===T&&(function(te){te.window_size=2*te.w_size,Se(te.head),te.max_lazy_match=u[te.level].max_lazy,te.good_match=u[te.level].good_length,te.nice_match=u[te.level].nice_length,te.max_chain_length=u[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=V-1,te.match_available=0,te.ins_h=0})(A.state),fe}function Dt(A,fe,te,G,L,F){if(!A)return b;var he=1;if(fe===C&&(fe=6),G<0?(he=0,G=-G):15<G&&(he=2,G-=16),L<1||D<L||te!==I||G<8||15<G||fe<0||9<fe||F<0||x<F)return me(A,b);G===8&&(G=9);var pe=new nt;return(A.state=pe).strm=A,pe.wrap=he,pe.gzhead=null,pe.w_bits=G,pe.w_size=1<<pe.w_bits,pe.w_mask=pe.w_size-1,pe.hash_bits=L+7,pe.hash_size=1<<pe.hash_bits,pe.hash_mask=pe.hash_size-1,pe.hash_shift=~~((pe.hash_bits+V-1)/V),pe.window=new f.Buf8(2*pe.w_size),pe.head=new f.Buf16(pe.hash_size),pe.prev=new f.Buf16(pe.w_size),pe.lit_bufsize=1<<L+6,pe.pending_buf_size=4*pe.lit_bufsize,pe.pending_buf=new f.Buf8(pe.pending_buf_size),pe.d_buf=1*pe.lit_bufsize,pe.l_buf=3*pe.lit_bufsize,pe.level=fe,pe.strategy=F,pe.method=te,It(A)}u=[new we(0,0,0,0,function(A,fe){var te=65535;for(te>A.pending_buf_size-5&&(te=A.pending_buf_size-5);;){if(A.lookahead<=1){if(Ae(A),A.lookahead===0&&fe===_)return R;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var G=A.block_start+te;if((A.strstart===0||A.strstart>=G)&&(A.lookahead=A.strstart-G,A.strstart=G,z(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-ve&&(z(A,!1),A.strm.avail_out===0))return R}return A.insert=0,fe===S?(z(A,!0),A.strm.avail_out===0?K:J):(A.strstart>A.block_start&&(z(A,!1),A.strm.avail_out),R)}),new we(4,4,8,4,Me),new we(4,5,16,8,Me),new we(4,6,32,32,Me),new we(4,4,16,16,Ne),new we(8,16,32,32,Ne),new we(8,16,128,128,Ne),new we(8,32,128,256,Ne),new we(32,128,258,1024,Ne),new we(32,258,258,4096,Ne)],a.deflateInit=function(A,fe){return Dt(A,fe,I,15,8,0)},a.deflateInit2=Dt,a.deflateReset=It,a.deflateResetKeep=je,a.deflateSetHeader=function(A,fe){return A&&A.state?A.state.wrap!==2?b:(A.state.gzhead=fe,T):b},a.deflate=function(A,fe){var te,G,L,F;if(!A||!A.state||5<fe||fe<0)return A?me(A,b):b;if(G=A.state,!A.output||!A.input&&A.avail_in!==0||G.status===666&&fe!==S)return me(A,A.avail_out===0?-5:b);if(G.strm=A,te=G.last_flush,G.last_flush=fe,G.status===O)if(G.wrap===2)A.adler=0,ae(G,31),ae(G,139),ae(G,8),G.gzhead?(ae(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),ae(G,255&G.gzhead.time),ae(G,G.gzhead.time>>8&255),ae(G,G.gzhead.time>>16&255),ae(G,G.gzhead.time>>24&255),ae(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ae(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(ae(G,255&G.gzhead.extra.length),ae(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(A.adler=m(A.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(ae(G,0),ae(G,0),ae(G,0),ae(G,0),ae(G,0),ae(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ae(G,3),G.status=j);else{var he=I+(G.w_bits-8<<4)<<8;he|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(he|=32),he+=31-he%31,G.status=j,ie(G,he),G.strstart!==0&&(ie(G,A.adler>>>16),ie(G,65535&A.adler)),A.adler=1}if(G.status===69)if(G.gzhead.extra){for(L=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>L&&(A.adler=m(A.adler,G.pending_buf,G.pending-L,L)),M(A),L=G.pending,G.pending!==G.pending_buf_size));)ae(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>L&&(A.adler=m(A.adler,G.pending_buf,G.pending-L,L)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){L=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>L&&(A.adler=m(A.adler,G.pending_buf,G.pending-L,L)),M(A),L=G.pending,G.pending===G.pending_buf_size)){F=1;break}F=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,ae(G,F)}while(F!==0);G.gzhead.hcrc&&G.pending>L&&(A.adler=m(A.adler,G.pending_buf,G.pending-L,L)),F===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){L=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>L&&(A.adler=m(A.adler,G.pending_buf,G.pending-L,L)),M(A),L=G.pending,G.pending===G.pending_buf_size)){F=1;break}F=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,ae(G,F)}while(F!==0);G.gzhead.hcrc&&G.pending>L&&(A.adler=m(A.adler,G.pending_buf,G.pending-L,L)),F===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&M(A),G.pending+2<=G.pending_buf_size&&(ae(G,255&A.adler),ae(G,A.adler>>8&255),A.adler=0,G.status=j)):G.status=j),G.pending!==0){if(M(A),A.avail_out===0)return G.last_flush=-1,T}else if(A.avail_in===0&&se(fe)<=se(te)&&fe!==S)return me(A,-5);if(G.status===666&&A.avail_in!==0)return me(A,-5);if(A.avail_in!==0||G.lookahead!==0||fe!==_&&G.status!==666){var pe=G.strategy===2?(function(W,ge){for(var _e;;){if(W.lookahead===0&&(Ae(W),W.lookahead===0)){if(ge===_)return R;break}if(W.match_length=0,_e=d._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,_e&&(z(W,!1),W.strm.avail_out===0))return R}return W.insert=0,ge===S?(z(W,!0),W.strm.avail_out===0?K:J):W.last_lit&&(z(W,!1),W.strm.avail_out===0)?R:oe})(G,fe):G.strategy===3?(function(W,ge){for(var _e,ye,be,Ye,Le=W.window;;){if(W.lookahead<=re){if(Ae(W),W.lookahead<=re&&ge===_)return R;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=V&&0<W.strstart&&(ye=Le[be=W.strstart-1])===Le[++be]&&ye===Le[++be]&&ye===Le[++be]){Ye=W.strstart+re;do;while(ye===Le[++be]&&ye===Le[++be]&&ye===Le[++be]&&ye===Le[++be]&&ye===Le[++be]&&ye===Le[++be]&&ye===Le[++be]&&ye===Le[++be]&&be<Ye);W.match_length=re-(Ye-be),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=V?(_e=d._tr_tally(W,1,W.match_length-V),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(_e=d._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),_e&&(z(W,!1),W.strm.avail_out===0))return R}return W.insert=0,ge===S?(z(W,!0),W.strm.avail_out===0?K:J):W.last_lit&&(z(W,!1),W.strm.avail_out===0)?R:oe})(G,fe):u[G.level].func(G,fe);if(pe!==K&&pe!==J||(G.status=666),pe===R||pe===K)return A.avail_out===0&&(G.last_flush=-1),T;if(pe===oe&&(fe===1?d._tr_align(G):fe!==5&&(d._tr_stored_block(G,0,0,!1),fe===3&&(Se(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),M(A),A.avail_out===0))return G.last_flush=-1,T}return fe!==S?T:G.wrap<=0?1:(G.wrap===2?(ae(G,255&A.adler),ae(G,A.adler>>8&255),ae(G,A.adler>>16&255),ae(G,A.adler>>24&255),ae(G,255&A.total_in),ae(G,A.total_in>>8&255),ae(G,A.total_in>>16&255),ae(G,A.total_in>>24&255)):(ie(G,A.adler>>>16),ie(G,65535&A.adler)),M(A),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?T:1)},a.deflateEnd=function(A){var fe;return A&&A.state?(fe=A.state.status)!==O&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==j&&fe!==666?me(A,b):(A.state=null,fe===j?me(A,-3):T):b},a.deflateSetDictionary=function(A,fe){var te,G,L,F,he,pe,W,ge,_e=fe.length;if(!A||!A.state||(F=(te=A.state).wrap)===2||F===1&&te.status!==O||te.lookahead)return b;for(F===1&&(A.adler=g(A.adler,fe,_e,0)),te.wrap=0,_e>=te.w_size&&(F===0&&(Se(te.head),te.strstart=0,te.block_start=0,te.insert=0),ge=new f.Buf8(te.w_size),f.arraySet(ge,fe,_e-te.w_size,te.w_size,0),fe=ge,_e=te.w_size),he=A.avail_in,pe=A.next_in,W=A.input,A.avail_in=_e,A.next_in=0,A.input=fe,Ae(te);te.lookahead>=V;){for(G=te.strstart,L=te.lookahead-(V-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[G+V-1])&te.hash_mask,te.prev[G&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=G,G++,--L;);te.strstart=G,te.lookahead=V-1,Ae(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=V-1,te.match_available=0,A.next_in=pe,A.input=W,A.avail_in=he,te.wrap=F,T},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,r,a){r.exports=function(u,f){var d,g,m,v,_,S,T,b,C,x,w,I,D,B,U,X,q,ne,V,re,ve,O,j,R,oe;d=u.state,g=u.next_in,R=u.input,m=g+(u.avail_in-5),v=u.next_out,oe=u.output,_=v-(f-u.avail_out),S=v+(u.avail_out-257),T=d.dmax,b=d.wsize,C=d.whave,x=d.wnext,w=d.window,I=d.hold,D=d.bits,B=d.lencode,U=d.distcode,X=(1<<d.lenbits)-1,q=(1<<d.distbits)-1;e:do{D<15&&(I+=R[g++]<<D,D+=8,I+=R[g++]<<D,D+=8),ne=B[I&X];t:for(;;){if(I>>>=V=ne>>>24,D-=V,(V=ne>>>16&255)===0)oe[v++]=65535&ne;else{if(!(16&V)){if((64&V)==0){ne=B[(65535&ne)+(I&(1<<V)-1)];continue t}if(32&V){d.mode=12;break e}u.msg="invalid literal/length code",d.mode=30;break e}re=65535&ne,(V&=15)&&(D<V&&(I+=R[g++]<<D,D+=8),re+=I&(1<<V)-1,I>>>=V,D-=V),D<15&&(I+=R[g++]<<D,D+=8,I+=R[g++]<<D,D+=8),ne=U[I&q];n:for(;;){if(I>>>=V=ne>>>24,D-=V,!(16&(V=ne>>>16&255))){if((64&V)==0){ne=U[(65535&ne)+(I&(1<<V)-1)];continue n}u.msg="invalid distance code",d.mode=30;break e}if(ve=65535&ne,D<(V&=15)&&(I+=R[g++]<<D,(D+=8)<V&&(I+=R[g++]<<D,D+=8)),T<(ve+=I&(1<<V)-1)){u.msg="invalid distance too far back",d.mode=30;break e}if(I>>>=V,D-=V,(V=v-_)<ve){if(C<(V=ve-V)&&d.sane){u.msg="invalid distance too far back",d.mode=30;break e}if(j=w,(O=0)===x){if(O+=b-V,V<re){for(re-=V;oe[v++]=w[O++],--V;);O=v-ve,j=oe}}else if(x<V){if(O+=b+x-V,(V-=x)<re){for(re-=V;oe[v++]=w[O++],--V;);if(O=0,x<re){for(re-=V=x;oe[v++]=w[O++],--V;);O=v-ve,j=oe}}}else if(O+=x-V,V<re){for(re-=V;oe[v++]=w[O++],--V;);O=v-ve,j=oe}for(;2<re;)oe[v++]=j[O++],oe[v++]=j[O++],oe[v++]=j[O++],re-=3;re&&(oe[v++]=j[O++],1<re&&(oe[v++]=j[O++]))}else{for(O=v-ve;oe[v++]=oe[O++],oe[v++]=oe[O++],oe[v++]=oe[O++],2<(re-=3););re&&(oe[v++]=oe[O++],1<re&&(oe[v++]=oe[O++]))}break}}break}}while(g<m&&v<S);g-=re=D>>3,I&=(1<<(D-=re<<3))-1,u.next_in=g,u.next_out=v,u.avail_in=g<m?m-g+5:5-(g-m),u.avail_out=v<S?S-v+257:257-(v-S),d.hold=I,d.bits=D}},{}],49:[function(o,r,a){var u=o("../utils/common"),f=o("./adler32"),d=o("./crc32"),g=o("./inffast"),m=o("./inftrees"),v=1,_=2,S=0,T=-2,b=1,C=852,x=592;function w(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(O){var j;return O&&O.state?(j=O.state,O.total_in=O.total_out=j.total=0,O.msg="",j.wrap&&(O.adler=1&j.wrap),j.mode=b,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new u.Buf32(C),j.distcode=j.distdyn=new u.Buf32(x),j.sane=1,j.back=-1,S):T}function B(O){var j;return O&&O.state?((j=O.state).wsize=0,j.whave=0,j.wnext=0,D(O)):T}function U(O,j){var R,oe;return O&&O.state?(oe=O.state,j<0?(R=0,j=-j):(R=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?T:(oe.window!==null&&oe.wbits!==j&&(oe.window=null),oe.wrap=R,oe.wbits=j,B(O))):T}function X(O,j){var R,oe;return O?(oe=new I,(O.state=oe).window=null,(R=U(O,j))!==S&&(O.state=null),R):T}var q,ne,V=!0;function re(O){if(V){var j;for(q=new u.Buf32(512),ne=new u.Buf32(32),j=0;j<144;)O.lens[j++]=8;for(;j<256;)O.lens[j++]=9;for(;j<280;)O.lens[j++]=7;for(;j<288;)O.lens[j++]=8;for(m(v,O.lens,0,288,q,0,O.work,{bits:9}),j=0;j<32;)O.lens[j++]=5;m(_,O.lens,0,32,ne,0,O.work,{bits:5}),V=!1}O.lencode=q,O.lenbits=9,O.distcode=ne,O.distbits=5}function ve(O,j,R,oe){var K,J=O.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new u.Buf8(J.wsize)),oe>=J.wsize?(u.arraySet(J.window,j,R-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(oe<(K=J.wsize-J.wnext)&&(K=oe),u.arraySet(J.window,j,R-oe,K,J.wnext),(oe-=K)?(u.arraySet(J.window,j,R-oe,oe,0),J.wnext=oe,J.whave=J.wsize):(J.wnext+=K,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=K))),0}a.inflateReset=B,a.inflateReset2=U,a.inflateResetKeep=D,a.inflateInit=function(O){return X(O,15)},a.inflateInit2=X,a.inflate=function(O,j){var R,oe,K,J,me,se,Se,M,z,ae,ie,ue,Ae,Me,Ne,we,nt,je,It,Dt,A,fe,te,G,L=0,F=new u.Buf8(4),he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return T;(R=O.state).mode===12&&(R.mode=13),me=O.next_out,K=O.output,Se=O.avail_out,J=O.next_in,oe=O.input,se=O.avail_in,M=R.hold,z=R.bits,ae=se,ie=Se,fe=S;e:for(;;)switch(R.mode){case b:if(R.wrap===0){R.mode=13;break}for(;z<16;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}if(2&R.wrap&&M===35615){F[R.check=0]=255&M,F[1]=M>>>8&255,R.check=d(R.check,F,2,0),z=M=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&M)<<8)+(M>>8))%31){O.msg="incorrect header check",R.mode=30;break}if((15&M)!=8){O.msg="unknown compression method",R.mode=30;break}if(z-=4,A=8+(15&(M>>>=4)),R.wbits===0)R.wbits=A;else if(A>R.wbits){O.msg="invalid window size",R.mode=30;break}R.dmax=1<<A,O.adler=R.check=1,R.mode=512&M?10:12,z=M=0;break;case 2:for(;z<16;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}if(R.flags=M,(255&R.flags)!=8){O.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){O.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=M>>8&1),512&R.flags&&(F[0]=255&M,F[1]=M>>>8&255,R.check=d(R.check,F,2,0)),z=M=0,R.mode=3;case 3:for(;z<32;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}R.head&&(R.head.time=M),512&R.flags&&(F[0]=255&M,F[1]=M>>>8&255,F[2]=M>>>16&255,F[3]=M>>>24&255,R.check=d(R.check,F,4,0)),z=M=0,R.mode=4;case 4:for(;z<16;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}R.head&&(R.head.xflags=255&M,R.head.os=M>>8),512&R.flags&&(F[0]=255&M,F[1]=M>>>8&255,R.check=d(R.check,F,2,0)),z=M=0,R.mode=5;case 5:if(1024&R.flags){for(;z<16;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}R.length=M,R.head&&(R.head.extra_len=M),512&R.flags&&(F[0]=255&M,F[1]=M>>>8&255,R.check=d(R.check,F,2,0)),z=M=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(se<(ue=R.length)&&(ue=se),ue&&(R.head&&(A=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),u.arraySet(R.head.extra,oe,J,ue,A)),512&R.flags&&(R.check=d(R.check,oe,ue,J)),se-=ue,J+=ue,R.length-=ue),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(se===0)break e;for(ue=0;A=oe[J+ue++],R.head&&A&&R.length<65536&&(R.head.name+=String.fromCharCode(A)),A&&ue<se;);if(512&R.flags&&(R.check=d(R.check,oe,ue,J)),se-=ue,J+=ue,A)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(se===0)break e;for(ue=0;A=oe[J+ue++],R.head&&A&&R.length<65536&&(R.head.comment+=String.fromCharCode(A)),A&&ue<se;);if(512&R.flags&&(R.check=d(R.check,oe,ue,J)),se-=ue,J+=ue,A)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;z<16;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}if(M!==(65535&R.check)){O.msg="header crc mismatch",R.mode=30;break}z=M=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),O.adler=R.check=0,R.mode=12;break;case 10:for(;z<32;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}O.adler=R.check=w(M),z=M=0,R.mode=11;case 11:if(R.havedict===0)return O.next_out=me,O.avail_out=Se,O.next_in=J,O.avail_in=se,R.hold=M,R.bits=z,2;O.adler=R.check=1,R.mode=12;case 12:if(j===5||j===6)break e;case 13:if(R.last){M>>>=7&z,z-=7&z,R.mode=27;break}for(;z<3;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}switch(R.last=1&M,z-=1,3&(M>>>=1)){case 0:R.mode=14;break;case 1:if(re(R),R.mode=20,j!==6)break;M>>>=2,z-=2;break e;case 2:R.mode=17;break;case 3:O.msg="invalid block type",R.mode=30}M>>>=2,z-=2;break;case 14:for(M>>>=7&z,z-=7&z;z<32;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}if((65535&M)!=(M>>>16^65535)){O.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&M,z=M=0,R.mode=15,j===6)break e;case 15:R.mode=16;case 16:if(ue=R.length){if(se<ue&&(ue=se),Se<ue&&(ue=Se),ue===0)break e;u.arraySet(K,oe,J,ue,me),se-=ue,J+=ue,Se-=ue,me+=ue,R.length-=ue;break}R.mode=12;break;case 17:for(;z<14;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}if(R.nlen=257+(31&M),M>>>=5,z-=5,R.ndist=1+(31&M),M>>>=5,z-=5,R.ncode=4+(15&M),M>>>=4,z-=4,286<R.nlen||30<R.ndist){O.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;z<3;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}R.lens[he[R.have++]]=7&M,M>>>=3,z-=3}for(;R.have<19;)R.lens[he[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,te={bits:R.lenbits},fe=m(0,R.lens,0,19,R.lencode,0,R.work,te),R.lenbits=te.bits,fe){O.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;we=(L=R.lencode[M&(1<<R.lenbits)-1])>>>16&255,nt=65535&L,!((Ne=L>>>24)<=z);){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}if(nt<16)M>>>=Ne,z-=Ne,R.lens[R.have++]=nt;else{if(nt===16){for(G=Ne+2;z<G;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}if(M>>>=Ne,z-=Ne,R.have===0){O.msg="invalid bit length repeat",R.mode=30;break}A=R.lens[R.have-1],ue=3+(3&M),M>>>=2,z-=2}else if(nt===17){for(G=Ne+3;z<G;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}z-=Ne,A=0,ue=3+(7&(M>>>=Ne)),M>>>=3,z-=3}else{for(G=Ne+7;z<G;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}z-=Ne,A=0,ue=11+(127&(M>>>=Ne)),M>>>=7,z-=7}if(R.have+ue>R.nlen+R.ndist){O.msg="invalid bit length repeat",R.mode=30;break}for(;ue--;)R.lens[R.have++]=A}}if(R.mode===30)break;if(R.lens[256]===0){O.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,te={bits:R.lenbits},fe=m(v,R.lens,0,R.nlen,R.lencode,0,R.work,te),R.lenbits=te.bits,fe){O.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,te={bits:R.distbits},fe=m(_,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,te),R.distbits=te.bits,fe){O.msg="invalid distances set",R.mode=30;break}if(R.mode=20,j===6)break e;case 20:R.mode=21;case 21:if(6<=se&&258<=Se){O.next_out=me,O.avail_out=Se,O.next_in=J,O.avail_in=se,R.hold=M,R.bits=z,g(O,ie),me=O.next_out,K=O.output,Se=O.avail_out,J=O.next_in,oe=O.input,se=O.avail_in,M=R.hold,z=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;we=(L=R.lencode[M&(1<<R.lenbits)-1])>>>16&255,nt=65535&L,!((Ne=L>>>24)<=z);){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}if(we&&(240&we)==0){for(je=Ne,It=we,Dt=nt;we=(L=R.lencode[Dt+((M&(1<<je+It)-1)>>je)])>>>16&255,nt=65535&L,!(je+(Ne=L>>>24)<=z);){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}M>>>=je,z-=je,R.back+=je}if(M>>>=Ne,z-=Ne,R.back+=Ne,R.length=nt,we===0){R.mode=26;break}if(32&we){R.back=-1,R.mode=12;break}if(64&we){O.msg="invalid literal/length code",R.mode=30;break}R.extra=15&we,R.mode=22;case 22:if(R.extra){for(G=R.extra;z<G;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}R.length+=M&(1<<R.extra)-1,M>>>=R.extra,z-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;we=(L=R.distcode[M&(1<<R.distbits)-1])>>>16&255,nt=65535&L,!((Ne=L>>>24)<=z);){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}if((240&we)==0){for(je=Ne,It=we,Dt=nt;we=(L=R.distcode[Dt+((M&(1<<je+It)-1)>>je)])>>>16&255,nt=65535&L,!(je+(Ne=L>>>24)<=z);){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}M>>>=je,z-=je,R.back+=je}if(M>>>=Ne,z-=Ne,R.back+=Ne,64&we){O.msg="invalid distance code",R.mode=30;break}R.offset=nt,R.extra=15&we,R.mode=24;case 24:if(R.extra){for(G=R.extra;z<G;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}R.offset+=M&(1<<R.extra)-1,M>>>=R.extra,z-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){O.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(Se===0)break e;if(ue=ie-Se,R.offset>ue){if((ue=R.offset-ue)>R.whave&&R.sane){O.msg="invalid distance too far back",R.mode=30;break}Ae=ue>R.wnext?(ue-=R.wnext,R.wsize-ue):R.wnext-ue,ue>R.length&&(ue=R.length),Me=R.window}else Me=K,Ae=me-R.offset,ue=R.length;for(Se<ue&&(ue=Se),Se-=ue,R.length-=ue;K[me++]=Me[Ae++],--ue;);R.length===0&&(R.mode=21);break;case 26:if(Se===0)break e;K[me++]=R.length,Se--,R.mode=21;break;case 27:if(R.wrap){for(;z<32;){if(se===0)break e;se--,M|=oe[J++]<<z,z+=8}if(ie-=Se,O.total_out+=ie,R.total+=ie,ie&&(O.adler=R.check=R.flags?d(R.check,K,ie,me-ie):f(R.check,K,ie,me-ie)),ie=Se,(R.flags?M:w(M))!==R.check){O.msg="incorrect data check",R.mode=30;break}z=M=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;z<32;){if(se===0)break e;se--,M+=oe[J++]<<z,z+=8}if(M!==(4294967295&R.total)){O.msg="incorrect length check",R.mode=30;break}z=M=0}R.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return T}return O.next_out=me,O.avail_out=Se,O.next_in=J,O.avail_in=se,R.hold=M,R.bits=z,(R.wsize||ie!==O.avail_out&&R.mode<30&&(R.mode<27||j!==4))&&ve(O,O.output,O.next_out,ie-O.avail_out)?(R.mode=31,-4):(ae-=O.avail_in,ie-=O.avail_out,O.total_in+=ae,O.total_out+=ie,R.total+=ie,R.wrap&&ie&&(O.adler=R.check=R.flags?d(R.check,K,ie,O.next_out-ie):f(R.check,K,ie,O.next_out-ie)),O.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(ae==0&&ie===0||j===4)&&fe===S&&(fe=-5),fe)},a.inflateEnd=function(O){if(!O||!O.state)return T;var j=O.state;return j.window&&(j.window=null),O.state=null,S},a.inflateGetHeader=function(O,j){var R;return O&&O.state?(2&(R=O.state).wrap)==0?T:((R.head=j).done=!1,S):T},a.inflateSetDictionary=function(O,j){var R,oe=j.length;return O&&O.state?(R=O.state).wrap!==0&&R.mode!==11?T:R.mode===11&&f(1,j,oe,0)!==R.check?-3:ve(O,j,oe,oe)?(R.mode=31,-4):(R.havedict=1,S):T},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,r,a){var u=o("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(v,_,S,T,b,C,x,w){var I,D,B,U,X,q,ne,V,re,ve=w.bits,O=0,j=0,R=0,oe=0,K=0,J=0,me=0,se=0,Se=0,M=0,z=null,ae=0,ie=new u.Buf16(16),ue=new u.Buf16(16),Ae=null,Me=0;for(O=0;O<=15;O++)ie[O]=0;for(j=0;j<T;j++)ie[_[S+j]]++;for(K=ve,oe=15;1<=oe&&ie[oe]===0;oe--);if(oe<K&&(K=oe),oe===0)return b[C++]=20971520,b[C++]=20971520,w.bits=1,0;for(R=1;R<oe&&ie[R]===0;R++);for(K<R&&(K=R),O=se=1;O<=15;O++)if(se<<=1,(se-=ie[O])<0)return-1;if(0<se&&(v===0||oe!==1))return-1;for(ue[1]=0,O=1;O<15;O++)ue[O+1]=ue[O]+ie[O];for(j=0;j<T;j++)_[S+j]!==0&&(x[ue[_[S+j]]++]=j);if(q=v===0?(z=Ae=x,19):v===1?(z=f,ae-=257,Ae=d,Me-=257,256):(z=g,Ae=m,-1),O=R,X=C,me=j=M=0,B=-1,U=(Se=1<<(J=K))-1,v===1&&852<Se||v===2&&592<Se)return 1;for(;;){for(ne=O-me,re=x[j]<q?(V=0,x[j]):x[j]>q?(V=Ae[Me+x[j]],z[ae+x[j]]):(V=96,0),I=1<<O-me,R=D=1<<J;b[X+(M>>me)+(D-=I)]=ne<<24|V<<16|re|0,D!==0;);for(I=1<<O-1;M&I;)I>>=1;if(I!==0?(M&=I-1,M+=I):M=0,j++,--ie[O]==0){if(O===oe)break;O=_[S+x[j]]}if(K<O&&(M&U)!==B){for(me===0&&(me=K),X+=R,se=1<<(J=O-me);J+me<oe&&!((se-=ie[J+me])<=0);)J++,se<<=1;if(Se+=1<<J,v===1&&852<Se||v===2&&592<Se)return 1;b[B=M&U]=K<<24|J<<16|X-C|0}}return M!==0&&(b[X+M]=O-me<<24|64<<16|0),w.bits=K,0}},{"../utils/common":41}],51:[function(o,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,r,a){var u=o("../utils/common"),f=0,d=1;function g(L){for(var F=L.length;0<=--F;)L[F]=0}var m=0,v=29,_=256,S=_+1+v,T=30,b=19,C=2*S+1,x=15,w=16,I=7,D=256,B=16,U=17,X=18,q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ve=new Array(2*(S+2));g(ve);var O=new Array(2*T);g(O);var j=new Array(512);g(j);var R=new Array(256);g(R);var oe=new Array(v);g(oe);var K,J,me,se=new Array(T);function Se(L,F,he,pe,W){this.static_tree=L,this.extra_bits=F,this.extra_base=he,this.elems=pe,this.max_length=W,this.has_stree=L&&L.length}function M(L,F){this.dyn_tree=L,this.max_code=0,this.stat_desc=F}function z(L){return L<256?j[L]:j[256+(L>>>7)]}function ae(L,F){L.pending_buf[L.pending++]=255&F,L.pending_buf[L.pending++]=F>>>8&255}function ie(L,F,he){L.bi_valid>w-he?(L.bi_buf|=F<<L.bi_valid&65535,ae(L,L.bi_buf),L.bi_buf=F>>w-L.bi_valid,L.bi_valid+=he-w):(L.bi_buf|=F<<L.bi_valid&65535,L.bi_valid+=he)}function ue(L,F,he){ie(L,he[2*F],he[2*F+1])}function Ae(L,F){for(var he=0;he|=1&L,L>>>=1,he<<=1,0<--F;);return he>>>1}function Me(L,F,he){var pe,W,ge=new Array(x+1),_e=0;for(pe=1;pe<=x;pe++)ge[pe]=_e=_e+he[pe-1]<<1;for(W=0;W<=F;W++){var ye=L[2*W+1];ye!==0&&(L[2*W]=Ae(ge[ye]++,ye))}}function Ne(L){var F;for(F=0;F<S;F++)L.dyn_ltree[2*F]=0;for(F=0;F<T;F++)L.dyn_dtree[2*F]=0;for(F=0;F<b;F++)L.bl_tree[2*F]=0;L.dyn_ltree[2*D]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function we(L){8<L.bi_valid?ae(L,L.bi_buf):0<L.bi_valid&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function nt(L,F,he,pe){var W=2*F,ge=2*he;return L[W]<L[ge]||L[W]===L[ge]&&pe[F]<=pe[he]}function je(L,F,he){for(var pe=L.heap[he],W=he<<1;W<=L.heap_len&&(W<L.heap_len&&nt(F,L.heap[W+1],L.heap[W],L.depth)&&W++,!nt(F,pe,L.heap[W],L.depth));)L.heap[he]=L.heap[W],he=W,W<<=1;L.heap[he]=pe}function It(L,F,he){var pe,W,ge,_e,ye=0;if(L.last_lit!==0)for(;pe=L.pending_buf[L.d_buf+2*ye]<<8|L.pending_buf[L.d_buf+2*ye+1],W=L.pending_buf[L.l_buf+ye],ye++,pe===0?ue(L,W,F):(ue(L,(ge=R[W])+_+1,F),(_e=q[ge])!==0&&ie(L,W-=oe[ge],_e),ue(L,ge=z(--pe),he),(_e=ne[ge])!==0&&ie(L,pe-=se[ge],_e)),ye<L.last_lit;);ue(L,D,F)}function Dt(L,F){var he,pe,W,ge=F.dyn_tree,_e=F.stat_desc.static_tree,ye=F.stat_desc.has_stree,be=F.stat_desc.elems,Ye=-1;for(L.heap_len=0,L.heap_max=C,he=0;he<be;he++)ge[2*he]!==0?(L.heap[++L.heap_len]=Ye=he,L.depth[he]=0):ge[2*he+1]=0;for(;L.heap_len<2;)ge[2*(W=L.heap[++L.heap_len]=Ye<2?++Ye:0)]=1,L.depth[W]=0,L.opt_len--,ye&&(L.static_len-=_e[2*W+1]);for(F.max_code=Ye,he=L.heap_len>>1;1<=he;he--)je(L,ge,he);for(W=be;he=L.heap[1],L.heap[1]=L.heap[L.heap_len--],je(L,ge,1),pe=L.heap[1],L.heap[--L.heap_max]=he,L.heap[--L.heap_max]=pe,ge[2*W]=ge[2*he]+ge[2*pe],L.depth[W]=(L.depth[he]>=L.depth[pe]?L.depth[he]:L.depth[pe])+1,ge[2*he+1]=ge[2*pe+1]=W,L.heap[1]=W++,je(L,ge,1),2<=L.heap_len;);L.heap[--L.heap_max]=L.heap[1],(function(Le,Ut){var qn,Xt,mi,We,yt,Zt,lt=Ut.dyn_tree,Rl=Ut.max_code,ca=Ut.stat_desc.static_tree,fa=Ut.stat_desc.has_stree,zi=Ut.stat_desc.extra_bits,gi=Ut.stat_desc.extra_base,gn=Ut.stat_desc.max_length,Qt=0;for(We=0;We<=x;We++)Le.bl_count[We]=0;for(lt[2*Le.heap[Le.heap_max]+1]=0,qn=Le.heap_max+1;qn<C;qn++)gn<(We=lt[2*lt[2*(Xt=Le.heap[qn])+1]+1]+1)&&(We=gn,Qt++),lt[2*Xt+1]=We,Rl<Xt||(Le.bl_count[We]++,yt=0,gi<=Xt&&(yt=zi[Xt-gi]),Zt=lt[2*Xt],Le.opt_len+=Zt*(We+yt),fa&&(Le.static_len+=Zt*(ca[2*Xt+1]+yt)));if(Qt!==0){do{for(We=gn-1;Le.bl_count[We]===0;)We--;Le.bl_count[We]--,Le.bl_count[We+1]+=2,Le.bl_count[gn]--,Qt-=2}while(0<Qt);for(We=gn;We!==0;We--)for(Xt=Le.bl_count[We];Xt!==0;)Rl<(mi=Le.heap[--qn])||(lt[2*mi+1]!==We&&(Le.opt_len+=(We-lt[2*mi+1])*lt[2*mi],lt[2*mi+1]=We),Xt--)}})(L,F),Me(ge,Ye,L.bl_count)}function A(L,F,he){var pe,W,ge=-1,_e=F[1],ye=0,be=7,Ye=4;for(_e===0&&(be=138,Ye=3),F[2*(he+1)+1]=65535,pe=0;pe<=he;pe++)W=_e,_e=F[2*(pe+1)+1],++ye<be&&W===_e||(ye<Ye?L.bl_tree[2*W]+=ye:W!==0?(W!==ge&&L.bl_tree[2*W]++,L.bl_tree[2*B]++):ye<=10?L.bl_tree[2*U]++:L.bl_tree[2*X]++,ge=W,Ye=(ye=0)===_e?(be=138,3):W===_e?(be=6,3):(be=7,4))}function fe(L,F,he){var pe,W,ge=-1,_e=F[1],ye=0,be=7,Ye=4;for(_e===0&&(be=138,Ye=3),pe=0;pe<=he;pe++)if(W=_e,_e=F[2*(pe+1)+1],!(++ye<be&&W===_e)){if(ye<Ye)for(;ue(L,W,L.bl_tree),--ye!=0;);else W!==0?(W!==ge&&(ue(L,W,L.bl_tree),ye--),ue(L,B,L.bl_tree),ie(L,ye-3,2)):ye<=10?(ue(L,U,L.bl_tree),ie(L,ye-3,3)):(ue(L,X,L.bl_tree),ie(L,ye-11,7));ge=W,Ye=(ye=0)===_e?(be=138,3):W===_e?(be=6,3):(be=7,4)}}g(se);var te=!1;function G(L,F,he,pe){ie(L,(m<<1)+(pe?1:0),3),(function(W,ge,_e,ye){we(W),ae(W,_e),ae(W,~_e),u.arraySet(W.pending_buf,W.window,ge,_e,W.pending),W.pending+=_e})(L,F,he)}a._tr_init=function(L){te||((function(){var F,he,pe,W,ge,_e=new Array(x+1);for(W=pe=0;W<v-1;W++)for(oe[W]=pe,F=0;F<1<<q[W];F++)R[pe++]=W;for(R[pe-1]=W,W=ge=0;W<16;W++)for(se[W]=ge,F=0;F<1<<ne[W];F++)j[ge++]=W;for(ge>>=7;W<T;W++)for(se[W]=ge<<7,F=0;F<1<<ne[W]-7;F++)j[256+ge++]=W;for(he=0;he<=x;he++)_e[he]=0;for(F=0;F<=143;)ve[2*F+1]=8,F++,_e[8]++;for(;F<=255;)ve[2*F+1]=9,F++,_e[9]++;for(;F<=279;)ve[2*F+1]=7,F++,_e[7]++;for(;F<=287;)ve[2*F+1]=8,F++,_e[8]++;for(Me(ve,S+1,_e),F=0;F<T;F++)O[2*F+1]=5,O[2*F]=Ae(F,5);K=new Se(ve,q,_+1,S,x),J=new Se(O,ne,0,T,x),me=new Se(new Array(0),V,0,b,I)})(),te=!0),L.l_desc=new M(L.dyn_ltree,K),L.d_desc=new M(L.dyn_dtree,J),L.bl_desc=new M(L.bl_tree,me),L.bi_buf=0,L.bi_valid=0,Ne(L)},a._tr_stored_block=G,a._tr_flush_block=function(L,F,he,pe){var W,ge,_e=0;0<L.level?(L.strm.data_type===2&&(L.strm.data_type=(function(ye){var be,Ye=4093624447;for(be=0;be<=31;be++,Ye>>>=1)if(1&Ye&&ye.dyn_ltree[2*be]!==0)return f;if(ye.dyn_ltree[18]!==0||ye.dyn_ltree[20]!==0||ye.dyn_ltree[26]!==0)return d;for(be=32;be<_;be++)if(ye.dyn_ltree[2*be]!==0)return d;return f})(L)),Dt(L,L.l_desc),Dt(L,L.d_desc),_e=(function(ye){var be;for(A(ye,ye.dyn_ltree,ye.l_desc.max_code),A(ye,ye.dyn_dtree,ye.d_desc.max_code),Dt(ye,ye.bl_desc),be=b-1;3<=be&&ye.bl_tree[2*re[be]+1]===0;be--);return ye.opt_len+=3*(be+1)+5+5+4,be})(L),W=L.opt_len+3+7>>>3,(ge=L.static_len+3+7>>>3)<=W&&(W=ge)):W=ge=he+5,he+4<=W&&F!==-1?G(L,F,he,pe):L.strategy===4||ge===W?(ie(L,2+(pe?1:0),3),It(L,ve,O)):(ie(L,4+(pe?1:0),3),(function(ye,be,Ye,Le){var Ut;for(ie(ye,be-257,5),ie(ye,Ye-1,5),ie(ye,Le-4,4),Ut=0;Ut<Le;Ut++)ie(ye,ye.bl_tree[2*re[Ut]+1],3);fe(ye,ye.dyn_ltree,be-1),fe(ye,ye.dyn_dtree,Ye-1)})(L,L.l_desc.max_code+1,L.d_desc.max_code+1,_e+1),It(L,L.dyn_ltree,L.dyn_dtree)),Ne(L),pe&&we(L)},a._tr_tally=function(L,F,he){return L.pending_buf[L.d_buf+2*L.last_lit]=F>>>8&255,L.pending_buf[L.d_buf+2*L.last_lit+1]=255&F,L.pending_buf[L.l_buf+L.last_lit]=255&he,L.last_lit++,F===0?L.dyn_ltree[2*he]++:(L.matches++,F--,L.dyn_ltree[2*(R[he]+_+1)]++,L.dyn_dtree[2*z(F)]++),L.last_lit===L.lit_bufsize-1},a._tr_align=function(L){ie(L,2,3),ue(L,D,ve),(function(F){F.bi_valid===16?(ae(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)})(L)}},{"../utils/common":41}],53:[function(o,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,r,a){(function(u){(function(f,d){if(!f.setImmediate){var g,m,v,_,S=1,T={},b=!1,C=f.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(f);x=x&&x.setTimeout?x:f,g={}.toString.call(f.process)==="[object process]"?function(B){process.nextTick(function(){I(B)})}:(function(){if(f.postMessage&&!f.importScripts){var B=!0,U=f.onmessage;return f.onmessage=function(){B=!1},f.postMessage("","*"),f.onmessage=U,B}})()?(_="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",D,!1):f.attachEvent("onmessage",D),function(B){f.postMessage(_+B,"*")}):f.MessageChannel?((v=new MessageChannel).port1.onmessage=function(B){I(B.data)},function(B){v.port2.postMessage(B)}):C&&"onreadystatechange"in C.createElement("script")?(m=C.documentElement,function(B){var U=C.createElement("script");U.onreadystatechange=function(){I(B),U.onreadystatechange=null,m.removeChild(U),U=null},m.appendChild(U)}):function(B){setTimeout(I,0,B)},x.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var U=new Array(arguments.length-1),X=0;X<U.length;X++)U[X]=arguments[X+1];var q={callback:B,args:U};return T[S]=q,g(S),S++},x.clearImmediate=w}function w(B){delete T[B]}function I(B){if(b)setTimeout(I,0,B);else{var U=T[B];if(U){b=!0;try{(function(X){var q=X.callback,ne=X.args;switch(ne.length){case 0:q();break;case 1:q(ne[0]);break;case 2:q(ne[0],ne[1]);break;case 3:q(ne[0],ne[1],ne[2]);break;default:q.apply(d,ne)}})(U)}finally{w(B),b=!1}}}}function D(B){B.source===f&&typeof B.data=="string"&&B.data.indexOf(_)===0&&I(+B.data.slice(_.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Mu)),Mu.exports}var _v=vv();const Sv=Zu(_v),Tv=[{name:"icon_16x16",width:16,height:16},{name:"icon_32x32",width:32,height:32},{name:"icon_48x48",width:48,height:48},{name:"icon_64x64",width:64,height:64},{name:"icon_128x128",width:128,height:128},{name:"icon_256x256",width:256,height:256},{name:"icon_512x512",width:512,height:512},{name:"icon_1024x1024",width:1024,height:1024}],Ev=({canvasRef:i})=>{const[n,o]=rt.useState([]),[r,a]=rt.useState(""),[u,f]=rt.useState(!1),d=()=>{const v=parseInt(r);!isNaN(v)&&v>0&&(o([...n,{name:`custom_${v}x${v}`,width:v,height:v}]),a(""))},g=v=>{o(n.filter((_,S)=>S!==v))},m=async()=>{if(i.current){f(!0);try{const v=i.current.getCanvasElement();if(!v)throw new Error("Canvas not found");const _=new Sv,S=_.folder("app_icons"),T=[...Tv,...n];for(const x of T){const w=document.createElement("canvas");w.width=x.width,w.height=x.height;const I=w.getContext("2d");if(I){const D=v.width/v.height,B=x.width/x.height;let U,X;D>B?(U=x.width,X=x.width/D):(X=x.height,U=x.height*D);const q=(x.width-U)/2,ne=(x.height-X)/2;I.drawImage(v,q,ne,U,X);const V=await new Promise(re=>w.toBlob(re,"image/png"));V&&S&&S.file(`${x.name}.png`,V)}}const b=await _.generateAsync({type:"blob"}),C=document.createElement("a");C.href=URL.createObjectURL(b),C.download="app_icons.zip",document.body.appendChild(C),C.click(),document.body.removeChild(C)}catch(v){console.error("Export failed",v),alert("Export failed")}finally{f(!1)}}};return k.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[k.jsxs("h2",{className:"text-lg font-semibold mb-4 text-gray-800 flex items-center gap-2",children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Batch Export"]}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm text-gray-600",children:[k.jsxs("p",{children:["Generates ",k.jsx("strong",{children:".zip"})," containing all standard sizes (16px to 1024px)."]}),k.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"* Icons are centered within square canvases."})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Add Custom Size (Square)"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("input",{type:"number",placeholder:"192",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm",value:r,onChange:v=>a(v.target.value)}),k.jsx("button",{onClick:d,className:"bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-300",children:"Add"})]})]}),n.length>0&&k.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((v,_)=>k.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs",children:[v.width,"x",v.height,k.jsx("button",{onClick:()=>g(_),className:"hover:text-blue-900",children:""})]},_))}),k.jsx("button",{onClick:m,disabled:u,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg shadow transition-colors flex justify-center items-center gap-2",children:u?k.jsxs(k.Fragment,{children:[k.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Zipping..."]}):"Download All Sizes (.zip)"})]})]})},mp={provider:"gemini",apiKey:""};class Cv{constructor(){this.config=mp}setConfig(n){this.config={...this.config,...n},localStorage.setItem("apiConfig",JSON.stringify(this.config))}getConfig(){const n=localStorage.getItem("apiConfig");if(n)try{this.config=JSON.parse(n)}catch{}return{...this.config}}getApiKey(){return this.getConfig().apiKey||"PLACEHOLDER_API_KEY"}getProvider(){return this.getConfig().provider}clearConfig(){this.config=mp,localStorage.removeItem("apiConfig")}}const Zr=new Cv,Av=({onClose:i})=>{const[n,o]=rt.useState("gemini"),[r,a]=rt.useState(""),[u,f]=rt.useState(!1);rt.useEffect(()=>{const v=Zr.getConfig();o(v.provider),a(v.apiKey)},[]);const d=()=>{Zr.setConfig({provider:n,apiKey:r}),alert("Settings saved!"),i()},g=()=>{Zr.clearConfig(),a(""),alert("Settings cleared!")},m=[{value:"gemini",label:"Google Gemini",icon:""},{value:"openai",label:"OpenAI GPT-4 Vision",icon:""},{value:"claude",label:"Anthropic Claude",icon:""},{value:"custom",label:" API / Custom",icon:""}];return k.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:k.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl animate-in fade-in zoom-in duration-300",children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"API  / API Settings"}),k.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{className:"space-y-3",children:[k.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-600",children:"AI  / AI Provider"}),k.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.map(v=>k.jsxs("button",{onClick:()=>o(v.value),className:`p-4 rounded-xl border-2 transition-all text-left ${n===v.value?"bg-indigo-600 border-indigo-600 text-white":"bg-gray-50 border-gray-200 text-gray-700 hover:border-indigo-300"}`,children:[k.jsx("span",{className:"text-2xl mb-2 block",children:v.icon}),k.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:v.label})]},v.value))})]}),k.jsxs("div",{className:"space-y-3",children:[k.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-gray-600",children:"API  / API Key"}),k.jsxs("div",{className:"relative",children:[k.jsx("input",{type:u?"text":"password",value:r,onChange:v=>a(v.target.value),placeholder:" API Key / Enter your API Key",className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 pr-24 text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:outline-none text-sm font-mono placeholder:text-gray-400"}),k.jsx("button",{onClick:()=>f(!u),className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs font-bold uppercase tracking-wider text-gray-500 hover:text-gray-700 px-2 py-1",children:u?"":""})]}),k.jsx("p",{className:"text-xs text-gray-500",children:" Key  / Key stored in browser localStorage"})]}),k.jsxs("div",{className:"flex gap-3 pt-4",children:[k.jsx("button",{onClick:d,disabled:!r,className:"flex-1 bg-indigo-600 py-4 rounded-xl font-bold text-xs uppercase tracking-wider text-white shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:bg-indigo-700 active:scale-95",children:" / Save"}),k.jsx("button",{onClick:g,className:"px-6 py-4 rounded-xl font-bold text-xs uppercase tracking-wider border border-gray-300 text-gray-600 hover:bg-gray-50 transition-all",children:" / Clear"})]}),k.jsx("div",{className:"pt-4 border-t border-gray-200",children:k.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:[" ",k.jsx("span",{className:"text-gray-700",children:" API Key:"}),k.jsx("br",{})," Gemini: ",k.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"aistudio.google.com"}),k.jsx("br",{})," OpenAI: ",k.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"platform.openai.com"})]})})]})]})})};var bv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xv,wv;function Rv(){return{geminiUrl:xv,vertexUrl:wv}}function Nv(i,n,o,r){var a,u;if(!(i!=null&&i.baseUrl)){const f=Rv();return n?(a=f.vertexUrl)!==null&&a!==void 0?a:o:(u=f.geminiUrl)!==null&&u!==void 0?u:r}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hn{}function Te(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(r,a)=>{if(Object.prototype.hasOwnProperty.call(n,a)){const u=n[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function h(i,n,o){for(let u=0;u<n.length-1;u++){const f=n[u];if(f.endsWith("[]")){const d=f.slice(0,-2);if(!(d in i))if(Array.isArray(o))i[d]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(i[d])){const g=i[d];if(Array.isArray(o))for(let m=0;m<g.length;m++){const v=g[m];h(v,n.slice(u+1),o[m])}else for(const m of g)h(m,n.slice(u+1),o)}return}else if(f.endsWith("[0]")){const d=f.slice(0,-3);d in i||(i[d]=[{}]);const g=i[d];h(g[0],n.slice(u+1),o);return}(!i[f]||typeof i[f]!="object")&&(i[f]={}),i=i[f]}const r=n[n.length-1],a=i[r];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[r]=o}function c(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let r=0;r<n.length;r++){if(typeof i!="object"||i===null)return o;const a=n[r];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in i){const f=i[u];return Array.isArray(f)?f.map(d=>c(d,n.slice(r+1),o)):o}else return o}else i=i[a]}return i}catch(r){if(r instanceof TypeError)return o;throw r}}function Mv(i,n){for(const[o,r]of Object.entries(n)){const a=o.split("."),u=r.split("."),f=new Set;let d=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){d=g;break}if(d!==-1&&u.length>d)for(let g=d;g<u.length;g++){const m=u[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&f.add(m)}ku(i,a,u,0,f)}}function ku(i,n,o,r,a){if(r>=n.length||typeof i!="object"||i===null)return;const u=n[r];if(u.endsWith("[]")){const f=u.slice(0,-2),d=i;if(f in d&&Array.isArray(d[f]))for(const g of d[f])ku(g,n,o,r+1,a)}else if(u==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const f=i,d=Object.keys(f).filter(m=>!m.startsWith("_")&&!a.has(m)),g={};for(const m of d)g[m]=f[m];for(const[m,v]of Object.entries(g)){const _=[];for(const S of o.slice(r))S==="*"?_.push(m):_.push(S);h(f,_,v)}for(const m of d)delete f[m]}}else{const f=i;u in f&&ku(f[u],n,o,r+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iv(i){const n={},o=c(i,["operationName"]);o!=null&&h(n,["operationName"],o);const r=c(i,["resourceName"]);return r!=null&&h(n,["_url","resourceName"],r),n}function Dv(i){const n={},o=c(i,["name"]);o!=null&&h(n,["name"],o);const r=c(i,["metadata"]);r!=null&&h(n,["metadata"],r);const a=c(i,["done"]);a!=null&&h(n,["done"],a);const u=c(i,["error"]);u!=null&&h(n,["error"],u);const f=c(i,["response","generateVideoResponse"]);return f!=null&&h(n,["response"],kv(f)),n}function Uv(i){const n={},o=c(i,["name"]);o!=null&&h(n,["name"],o);const r=c(i,["metadata"]);r!=null&&h(n,["metadata"],r);const a=c(i,["done"]);a!=null&&h(n,["done"],a);const u=c(i,["error"]);u!=null&&h(n,["error"],u);const f=c(i,["response"]);return f!=null&&h(n,["response"],Lv(f)),n}function kv(i){const n={},o=c(i,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>zv(f))),h(n,["generatedVideos"],u)}const r=c(i,["raiMediaFilteredCount"]);r!=null&&h(n,["raiMediaFilteredCount"],r);const a=c(i,["raiMediaFilteredReasons"]);return a!=null&&h(n,["raiMediaFilteredReasons"],a),n}function Lv(i){const n={},o=c(i,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Gv(f))),h(n,["generatedVideos"],u)}const r=c(i,["raiMediaFilteredCount"]);r!=null&&h(n,["raiMediaFilteredCount"],r);const a=c(i,["raiMediaFilteredReasons"]);return a!=null&&h(n,["raiMediaFilteredReasons"],a),n}function zv(i){const n={},o=c(i,["video"]);return o!=null&&h(n,["video"],Vv(o)),n}function Gv(i){const n={},o=c(i,["_self"]);return o!=null&&h(n,["video"],Fv(o)),n}function Bv(i){const n={},o=c(i,["operationName"]);return o!=null&&h(n,["_url","operationName"],o),n}function Ov(i){const n={},o=c(i,["operationName"]);return o!=null&&h(n,["_url","operationName"],o),n}function Hv(i){const n={},o=c(i,["name"]);o!=null&&h(n,["name"],o);const r=c(i,["metadata"]);r!=null&&h(n,["metadata"],r);const a=c(i,["done"]);a!=null&&h(n,["done"],a);const u=c(i,["error"]);u!=null&&h(n,["error"],u);const f=c(i,["response"]);return f!=null&&h(n,["response"],Pv(f)),n}function Pv(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["parent"]);r!=null&&h(n,["parent"],r);const a=c(i,["documentName"]);return a!=null&&h(n,["documentName"],a),n}function Zm(i){const n={},o=c(i,["name"]);o!=null&&h(n,["name"],o);const r=c(i,["metadata"]);r!=null&&h(n,["metadata"],r);const a=c(i,["done"]);a!=null&&h(n,["done"],a);const u=c(i,["error"]);u!=null&&h(n,["error"],u);const f=c(i,["response"]);return f!=null&&h(n,["response"],qv(f)),n}function qv(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["parent"]);r!=null&&h(n,["parent"],r);const a=c(i,["documentName"]);return a!=null&&h(n,["documentName"],a),n}function Vv(i){const n={},o=c(i,["uri"]);o!=null&&h(n,["uri"],o);const r=c(i,["encodedVideo"]);r!=null&&h(n,["videoBytes"],Wu(r));const a=c(i,["encoding"]);return a!=null&&h(n,["mimeType"],a),n}function Fv(i){const n={},o=c(i,["gcsUri"]);o!=null&&h(n,["uri"],o);const r=c(i,["bytesBase64Encoded"]);r!=null&&h(n,["videoBytes"],Wu(r));const a=c(i,["mimeType"]);return a!=null&&h(n,["mimeType"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gp||(gp={}));var yp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(yp||(yp={}));var vp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(vp||(vp={}));var hi;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(hi||(hi={}));var _p;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_p||(_p={}));var Sp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Sp||(Sp={}));var Tp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Tp||(Tp={}));var Ep;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ep||(Ep={}));var Cp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Cp||(Cp={}));var Ap;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Ap||(Ap={}));var bp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(bp||(bp={}));var xp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(xp||(xp={}));var wp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(wp||(wp={}));var Rp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Rp||(Rp={}));var Np;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Np||(Np={}));var Mp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Mp||(Mp={}));var Ip;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Ip||(Ip={}));var Dp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Dp||(Dp={}));var Up;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Up||(Up={}));var kp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(kp||(kp={}));var Lp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Lp||(Lp={}));var $r;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})($r||($r={}));var zp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zp||(zp={}));var Gp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Gp||(Gp={}));var Bp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Bp||(Bp={}));var Lu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Lu||(Lu={}));var Op;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Op||(Op={}));var Hp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Hp||(Hp={}));var zu;(function(i){i.COLLECTION="COLLECTION"})(zu||(zu={}));var Pp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Pp||(Pp={}));var qp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qp||(qp={}));var Vp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Vp||(Vp={}));var Fp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Fp||(Fp={}));var Yp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Yp||(Yp={}));var Jp;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Jp||(Jp={}));var Kp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Kp||(Kp={}));var Xp;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Xp||(Xp={}));var Zp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Zp||(Zp={}));var Qp;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Qp||(Qp={}));var Wp;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Wp||(Wp={}));var $p;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})($p||($p={}));var jp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(jp||(jp={}));var em;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(em||(em={}));var tm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(tm||(tm={}));var nm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(nm||(nm={}));var im;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(im||(im={}));var om;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(om||(om={}));var lm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(lm||(lm={}));var rm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(rm||(rm={}));var am;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(am||(am={}));var sm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(sm||(sm={}));var um;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(um||(um={}));var cm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(cm||(cm={}));var fm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(fm||(fm={}));var dm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(dm||(dm={}));var hm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(hm||(hm={}));var Co;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Co||(Co={}));class Gu{constructor(n){const o={};for(const r of n.headers.entries())o[r[0]]=r[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class Al{get text(){var n,o,r,a,u,f,d,g;if(((a=(r=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const S of(g=(d=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||d===void 0?void 0:d.parts)!==null&&g!==void 0?g:[]){for(const[T,b]of Object.entries(S))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(b!==null||b!==void 0)&&_.push(T);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var n,o,r,a,u,f,d,g;if(((a=(r=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(g=(d=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||d===void 0?void 0:d.parts)!==null&&g!==void 0?g:[]){for(const[S,T]of Object.entries(_))S!=="inlineData"&&(T!==null||T!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var n,o,r,a,u,f,d,g;if(((a=(r=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(d=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||d===void 0?void 0:d.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var n,o,r,a,u,f,d,g,m;if(((a=(r=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(d=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||d===void 0?void 0:d.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var n,o,r,a,u,f,d,g,m;if(((a=(r=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(d=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||d===void 0?void 0:d.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class pm{}class mm{}class Yv{}class Jv{}class Kv{}class Xv{}class gm{}class ym{}class vm{}class Zv{}class jr{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const r=new jr;let a;const u=n;return o?a=Uv(u):a=Dv(u),Object.assign(r,a),r}}class _m{}class Sm{}class Tm{}class Em{}class Qv{}class Wv{}class $v{}class $u{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const r=new $u,u=Hv(n);return Object.assign(r,u),r}}class jv{}class e_{}class t_{}class n_{}class Cm{}class i_{get text(){var n,o,r;let a="",u=!1;const f=[];for(const d of(r=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[g,m]of Object.entries(d))g!=="text"&&g!=="thought"&&m!==null&&f.push(g);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;u=!0,a+=d.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var n,o,r;let a="";const u=[];for(const f of(r=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[d,g]of Object.entries(f))d!=="inlineData"&&g!==null&&u.push(d);f.inlineData&&typeof f.inlineData.data=="string"&&(a+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class o_{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ju{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const r=new ju,u=Zm(n);return Object.assign(r,u),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ve(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function Qm(i,n){const o=Ve(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Wm(i){return Array.isArray(i)?i.map(n=>ea(n)):[ea(i)]}function ea(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function $m(i){const n=ea(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function jm(i){const n=ea(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Am(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function eg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>Am(n)):[Am(i)]}function Bu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function bm(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function xm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function wt(i){if(i==null)throw new Error("ContentUnion is required");return Bu(i)?i:{role:"user",parts:eg(i)}}function ec(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const r=wt(o);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(i.isVertexAI()){const o=wt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>wt(o)):[wt(n)]}function sn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(bm(i)||xm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wt(i)]}const n=[],o=[],r=Bu(i[0]);for(const a of i){const u=Bu(a);if(u!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)n.push(a);else{if(bm(a)||xm(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return r||n.push({role:"user",parts:eg(o)}),n}function l_(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(r=>r!=="null");if(o.length===1)n.type=Object.values(hi).includes(o[0].toUpperCase())?o[0].toUpperCase():hi.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const r of o)n.anyOf.push({type:Object.values(hi).includes(r.toUpperCase())?r.toUpperCase():hi.TYPE_UNSPECIFIED})}}function bo(i){const n={},o=["items"],r=["anyOf"],a=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=i.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(n.nullable=!0,i=u[1]):u[1].type==="null"&&(n.nullable=!0,i=u[0])),i.type instanceof Array&&l_(i.type,n);for(const[f,d]of Object.entries(i))if(d!=null)if(f=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;n.type=Object.values(hi).includes(d.toUpperCase())?d.toUpperCase():hi.TYPE_UNSPECIFIED}else if(o.includes(f))n[f]=bo(d);else if(r.includes(f)){const g=[];for(const m of d){if(m.type=="null"){n.nullable=!0;continue}g.push(bo(m))}n[f]=g}else if(a.includes(f)){const g={};for(const[m,v]of Object.entries(d))g[m]=bo(v);n[f]=g}else{if(f==="additionalProperties")continue;n[f]=d}return n}function tc(i){return bo(i)}function nc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function ic(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function wo(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=bo(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=bo(n.response));return i}function Ro(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function r_(i,n,o,r=1){const a=!n.startsWith(`${o}/`)&&n.split("/").length===r;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:a?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:a?`${o}/${n}`:n}function Pn(i,n){if(typeof n!="string")throw new Error("name must be a string");return r_(i,n,"cachedContents")}function tg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function pi(i){return Wu(i)}function a_(i){return i!=null&&typeof i=="object"&&"name"in i}function s_(i){return i!=null&&typeof i=="object"&&"video"in i}function u_(i){return i!=null&&typeof i=="object"&&"uri"in i}function ng(i){var n;let o;if(a_(i)&&(o=i.name),!(u_(i)&&(o=i.uri,o===void 0))&&!(s_(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function ig(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function og(i){for(const n of["models","tunedModels","publisherModels"])if(c_(i,n))return i[n];return[]}function c_(i,n){return i!==null&&typeof i=="object"&&n in i}function f_(i,n={}){const o=i,r={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(r.responseJsonSchema=o.outputSchema),n.behavior&&(r.behavior=n.behavior),{functionDeclarations:[r]}}function d_(i,n={}){const o=[],r=new Set;for(const a of i){const u=a.name;if(r.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);r.add(u);const f=f_(a,n);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function lg(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const r=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,a=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function h_(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function rg(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const a=o.inlinedResponses;if(!Array.isArray(a)||a.length===0)return i;let u=!1;for(const f of a){if(typeof f!="object"||f===null)continue;const g=f.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){u=!0;break}}return u&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function No(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function ag(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p_(i){const n={},o=c(i,["responsesFile"]);o!=null&&h(n,["fileName"],o);const r=c(i,["inlinedResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>X_(f))),h(n,["inlinedResponses"],u)}const a=c(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),h(n,["inlinedEmbedContentResponses"],u)}return n}function m_(i){const n={},o=c(i,["predictionsFormat"]);o!=null&&h(n,["format"],o);const r=c(i,["gcsDestination","outputUriPrefix"]);r!=null&&h(n,["gcsUri"],r);const a=c(i,["bigqueryDestination","outputUri"]);return a!=null&&h(n,["bigqueryUri"],a),n}function g_(i){const n={},o=c(i,["format"]);o!=null&&h(n,["predictionsFormat"],o);const r=c(i,["gcsUri"]);r!=null&&h(n,["gcsDestination","outputUriPrefix"],r);const a=c(i,["bigqueryUri"]);if(a!=null&&h(n,["bigqueryDestination","outputUri"],a),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function Qr(i){const n={},o=c(i,["name"]);o!=null&&h(n,["name"],o);const r=c(i,["metadata","displayName"]);r!=null&&h(n,["displayName"],r);const a=c(i,["metadata","state"]);a!=null&&h(n,["state"],ag(a));const u=c(i,["metadata","createTime"]);u!=null&&h(n,["createTime"],u);const f=c(i,["metadata","endTime"]);f!=null&&h(n,["endTime"],f);const d=c(i,["metadata","updateTime"]);d!=null&&h(n,["updateTime"],d);const g=c(i,["metadata","model"]);g!=null&&h(n,["model"],g);const m=c(i,["metadata","output"]);return m!=null&&h(n,["dest"],p_(rg(m))),n}function Ou(i){const n={},o=c(i,["name"]);o!=null&&h(n,["name"],o);const r=c(i,["displayName"]);r!=null&&h(n,["displayName"],r);const a=c(i,["state"]);a!=null&&h(n,["state"],ag(a));const u=c(i,["error"]);u!=null&&h(n,["error"],u);const f=c(i,["createTime"]);f!=null&&h(n,["createTime"],f);const d=c(i,["startTime"]);d!=null&&h(n,["startTime"],d);const g=c(i,["endTime"]);g!=null&&h(n,["endTime"],g);const m=c(i,["updateTime"]);m!=null&&h(n,["updateTime"],m);const v=c(i,["model"]);v!=null&&h(n,["model"],v);const _=c(i,["inputConfig"]);_!=null&&h(n,["src"],y_(_));const S=c(i,["outputConfig"]);S!=null&&h(n,["dest"],m_(rg(S)));const T=c(i,["completionStats"]);return T!=null&&h(n,["completionStats"],T),n}function y_(i){const n={},o=c(i,["instancesFormat"]);o!=null&&h(n,["format"],o);const r=c(i,["gcsSource","uris"]);r!=null&&h(n,["gcsUri"],r);const a=c(i,["bigquerySource","inputUri"]);return a!=null&&h(n,["bigqueryUri"],a),n}function v_(i,n){const o={};if(c(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=c(n,["fileName"]);r!=null&&h(o,["fileName"],r);const a=c(n,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>K_(i,f))),h(o,["requests","requests"],u)}return o}function __(i){const n={},o=c(i,["format"]);o!=null&&h(n,["instancesFormat"],o);const r=c(i,["gcsUri"]);r!=null&&h(n,["gcsSource","uris"],r);const a=c(i,["bigqueryUri"]);if(a!=null&&h(n,["bigquerySource","inputUri"],a),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function S_(i){const n={},o=c(i,["data"]);if(o!=null&&h(n,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["mimeType"]);return r!=null&&h(n,["mimeType"],r),n}function T_(i,n){const o={},r=c(n,["name"]);return r!=null&&h(o,["_url","name"],No(i,r)),o}function E_(i,n){const o={},r=c(n,["name"]);return r!=null&&h(o,["_url","name"],No(i,r)),o}function C_(i){const n={},o=c(i,["content"]);o!=null&&h(n,["content"],o);const r=c(i,["citationMetadata"]);r!=null&&h(n,["citationMetadata"],A_(r));const a=c(i,["tokenCount"]);a!=null&&h(n,["tokenCount"],a);const u=c(i,["finishReason"]);u!=null&&h(n,["finishReason"],u);const f=c(i,["avgLogprobs"]);f!=null&&h(n,["avgLogprobs"],f);const d=c(i,["groundingMetadata"]);d!=null&&h(n,["groundingMetadata"],d);const g=c(i,["index"]);g!=null&&h(n,["index"],g);const m=c(i,["logprobsResult"]);m!=null&&h(n,["logprobsResult"],m);const v=c(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),h(n,["safetyRatings"],S)}const _=c(i,["urlContextMetadata"]);return _!=null&&h(n,["urlContextMetadata"],_),n}function A_(i){const n={},o=c(i,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),h(n,["citations"],r)}return n}function sg(i){const n={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>tS(u))),h(n,["parts"],a)}const r=c(i,["role"]);return r!=null&&h(n,["role"],r),n}function b_(i,n){const o={},r=c(i,["displayName"]);if(n!==void 0&&r!=null&&h(n,["batch","displayName"],r),c(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function x_(i,n){const o={},r=c(i,["displayName"]);n!==void 0&&r!=null&&h(n,["displayName"],r);const a=c(i,["dest"]);return n!==void 0&&a!=null&&h(n,["outputConfig"],g_(h_(a))),o}function wm(i,n){const o={},r=c(n,["model"]);r!=null&&h(o,["_url","model"],Ve(i,r));const a=c(n,["src"]);a!=null&&h(o,["batch","inputConfig"],v_(i,lg(i,a)));const u=c(n,["config"]);return u!=null&&b_(u,o),o}function w_(i,n){const o={},r=c(n,["model"]);r!=null&&h(o,["model"],Ve(i,r));const a=c(n,["src"]);a!=null&&h(o,["inputConfig"],__(lg(i,a)));const u=c(n,["config"]);return u!=null&&x_(u,o),o}function R_(i,n){const o={},r=c(i,["displayName"]);return n!==void 0&&r!=null&&h(n,["batch","displayName"],r),o}function N_(i,n){const o={},r=c(n,["model"]);r!=null&&h(o,["_url","model"],Ve(i,r));const a=c(n,["src"]);a!=null&&h(o,["batch","inputConfig"],z_(i,a));const u=c(n,["config"]);return u!=null&&R_(u,o),o}function M_(i,n){const o={},r=c(n,["name"]);return r!=null&&h(o,["_url","name"],No(i,r)),o}function I_(i,n){const o={},r=c(n,["name"]);return r!=null&&h(o,["_url","name"],No(i,r)),o}function D_(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["name"]);r!=null&&h(n,["name"],r);const a=c(i,["done"]);a!=null&&h(n,["done"],a);const u=c(i,["error"]);return u!=null&&h(n,["error"],u),n}function U_(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["name"]);r!=null&&h(n,["name"],r);const a=c(i,["done"]);a!=null&&h(n,["done"],a);const u=c(i,["error"]);return u!=null&&h(n,["error"],u),n}function k_(i,n){const o={},r=c(n,["contents"]);if(r!=null){let u=ec(i,r);Array.isArray(u)&&(u=u.map(f=>f)),h(o,["requests[]","request","content"],u)}const a=c(n,["config"]);return a!=null&&(h(o,["_self"],L_(a,o)),Mv(o,{"requests[].*":"requests[].request.*"})),o}function L_(i,n){const o={},r=c(i,["taskType"]);n!==void 0&&r!=null&&h(n,["requests[]","taskType"],r);const a=c(i,["title"]);n!==void 0&&a!=null&&h(n,["requests[]","title"],a);const u=c(i,["outputDimensionality"]);if(n!==void 0&&u!=null&&h(n,["requests[]","outputDimensionality"],u),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function z_(i,n){const o={},r=c(n,["fileName"]);r!=null&&h(o,["file_name"],r);const a=c(n,["inlinedRequests"]);return a!=null&&h(o,["requests"],k_(i,a)),o}function G_(i){const n={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&h(n,["fileUri"],o);const r=c(i,["mimeType"]);return r!=null&&h(n,["mimeType"],r),n}function B_(i){const n={},o=c(i,["id"]);o!=null&&h(n,["id"],o);const r=c(i,["args"]);r!=null&&h(n,["args"],r);const a=c(i,["name"]);if(a!=null&&h(n,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function O_(i){const n={},o=c(i,["allowedFunctionNames"]);o!=null&&h(n,["allowedFunctionNames"],o);const r=c(i,["mode"]);if(r!=null&&h(n,["mode"],r),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function H_(i,n,o){const r={},a=c(n,["systemInstruction"]);o!==void 0&&a!=null&&h(o,["systemInstruction"],sg(wt(a)));const u=c(n,["temperature"]);u!=null&&h(r,["temperature"],u);const f=c(n,["topP"]);f!=null&&h(r,["topP"],f);const d=c(n,["topK"]);d!=null&&h(r,["topK"],d);const g=c(n,["candidateCount"]);g!=null&&h(r,["candidateCount"],g);const m=c(n,["maxOutputTokens"]);m!=null&&h(r,["maxOutputTokens"],m);const v=c(n,["stopSequences"]);v!=null&&h(r,["stopSequences"],v);const _=c(n,["responseLogprobs"]);_!=null&&h(r,["responseLogprobs"],_);const S=c(n,["logprobs"]);S!=null&&h(r,["logprobs"],S);const T=c(n,["presencePenalty"]);T!=null&&h(r,["presencePenalty"],T);const b=c(n,["frequencyPenalty"]);b!=null&&h(r,["frequencyPenalty"],b);const C=c(n,["seed"]);C!=null&&h(r,["seed"],C);const x=c(n,["responseMimeType"]);x!=null&&h(r,["responseMimeType"],x);const w=c(n,["responseSchema"]);w!=null&&h(r,["responseSchema"],tc(w));const I=c(n,["responseJsonSchema"]);if(I!=null&&h(r,["responseJsonSchema"],I),c(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=c(n,["safetySettings"]);if(o!==void 0&&D!=null){let j=D;Array.isArray(j)&&(j=j.map(R=>nS(R))),h(o,["safetySettings"],j)}const B=c(n,["tools"]);if(o!==void 0&&B!=null){let j=Ro(B);Array.isArray(j)&&(j=j.map(R=>oS(wo(R)))),h(o,["tools"],j)}const U=c(n,["toolConfig"]);if(o!==void 0&&U!=null&&h(o,["toolConfig"],iS(U)),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=c(n,["cachedContent"]);o!==void 0&&X!=null&&h(o,["cachedContent"],Pn(i,X));const q=c(n,["responseModalities"]);q!=null&&h(r,["responseModalities"],q);const ne=c(n,["mediaResolution"]);ne!=null&&h(r,["mediaResolution"],ne);const V=c(n,["speechConfig"]);if(V!=null&&h(r,["speechConfig"],nc(V)),c(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=c(n,["thinkingConfig"]);re!=null&&h(r,["thinkingConfig"],re);const ve=c(n,["imageConfig"]);ve!=null&&h(r,["imageConfig"],J_(ve));const O=c(n,["enableEnhancedCivicAnswers"]);if(O!=null&&h(r,["enableEnhancedCivicAnswers"],O),c(n,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function P_(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(m=>C_(m))),h(n,["candidates"],g)}const a=c(i,["modelVersion"]);a!=null&&h(n,["modelVersion"],a);const u=c(i,["promptFeedback"]);u!=null&&h(n,["promptFeedback"],u);const f=c(i,["responseId"]);f!=null&&h(n,["responseId"],f);const d=c(i,["usageMetadata"]);return d!=null&&h(n,["usageMetadata"],d),n}function q_(i,n){const o={},r=c(n,["name"]);return r!=null&&h(o,["_url","name"],No(i,r)),o}function V_(i,n){const o={},r=c(n,["name"]);return r!=null&&h(o,["_url","name"],No(i,r)),o}function F_(i){const n={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&h(n,["enableWidget"],o),n}function Y_(i){const n={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&h(n,["timeRangeFilter"],o),n}function J_(i){const n={},o=c(i,["aspectRatio"]);o!=null&&h(n,["aspectRatio"],o);const r=c(i,["imageSize"]);if(r!=null&&h(n,["imageSize"],r),c(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function K_(i,n){const o={},r=c(n,["model"]);r!=null&&h(o,["request","model"],Ve(i,r));const a=c(n,["contents"]);if(a!=null){let d=sn(a);Array.isArray(d)&&(d=d.map(g=>sg(g))),h(o,["request","contents"],d)}const u=c(n,["metadata"]);u!=null&&h(o,["metadata"],u);const f=c(n,["config"]);return f!=null&&h(o,["request","generationConfig"],H_(i,f,c(o,["request"],{}))),o}function X_(i){const n={},o=c(i,["response"]);o!=null&&h(n,["response"],P_(o));const r=c(i,["metadata"]);r!=null&&h(n,["metadata"],r);const a=c(i,["error"]);return a!=null&&h(n,["error"],a),n}function Z_(i,n){const o={},r=c(i,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const a=c(i,["pageToken"]);if(n!==void 0&&a!=null&&h(n,["_query","pageToken"],a),c(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Q_(i,n){const o={},r=c(i,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const a=c(i,["pageToken"]);n!==void 0&&a!=null&&h(n,["_query","pageToken"],a);const u=c(i,["filter"]);return n!==void 0&&u!=null&&h(n,["_query","filter"],u),o}function W_(i){const n={},o=c(i,["config"]);return o!=null&&Z_(o,n),n}function $_(i){const n={},o=c(i,["config"]);return o!=null&&Q_(o,n),n}function j_(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const a=c(i,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Qr(f))),h(n,["batchJobs"],u)}return n}function eS(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const a=c(i,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Ou(f))),h(n,["batchJobs"],u)}return n}function tS(i){const n={},o=c(i,["mediaResolution"]);o!=null&&h(n,["mediaResolution"],o);const r=c(i,["codeExecutionResult"]);r!=null&&h(n,["codeExecutionResult"],r);const a=c(i,["executableCode"]);a!=null&&h(n,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&h(n,["fileData"],G_(u));const f=c(i,["functionCall"]);f!=null&&h(n,["functionCall"],B_(f));const d=c(i,["functionResponse"]);d!=null&&h(n,["functionResponse"],d);const g=c(i,["inlineData"]);g!=null&&h(n,["inlineData"],S_(g));const m=c(i,["text"]);m!=null&&h(n,["text"],m);const v=c(i,["thought"]);v!=null&&h(n,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&h(n,["thoughtSignature"],_);const S=c(i,["videoMetadata"]);return S!=null&&h(n,["videoMetadata"],S),n}function nS(i){const n={},o=c(i,["category"]);if(o!=null&&h(n,["category"],o),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(i,["threshold"]);return r!=null&&h(n,["threshold"],r),n}function iS(i){const n={},o=c(i,["retrievalConfig"]);o!=null&&h(n,["retrievalConfig"],o);const r=c(i,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],O_(r)),n}function oS(i){const n={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&h(n,["computerUse"],o);const r=c(i,["fileSearch"]);r!=null&&h(n,["fileSearch"],r);const a=c(i,["codeExecution"]);if(a!=null&&h(n,["codeExecution"],a),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),h(n,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&h(n,["googleMaps"],F_(f));const d=c(i,["googleSearch"]);d!=null&&h(n,["googleSearch"],Y_(d));const g=c(i,["googleSearchRetrieval"]);g!=null&&h(n,["googleSearchRetrieval"],g);const m=c(i,["urlContext"]);return m!=null&&h(n,["urlContext"],m),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var On;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(On||(On={}));class Li{constructor(n,o,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,r,a)}init(n,o,r){var a,u;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!r||Object.keys(r).length===0?f={config:{}}:typeof r=="object"?f=Object.assign({},r):f=r,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(a=f.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lS extends Hn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Li(On.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(n){const o=wm(this.apiClient,n),r=o._url,a=Te("{model}:batchGenerateContent",r),d=o.batch.inputConfig.requests,g=d.requests,m=[];for(const v of g){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=S,_.request=T}m.push(_)}return d.requests=m,delete o.config,delete o._url,delete o._query,{path:a,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const r=o?Object.assign({},o):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const u=this.getGcsUri(n),f=this.getBigqueryUri(n);if(u)u.endsWith(".jsonl")?r.dest=`${u.slice(0,-6)}/dest`:r.dest=`${u}_dest_${a}`;else if(f)r.dest=`${f}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=w_(this.apiClient,n);return d=Te("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>Ou(v))}else{const m=wm(this.apiClient,n);return d=Te("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Qr(v))}}async createEmbeddingsInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=N_(this.apiClient,n);return u=Te("{model}:asyncBatchEmbedContent",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>Qr(g))}}async get(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=V_(this.apiClient,n);return d=Te("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>Ou(v))}else{const m=q_(this.apiClient,n);return d=Te("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Qr(v))}}async cancel(n){var o,r,a,u;let f="",d={};if(this.apiClient.isVertexAI()){const g=E_(this.apiClient,n);f=Te("batchPredictionJobs/{name}:cancel",g._url),d=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=T_(this.apiClient,n);f=Te("batches/{name}:cancel",g._url),d=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=$_(n);return d=Te("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=eS(v),S=new Cm;return Object.assign(S,_),S})}else{const m=W_(n);return d=Te("batches",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=j_(v),S=new Cm;return Object.assign(S,_),S})}}async delete(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=I_(this.apiClient,n);return d=Te("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>U_(v))}else{const m=M_(this.apiClient,n);return d=Te("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>D_(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rS(i){const n={},o=c(i,["data"]);if(o!=null&&h(n,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["mimeType"]);return r!=null&&h(n,["mimeType"],r),n}function Rm(i){const n={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>NS(u))),h(n,["parts"],a)}const r=c(i,["role"]);return r!=null&&h(n,["role"],r),n}function aS(i,n){const o={},r=c(i,["ttl"]);n!==void 0&&r!=null&&h(n,["ttl"],r);const a=c(i,["expireTime"]);n!==void 0&&a!=null&&h(n,["expireTime"],a);const u=c(i,["displayName"]);n!==void 0&&u!=null&&h(n,["displayName"],u);const f=c(i,["contents"]);if(n!==void 0&&f!=null){let v=sn(f);Array.isArray(v)&&(v=v.map(_=>Rm(_))),h(n,["contents"],v)}const d=c(i,["systemInstruction"]);n!==void 0&&d!=null&&h(n,["systemInstruction"],Rm(wt(d)));const g=c(i,["tools"]);if(n!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(_=>IS(_))),h(n,["tools"],v)}const m=c(i,["toolConfig"]);if(n!==void 0&&m!=null&&h(n,["toolConfig"],MS(m)),c(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function sS(i,n){const o={},r=c(i,["ttl"]);n!==void 0&&r!=null&&h(n,["ttl"],r);const a=c(i,["expireTime"]);n!==void 0&&a!=null&&h(n,["expireTime"],a);const u=c(i,["displayName"]);n!==void 0&&u!=null&&h(n,["displayName"],u);const f=c(i,["contents"]);if(n!==void 0&&f!=null){let _=sn(f);Array.isArray(_)&&(_=_.map(S=>S)),h(n,["contents"],_)}const d=c(i,["systemInstruction"]);n!==void 0&&d!=null&&h(n,["systemInstruction"],wt(d));const g=c(i,["tools"]);if(n!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(S=>DS(S))),h(n,["tools"],_)}const m=c(i,["toolConfig"]);n!==void 0&&m!=null&&h(n,["toolConfig"],m);const v=c(i,["kmsKeyName"]);return n!==void 0&&v!=null&&h(n,["encryption_spec","kmsKeyName"],v),o}function uS(i,n){const o={},r=c(n,["model"]);r!=null&&h(o,["model"],Qm(i,r));const a=c(n,["config"]);return a!=null&&aS(a,o),o}function cS(i,n){const o={},r=c(n,["model"]);r!=null&&h(o,["model"],Qm(i,r));const a=c(n,["config"]);return a!=null&&sS(a,o),o}function fS(i,n){const o={},r=c(n,["name"]);return r!=null&&h(o,["_url","name"],Pn(i,r)),o}function dS(i,n){const o={},r=c(n,["name"]);return r!=null&&h(o,["_url","name"],Pn(i,r)),o}function hS(i){const n={},o=c(i,["sdkHttpResponse"]);return o!=null&&h(n,["sdkHttpResponse"],o),n}function pS(i){const n={},o=c(i,["sdkHttpResponse"]);return o!=null&&h(n,["sdkHttpResponse"],o),n}function mS(i){const n={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&h(n,["fileUri"],o);const r=c(i,["mimeType"]);return r!=null&&h(n,["mimeType"],r),n}function gS(i){const n={},o=c(i,["id"]);o!=null&&h(n,["id"],o);const r=c(i,["args"]);r!=null&&h(n,["args"],r);const a=c(i,["name"]);if(a!=null&&h(n,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function yS(i){const n={},o=c(i,["allowedFunctionNames"]);o!=null&&h(n,["allowedFunctionNames"],o);const r=c(i,["mode"]);if(r!=null&&h(n,["mode"],r),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function vS(i){const n={},o=c(i,["description"]);o!=null&&h(n,["description"],o);const r=c(i,["name"]);r!=null&&h(n,["name"],r);const a=c(i,["parameters"]);a!=null&&h(n,["parameters"],a);const u=c(i,["parametersJsonSchema"]);u!=null&&h(n,["parametersJsonSchema"],u);const f=c(i,["response"]);f!=null&&h(n,["response"],f);const d=c(i,["responseJsonSchema"]);if(d!=null&&h(n,["responseJsonSchema"],d),c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function _S(i,n){const o={},r=c(n,["name"]);return r!=null&&h(o,["_url","name"],Pn(i,r)),o}function SS(i,n){const o={},r=c(n,["name"]);return r!=null&&h(o,["_url","name"],Pn(i,r)),o}function TS(i){const n={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&h(n,["enableWidget"],o),n}function ES(i){const n={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&h(n,["timeRangeFilter"],o),n}function CS(i,n){const o={},r=c(i,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const a=c(i,["pageToken"]);return n!==void 0&&a!=null&&h(n,["_query","pageToken"],a),o}function AS(i,n){const o={},r=c(i,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const a=c(i,["pageToken"]);return n!==void 0&&a!=null&&h(n,["_query","pageToken"],a),o}function bS(i){const n={},o=c(i,["config"]);return o!=null&&CS(o,n),n}function xS(i){const n={},o=c(i,["config"]);return o!=null&&AS(o,n),n}function wS(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const a=c(i,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),h(n,["cachedContents"],u)}return n}function RS(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const a=c(i,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),h(n,["cachedContents"],u)}return n}function NS(i){const n={},o=c(i,["mediaResolution"]);o!=null&&h(n,["mediaResolution"],o);const r=c(i,["codeExecutionResult"]);r!=null&&h(n,["codeExecutionResult"],r);const a=c(i,["executableCode"]);a!=null&&h(n,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&h(n,["fileData"],mS(u));const f=c(i,["functionCall"]);f!=null&&h(n,["functionCall"],gS(f));const d=c(i,["functionResponse"]);d!=null&&h(n,["functionResponse"],d);const g=c(i,["inlineData"]);g!=null&&h(n,["inlineData"],rS(g));const m=c(i,["text"]);m!=null&&h(n,["text"],m);const v=c(i,["thought"]);v!=null&&h(n,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&h(n,["thoughtSignature"],_);const S=c(i,["videoMetadata"]);return S!=null&&h(n,["videoMetadata"],S),n}function MS(i){const n={},o=c(i,["retrievalConfig"]);o!=null&&h(n,["retrievalConfig"],o);const r=c(i,["functionCallingConfig"]);return r!=null&&h(n,["functionCallingConfig"],yS(r)),n}function IS(i){const n={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&h(n,["computerUse"],o);const r=c(i,["fileSearch"]);r!=null&&h(n,["fileSearch"],r);const a=c(i,["codeExecution"]);if(a!=null&&h(n,["codeExecution"],a),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),h(n,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&h(n,["googleMaps"],TS(f));const d=c(i,["googleSearch"]);d!=null&&h(n,["googleSearch"],ES(d));const g=c(i,["googleSearchRetrieval"]);g!=null&&h(n,["googleSearchRetrieval"],g);const m=c(i,["urlContext"]);return m!=null&&h(n,["urlContext"],m),n}function DS(i){const n={},o=c(i,["retrieval"]);o!=null&&h(n,["retrieval"],o);const r=c(i,["computerUse"]);if(r!=null&&h(n,["computerUse"],r),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(i,["codeExecution"]);a!=null&&h(n,["codeExecution"],a);const u=c(i,["enterpriseWebSearch"]);u!=null&&h(n,["enterpriseWebSearch"],u);const f=c(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>vS(S))),h(n,["functionDeclarations"],_)}const d=c(i,["googleMaps"]);d!=null&&h(n,["googleMaps"],d);const g=c(i,["googleSearch"]);g!=null&&h(n,["googleSearch"],g);const m=c(i,["googleSearchRetrieval"]);m!=null&&h(n,["googleSearchRetrieval"],m);const v=c(i,["urlContext"]);return v!=null&&h(n,["urlContext"],v),n}function US(i,n){const o={},r=c(i,["ttl"]);n!==void 0&&r!=null&&h(n,["ttl"],r);const a=c(i,["expireTime"]);return n!==void 0&&a!=null&&h(n,["expireTime"],a),o}function kS(i,n){const o={},r=c(i,["ttl"]);n!==void 0&&r!=null&&h(n,["ttl"],r);const a=c(i,["expireTime"]);return n!==void 0&&a!=null&&h(n,["expireTime"],a),o}function LS(i,n){const o={},r=c(n,["name"]);r!=null&&h(o,["_url","name"],Pn(i,r));const a=c(n,["config"]);return a!=null&&US(a,o),o}function zS(i,n){const o={},r=c(n,["name"]);r!=null&&h(o,["_url","name"],Pn(i,r));const a=c(n,["config"]);return a!=null&&kS(a,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GS extends Hn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Li(On.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(o),o)}async create(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=cS(this.apiClient,n);return d=Te("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=uS(this.apiClient,n);return d=Te("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=SS(this.apiClient,n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=_S(this.apiClient,n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=dS(this.apiClient,n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=pS(v),S=new Tm;return Object.assign(S,_),S})}else{const m=fS(this.apiClient,n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=hS(v),S=new Tm;return Object.assign(S,_),S})}}async update(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=zS(this.apiClient,n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=LS(this.apiClient,n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=xS(n);return d=Te("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=RS(v),S=new Em;return Object.assign(S,_),S})}else{const m=bS(n);return d=Te("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=wS(v),S=new Em;return Object.assign(S,_),S})}}}function ta(i,n){var o={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(o[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(i);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(i,r[a])&&(o[r[a]]=i[r[a]]);return o}function Nm(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],r=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(i){return this instanceof Ie?(this.v=i,this):new Ie(i)}function hn(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=o.apply(i,n||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(T){return function(b){return Promise.resolve(b).then(T,_)}}function d(T,b){r[T]&&(a[T]=function(C){return new Promise(function(x,w){u.push([T,C,x,w])>1||g(T,C)})},b&&(a[T]=b(a[T])))}function g(T,b){try{m(r[T](b))}catch(C){S(u[0][3],C)}}function m(T){T.value instanceof Ie?Promise.resolve(T.value.v).then(v,_):S(u[0][2],T)}function v(T){g("next",T)}function _(T){g("throw",T)}function S(T,b){T(b),u.shift(),u.length&&g(u[0][0],u[0][1])}}function pn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof Nm=="function"?Nm(i):i[Symbol.iterator](),o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o);function r(u){o[u]=i[u]&&function(f){return new Promise(function(d,g){f=i[u](f),a(d,g,f.done,f.value)})}}function a(u,f,d,g){Promise.resolve(g).then(function(m){u({value:m,done:d})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BS(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:ug(o)}function ug(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function OS(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Mm(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let r=0;for(;r<o;)if(i[r].role==="user")n.push(i[r]),r++;else{const a=[];let u=!0;for(;r<o&&i[r].role==="model";)a.push(i[r]),u&&!ug(i[r])&&(u=!1),r++;u?n.push(...a):n.pop()}return n}class HS{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new PS(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class PS{constructor(n,o,r,a={},u=[]){this.apiClient=n,this.modelsModule=o,this.model=r,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),OS(u)}async sendMessage(n){var o;await this.sendPromise;const r=wt(n.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,f,d;const g=await a,m=(f=(u=g.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,v=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(d=v.slice(_))!==null&&d!==void 0?d:[]);const T=m?[m]:[];this.recordHistory(r,T,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(n){var o;await this.sendPromise;const r=wt(n.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,r)}getHistory(n=!1){const o=n?Mm(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){return hn(this,arguments,function*(){var a,u,f,d,g,m;const v=[];try{for(var _=!0,S=pn(n),T;T=yield Ie(S.next()),a=T.done,!a;_=!0){d=T.value,_=!1;const b=d;if(BS(b)){const C=(m=(g=b.candidates)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.content;C!==void 0&&v.push(C)}yield yield Ie(b)}}catch(b){u={error:b}}finally{try{!_&&!a&&(f=S.return)&&(yield Ie(f.call(S)))}finally{if(u)throw u.error}}this.recordHistory(o,v)})}recordHistory(n,o,r){let a=[];o.length>0&&o.every(u=>u.role!==void 0)?a=o:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Mm(r)):this.history.push(n),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wl extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,wl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qS(i){const n={},o=c(i,["file"]);return o!=null&&h(n,["file"],o),n}function VS(i){const n={},o=c(i,["sdkHttpResponse"]);return o!=null&&h(n,["sdkHttpResponse"],o),n}function FS(i){const n={},o=c(i,["name"]);return o!=null&&h(n,["_url","file"],ng(o)),n}function YS(i){const n={},o=c(i,["sdkHttpResponse"]);return o!=null&&h(n,["sdkHttpResponse"],o),n}function JS(i){const n={},o=c(i,["name"]);return o!=null&&h(n,["_url","file"],ng(o)),n}function KS(i){const n={},o=c(i,["uris"]);return o!=null&&h(n,["uris"],o),n}function XS(i,n){const o={},r=c(i,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const a=c(i,["pageToken"]);return n!==void 0&&a!=null&&h(n,["_query","pageToken"],a),o}function ZS(i){const n={},o=c(i,["config"]);return o!=null&&XS(o,n),n}function QS(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const a=c(i,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),h(n,["files"],u)}return n}function WS(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),h(n,["files"],a)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $S extends Hn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Li(On.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async registerFiles(n){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(n){return this.registerFilesInternal(n)}async listInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ZS(n);return u=Te("files",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=QS(g),v=new jv;return Object.assign(v,m),v})}}async createInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=qS(n);return u=Te("upload/v1beta/files",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=VS(g),v=new e_;return Object.assign(v,m),v})}}async get(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=JS(n);return u=Te("files/{file}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=FS(n);return u=Te("files/{file}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=YS(g),v=new t_;return Object.assign(v,m),v})}}async registerFilesInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=KS(n);return u=Te("files:register",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=WS(g),v=new n_;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wr(i){const n={},o=c(i,["data"]);if(o!=null&&h(n,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["mimeType"]);return r!=null&&h(n,["mimeType"],r),n}function jS(i){const n={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>mT(u))),h(n,["parts"],a)}const r=c(i,["role"]);return r!=null&&h(n,["role"],r),n}function eT(i){const n={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&h(n,["fileUri"],o);const r=c(i,["mimeType"]);return r!=null&&h(n,["mimeType"],r),n}function tT(i){const n={},o=c(i,["id"]);o!=null&&h(n,["id"],o);const r=c(i,["args"]);r!=null&&h(n,["args"],r);const a=c(i,["name"]);if(a!=null&&h(n,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function nT(i){const n={},o=c(i,["description"]);o!=null&&h(n,["description"],o);const r=c(i,["name"]);r!=null&&h(n,["name"],r);const a=c(i,["parameters"]);a!=null&&h(n,["parameters"],a);const u=c(i,["parametersJsonSchema"]);u!=null&&h(n,["parametersJsonSchema"],u);const f=c(i,["response"]);f!=null&&h(n,["response"],f);const d=c(i,["responseJsonSchema"]);if(d!=null&&h(n,["responseJsonSchema"],d),c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function iT(i){const n={},o=c(i,["modelSelectionConfig"]);o!=null&&h(n,["modelConfig"],o);const r=c(i,["responseJsonSchema"]);r!=null&&h(n,["responseJsonSchema"],r);const a=c(i,["audioTimestamp"]);a!=null&&h(n,["audioTimestamp"],a);const u=c(i,["candidateCount"]);u!=null&&h(n,["candidateCount"],u);const f=c(i,["enableAffectiveDialog"]);f!=null&&h(n,["enableAffectiveDialog"],f);const d=c(i,["frequencyPenalty"]);d!=null&&h(n,["frequencyPenalty"],d);const g=c(i,["logprobs"]);g!=null&&h(n,["logprobs"],g);const m=c(i,["maxOutputTokens"]);m!=null&&h(n,["maxOutputTokens"],m);const v=c(i,["mediaResolution"]);v!=null&&h(n,["mediaResolution"],v);const _=c(i,["presencePenalty"]);_!=null&&h(n,["presencePenalty"],_);const S=c(i,["responseLogprobs"]);S!=null&&h(n,["responseLogprobs"],S);const T=c(i,["responseMimeType"]);T!=null&&h(n,["responseMimeType"],T);const b=c(i,["responseModalities"]);b!=null&&h(n,["responseModalities"],b);const C=c(i,["responseSchema"]);C!=null&&h(n,["responseSchema"],C);const x=c(i,["routingConfig"]);x!=null&&h(n,["routingConfig"],x);const w=c(i,["seed"]);w!=null&&h(n,["seed"],w);const I=c(i,["speechConfig"]);I!=null&&h(n,["speechConfig"],I);const D=c(i,["stopSequences"]);D!=null&&h(n,["stopSequences"],D);const B=c(i,["temperature"]);B!=null&&h(n,["temperature"],B);const U=c(i,["thinkingConfig"]);U!=null&&h(n,["thinkingConfig"],U);const X=c(i,["topK"]);X!=null&&h(n,["topK"],X);const q=c(i,["topP"]);if(q!=null&&h(n,["topP"],q),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function oT(i){const n={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&h(n,["enableWidget"],o),n}function lT(i){const n={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&h(n,["timeRangeFilter"],o),n}function rT(i,n){const o={},r=c(i,["generationConfig"]);n!==void 0&&r!=null&&h(n,["setup","generationConfig"],r);const a=c(i,["responseModalities"]);n!==void 0&&a!=null&&h(n,["setup","generationConfig","responseModalities"],a);const u=c(i,["temperature"]);n!==void 0&&u!=null&&h(n,["setup","generationConfig","temperature"],u);const f=c(i,["topP"]);n!==void 0&&f!=null&&h(n,["setup","generationConfig","topP"],f);const d=c(i,["topK"]);n!==void 0&&d!=null&&h(n,["setup","generationConfig","topK"],d);const g=c(i,["maxOutputTokens"]);n!==void 0&&g!=null&&h(n,["setup","generationConfig","maxOutputTokens"],g);const m=c(i,["mediaResolution"]);n!==void 0&&m!=null&&h(n,["setup","generationConfig","mediaResolution"],m);const v=c(i,["seed"]);n!==void 0&&v!=null&&h(n,["setup","generationConfig","seed"],v);const _=c(i,["speechConfig"]);n!==void 0&&_!=null&&h(n,["setup","generationConfig","speechConfig"],ic(_));const S=c(i,["thinkingConfig"]);n!==void 0&&S!=null&&h(n,["setup","generationConfig","thinkingConfig"],S);const T=c(i,["enableAffectiveDialog"]);n!==void 0&&T!=null&&h(n,["setup","generationConfig","enableAffectiveDialog"],T);const b=c(i,["systemInstruction"]);n!==void 0&&b!=null&&h(n,["setup","systemInstruction"],jS(wt(b)));const C=c(i,["tools"]);if(n!==void 0&&C!=null){let X=Ro(C);Array.isArray(X)&&(X=X.map(q=>yT(wo(q)))),h(n,["setup","tools"],X)}const x=c(i,["sessionResumption"]);n!==void 0&&x!=null&&h(n,["setup","sessionResumption"],gT(x));const w=c(i,["inputAudioTranscription"]);n!==void 0&&w!=null&&h(n,["setup","inputAudioTranscription"],w);const I=c(i,["outputAudioTranscription"]);n!==void 0&&I!=null&&h(n,["setup","outputAudioTranscription"],I);const D=c(i,["realtimeInputConfig"]);n!==void 0&&D!=null&&h(n,["setup","realtimeInputConfig"],D);const B=c(i,["contextWindowCompression"]);n!==void 0&&B!=null&&h(n,["setup","contextWindowCompression"],B);const U=c(i,["proactivity"]);if(n!==void 0&&U!=null&&h(n,["setup","proactivity"],U),c(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function aT(i,n){const o={},r=c(i,["generationConfig"]);n!==void 0&&r!=null&&h(n,["setup","generationConfig"],iT(r));const a=c(i,["responseModalities"]);n!==void 0&&a!=null&&h(n,["setup","generationConfig","responseModalities"],a);const u=c(i,["temperature"]);n!==void 0&&u!=null&&h(n,["setup","generationConfig","temperature"],u);const f=c(i,["topP"]);n!==void 0&&f!=null&&h(n,["setup","generationConfig","topP"],f);const d=c(i,["topK"]);n!==void 0&&d!=null&&h(n,["setup","generationConfig","topK"],d);const g=c(i,["maxOutputTokens"]);n!==void 0&&g!=null&&h(n,["setup","generationConfig","maxOutputTokens"],g);const m=c(i,["mediaResolution"]);n!==void 0&&m!=null&&h(n,["setup","generationConfig","mediaResolution"],m);const v=c(i,["seed"]);n!==void 0&&v!=null&&h(n,["setup","generationConfig","seed"],v);const _=c(i,["speechConfig"]);n!==void 0&&_!=null&&h(n,["setup","generationConfig","speechConfig"],ic(_));const S=c(i,["thinkingConfig"]);n!==void 0&&S!=null&&h(n,["setup","generationConfig","thinkingConfig"],S);const T=c(i,["enableAffectiveDialog"]);n!==void 0&&T!=null&&h(n,["setup","generationConfig","enableAffectiveDialog"],T);const b=c(i,["systemInstruction"]);n!==void 0&&b!=null&&h(n,["setup","systemInstruction"],wt(b));const C=c(i,["tools"]);if(n!==void 0&&C!=null){let q=Ro(C);Array.isArray(q)&&(q=q.map(ne=>vT(wo(ne)))),h(n,["setup","tools"],q)}const x=c(i,["sessionResumption"]);n!==void 0&&x!=null&&h(n,["setup","sessionResumption"],x);const w=c(i,["inputAudioTranscription"]);n!==void 0&&w!=null&&h(n,["setup","inputAudioTranscription"],w);const I=c(i,["outputAudioTranscription"]);n!==void 0&&I!=null&&h(n,["setup","outputAudioTranscription"],I);const D=c(i,["realtimeInputConfig"]);n!==void 0&&D!=null&&h(n,["setup","realtimeInputConfig"],D);const B=c(i,["contextWindowCompression"]);n!==void 0&&B!=null&&h(n,["setup","contextWindowCompression"],B);const U=c(i,["proactivity"]);n!==void 0&&U!=null&&h(n,["setup","proactivity"],U);const X=c(i,["explicitVadSignal"]);return n!==void 0&&X!=null&&h(n,["setup","explicitVadSignal"],X),o}function sT(i,n){const o={},r=c(n,["model"]);r!=null&&h(o,["setup","model"],Ve(i,r));const a=c(n,["config"]);return a!=null&&h(o,["config"],rT(a,o)),o}function uT(i,n){const o={},r=c(n,["model"]);r!=null&&h(o,["setup","model"],Ve(i,r));const a=c(n,["config"]);return a!=null&&h(o,["config"],aT(a,o)),o}function cT(i){const n={},o=c(i,["musicGenerationConfig"]);return o!=null&&h(n,["musicGenerationConfig"],o),n}function fT(i){const n={},o=c(i,["weightedPrompts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),h(n,["weightedPrompts"],r)}return n}function dT(i){const n={},o=c(i,["media"]);if(o!=null){let m=Wm(o);Array.isArray(m)&&(m=m.map(v=>Wr(v))),h(n,["mediaChunks"],m)}const r=c(i,["audio"]);r!=null&&h(n,["audio"],Wr(jm(r)));const a=c(i,["audioStreamEnd"]);a!=null&&h(n,["audioStreamEnd"],a);const u=c(i,["video"]);u!=null&&h(n,["video"],Wr($m(u)));const f=c(i,["text"]);f!=null&&h(n,["text"],f);const d=c(i,["activityStart"]);d!=null&&h(n,["activityStart"],d);const g=c(i,["activityEnd"]);return g!=null&&h(n,["activityEnd"],g),n}function hT(i){const n={},o=c(i,["media"]);if(o!=null){let m=Wm(o);Array.isArray(m)&&(m=m.map(v=>v)),h(n,["mediaChunks"],m)}const r=c(i,["audio"]);r!=null&&h(n,["audio"],jm(r));const a=c(i,["audioStreamEnd"]);a!=null&&h(n,["audioStreamEnd"],a);const u=c(i,["video"]);u!=null&&h(n,["video"],$m(u));const f=c(i,["text"]);f!=null&&h(n,["text"],f);const d=c(i,["activityStart"]);d!=null&&h(n,["activityStart"],d);const g=c(i,["activityEnd"]);return g!=null&&h(n,["activityEnd"],g),n}function pT(i){const n={},o=c(i,["setupComplete"]);o!=null&&h(n,["setupComplete"],o);const r=c(i,["serverContent"]);r!=null&&h(n,["serverContent"],r);const a=c(i,["toolCall"]);a!=null&&h(n,["toolCall"],a);const u=c(i,["toolCallCancellation"]);u!=null&&h(n,["toolCallCancellation"],u);const f=c(i,["usageMetadata"]);f!=null&&h(n,["usageMetadata"],_T(f));const d=c(i,["goAway"]);d!=null&&h(n,["goAway"],d);const g=c(i,["sessionResumptionUpdate"]);g!=null&&h(n,["sessionResumptionUpdate"],g);const m=c(i,["voiceActivityDetectionSignal"]);m!=null&&h(n,["voiceActivityDetectionSignal"],m);const v=c(i,["voiceActivity"]);return v!=null&&h(n,["voiceActivity"],ST(v)),n}function mT(i){const n={},o=c(i,["mediaResolution"]);o!=null&&h(n,["mediaResolution"],o);const r=c(i,["codeExecutionResult"]);r!=null&&h(n,["codeExecutionResult"],r);const a=c(i,["executableCode"]);a!=null&&h(n,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&h(n,["fileData"],eT(u));const f=c(i,["functionCall"]);f!=null&&h(n,["functionCall"],tT(f));const d=c(i,["functionResponse"]);d!=null&&h(n,["functionResponse"],d);const g=c(i,["inlineData"]);g!=null&&h(n,["inlineData"],Wr(g));const m=c(i,["text"]);m!=null&&h(n,["text"],m);const v=c(i,["thought"]);v!=null&&h(n,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&h(n,["thoughtSignature"],_);const S=c(i,["videoMetadata"]);return S!=null&&h(n,["videoMetadata"],S),n}function gT(i){const n={},o=c(i,["handle"]);if(o!=null&&h(n,["handle"],o),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function yT(i){const n={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&h(n,["computerUse"],o);const r=c(i,["fileSearch"]);r!=null&&h(n,["fileSearch"],r);const a=c(i,["codeExecution"]);if(a!=null&&h(n,["codeExecution"],a),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),h(n,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&h(n,["googleMaps"],oT(f));const d=c(i,["googleSearch"]);d!=null&&h(n,["googleSearch"],lT(d));const g=c(i,["googleSearchRetrieval"]);g!=null&&h(n,["googleSearchRetrieval"],g);const m=c(i,["urlContext"]);return m!=null&&h(n,["urlContext"],m),n}function vT(i){const n={},o=c(i,["retrieval"]);o!=null&&h(n,["retrieval"],o);const r=c(i,["computerUse"]);if(r!=null&&h(n,["computerUse"],r),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(i,["codeExecution"]);a!=null&&h(n,["codeExecution"],a);const u=c(i,["enterpriseWebSearch"]);u!=null&&h(n,["enterpriseWebSearch"],u);const f=c(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>nT(S))),h(n,["functionDeclarations"],_)}const d=c(i,["googleMaps"]);d!=null&&h(n,["googleMaps"],d);const g=c(i,["googleSearch"]);g!=null&&h(n,["googleSearch"],g);const m=c(i,["googleSearchRetrieval"]);m!=null&&h(n,["googleSearchRetrieval"],m);const v=c(i,["urlContext"]);return v!=null&&h(n,["urlContext"],v),n}function _T(i){const n={},o=c(i,["promptTokenCount"]);o!=null&&h(n,["promptTokenCount"],o);const r=c(i,["cachedContentTokenCount"]);r!=null&&h(n,["cachedContentTokenCount"],r);const a=c(i,["candidatesTokenCount"]);a!=null&&h(n,["responseTokenCount"],a);const u=c(i,["toolUsePromptTokenCount"]);u!=null&&h(n,["toolUsePromptTokenCount"],u);const f=c(i,["thoughtsTokenCount"]);f!=null&&h(n,["thoughtsTokenCount"],f);const d=c(i,["totalTokenCount"]);d!=null&&h(n,["totalTokenCount"],d);const g=c(i,["promptTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(b=>b)),h(n,["promptTokensDetails"],T)}const m=c(i,["cacheTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(b=>b)),h(n,["cacheTokensDetails"],T)}const v=c(i,["candidatesTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(b=>b)),h(n,["responseTokensDetails"],T)}const _=c(i,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(b=>b)),h(n,["toolUsePromptTokensDetails"],T)}const S=c(i,["trafficType"]);return S!=null&&h(n,["trafficType"],S),n}function ST(i){const n={},o=c(i,["type"]);return o!=null&&h(n,["voiceActivityType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TT(i,n){const o={},r=c(i,["data"]);if(r!=null&&h(o,["data"],r),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["mimeType"]);return a!=null&&h(o,["mimeType"],a),o}function ET(i,n){const o={},r=c(i,["content"]);r!=null&&h(o,["content"],r);const a=c(i,["citationMetadata"]);a!=null&&h(o,["citationMetadata"],CT(a));const u=c(i,["tokenCount"]);u!=null&&h(o,["tokenCount"],u);const f=c(i,["finishReason"]);f!=null&&h(o,["finishReason"],f);const d=c(i,["avgLogprobs"]);d!=null&&h(o,["avgLogprobs"],d);const g=c(i,["groundingMetadata"]);g!=null&&h(o,["groundingMetadata"],g);const m=c(i,["index"]);m!=null&&h(o,["index"],m);const v=c(i,["logprobsResult"]);v!=null&&h(o,["logprobsResult"],v);const _=c(i,["safetyRatings"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(b=>b)),h(o,["safetyRatings"],T)}const S=c(i,["urlContextMetadata"]);return S!=null&&h(o,["urlContextMetadata"],S),o}function CT(i,n){const o={},r=c(i,["citationSources"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),h(o,["citations"],a)}return o}function AT(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["contents"]);if(u!=null){let f=sn(u);Array.isArray(f)&&(f=f.map(d=>d)),h(r,["contents"],f)}return r}function bT(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),h(o,["tokensInfo"],u)}return o}function xT(i,n){const o={},r=c(i,["values"]);r!=null&&h(o,["values"],r);const a=c(i,["statistics"]);return a!=null&&h(o,["statistics"],wT(a)),o}function wT(i,n){const o={},r=c(i,["truncated"]);r!=null&&h(o,["truncated"],r);const a=c(i,["token_count"]);return a!=null&&h(o,["tokenCount"],a),o}function oa(i,n){const o={},r=c(i,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>zE(f))),h(o,["parts"],u)}const a=c(i,["role"]);return a!=null&&h(o,["role"],a),o}function RT(i,n){const o={},r=c(i,["controlType"]);r!=null&&h(o,["controlType"],r);const a=c(i,["enableControlImageComputation"]);return a!=null&&h(o,["computeControl"],a),o}function NT(i,n){const o={};if(c(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function MT(i,n,o){const r={},a=c(i,["systemInstruction"]);n!==void 0&&a!=null&&h(n,["systemInstruction"],wt(a));const u=c(i,["tools"]);if(n!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(g=>hg(g))),h(n,["tools"],d)}const f=c(i,["generationConfig"]);return n!==void 0&&f!=null&&h(n,["generationConfig"],TE(f)),r}function IT(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["contents"]);if(u!=null){let d=sn(u);Array.isArray(d)&&(d=d.map(g=>oa(g))),h(r,["contents"],d)}const f=c(n,["config"]);return f!=null&&NT(f),r}function DT(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["contents"]);if(u!=null){let d=sn(u);Array.isArray(d)&&(d=d.map(g=>g)),h(r,["contents"],d)}const f=c(n,["config"]);return f!=null&&MT(f,r),r}function UT(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["totalTokens"]);a!=null&&h(o,["totalTokens"],a);const u=c(i,["cachedContentTokenCount"]);return u!=null&&h(o,["cachedContentTokenCount"],u),o}function kT(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["totalTokens"]);return a!=null&&h(o,["totalTokens"],a),o}function LT(i,n,o){const r={},a=c(n,["model"]);return a!=null&&h(r,["_url","name"],Ve(i,a)),r}function zT(i,n,o){const r={},a=c(n,["model"]);return a!=null&&h(r,["_url","name"],Ve(i,a)),r}function GT(i,n){const o={},r=c(i,["sdkHttpResponse"]);return r!=null&&h(o,["sdkHttpResponse"],r),o}function BT(i,n){const o={},r=c(i,["sdkHttpResponse"]);return r!=null&&h(o,["sdkHttpResponse"],r),o}function OT(i,n,o){const r={},a=c(i,["outputGcsUri"]);n!==void 0&&a!=null&&h(n,["parameters","storageUri"],a);const u=c(i,["negativePrompt"]);n!==void 0&&u!=null&&h(n,["parameters","negativePrompt"],u);const f=c(i,["numberOfImages"]);n!==void 0&&f!=null&&h(n,["parameters","sampleCount"],f);const d=c(i,["aspectRatio"]);n!==void 0&&d!=null&&h(n,["parameters","aspectRatio"],d);const g=c(i,["guidanceScale"]);n!==void 0&&g!=null&&h(n,["parameters","guidanceScale"],g);const m=c(i,["seed"]);n!==void 0&&m!=null&&h(n,["parameters","seed"],m);const v=c(i,["safetyFilterLevel"]);n!==void 0&&v!=null&&h(n,["parameters","safetySetting"],v);const _=c(i,["personGeneration"]);n!==void 0&&_!=null&&h(n,["parameters","personGeneration"],_);const S=c(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&h(n,["parameters","includeSafetyAttributes"],S);const T=c(i,["includeRaiReason"]);n!==void 0&&T!=null&&h(n,["parameters","includeRaiReason"],T);const b=c(i,["language"]);n!==void 0&&b!=null&&h(n,["parameters","language"],b);const C=c(i,["outputMimeType"]);n!==void 0&&C!=null&&h(n,["parameters","outputOptions","mimeType"],C);const x=c(i,["outputCompressionQuality"]);n!==void 0&&x!=null&&h(n,["parameters","outputOptions","compressionQuality"],x);const w=c(i,["addWatermark"]);n!==void 0&&w!=null&&h(n,["parameters","addWatermark"],w);const I=c(i,["labels"]);n!==void 0&&I!=null&&h(n,["labels"],I);const D=c(i,["editMode"]);n!==void 0&&D!=null&&h(n,["parameters","editMode"],D);const B=c(i,["baseSteps"]);return n!==void 0&&B!=null&&h(n,["parameters","editConfig","baseSteps"],B),r}function HT(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["prompt"]);u!=null&&h(r,["instances[0]","prompt"],u);const f=c(n,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>qE(m))),h(r,["instances[0]","referenceImages"],g)}const d=c(n,["config"]);return d!=null&&OT(d,r),r}function PT(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>la(f))),h(o,["generatedImages"],u)}return o}function qT(i,n,o){const r={},a=c(i,["taskType"]);n!==void 0&&a!=null&&h(n,["requests[]","taskType"],a);const u=c(i,["title"]);n!==void 0&&u!=null&&h(n,["requests[]","title"],u);const f=c(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&h(n,["requests[]","outputDimensionality"],f),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function VT(i,n,o){const r={},a=c(i,["taskType"]);n!==void 0&&a!=null&&h(n,["instances[]","task_type"],a);const u=c(i,["title"]);n!==void 0&&u!=null&&h(n,["instances[]","title"],u);const f=c(i,["outputDimensionality"]);n!==void 0&&f!=null&&h(n,["parameters","outputDimensionality"],f);const d=c(i,["mimeType"]);n!==void 0&&d!=null&&h(n,["instances[]","mimeType"],d);const g=c(i,["autoTruncate"]);return n!==void 0&&g!=null&&h(n,["parameters","autoTruncate"],g),r}function FT(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["contents"]);if(u!=null){let g=ec(i,u);Array.isArray(g)&&(g=g.map(m=>m)),h(r,["requests[]","content"],g)}const f=c(n,["config"]);f!=null&&qT(f,r);const d=c(n,["model"]);return d!==void 0&&h(r,["requests[]","model"],Ve(i,d)),r}function YT(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["contents"]);if(u!=null){let d=ec(i,u);Array.isArray(d)&&(d=d.map(g=>g)),h(r,["instances[]","content"],d)}const f=c(n,["config"]);return f!=null&&VT(f,r),r}function JT(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>d)),h(o,["embeddings"],f)}const u=c(i,["metadata"]);return u!=null&&h(o,["metadata"],u),o}function KT(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>xT(d))),h(o,["embeddings"],f)}const u=c(i,["metadata"]);return u!=null&&h(o,["metadata"],u),o}function XT(i,n){const o={},r=c(i,["endpoint"]);r!=null&&h(o,["name"],r);const a=c(i,["deployedModelId"]);return a!=null&&h(o,["deployedModelId"],a),o}function ZT(i,n){const o={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["fileUri"]);r!=null&&h(o,["fileUri"],r);const a=c(i,["mimeType"]);return a!=null&&h(o,["mimeType"],a),o}function QT(i,n){const o={},r=c(i,["id"]);r!=null&&h(o,["id"],r);const a=c(i,["args"]);a!=null&&h(o,["args"],a);const u=c(i,["name"]);if(u!=null&&h(o,["name"],u),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function WT(i,n){const o={},r=c(i,["allowedFunctionNames"]);r!=null&&h(o,["allowedFunctionNames"],r);const a=c(i,["mode"]);if(a!=null&&h(o,["mode"],a),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function $T(i,n){const o={},r=c(i,["description"]);r!=null&&h(o,["description"],r);const a=c(i,["name"]);a!=null&&h(o,["name"],a);const u=c(i,["parameters"]);u!=null&&h(o,["parameters"],u);const f=c(i,["parametersJsonSchema"]);f!=null&&h(o,["parametersJsonSchema"],f);const d=c(i,["response"]);d!=null&&h(o,["response"],d);const g=c(i,["responseJsonSchema"]);if(g!=null&&h(o,["responseJsonSchema"],g),c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function jT(i,n,o,r){const a={},u=c(n,["systemInstruction"]);o!==void 0&&u!=null&&h(o,["systemInstruction"],oa(wt(u)));const f=c(n,["temperature"]);f!=null&&h(a,["temperature"],f);const d=c(n,["topP"]);d!=null&&h(a,["topP"],d);const g=c(n,["topK"]);g!=null&&h(a,["topK"],g);const m=c(n,["candidateCount"]);m!=null&&h(a,["candidateCount"],m);const v=c(n,["maxOutputTokens"]);v!=null&&h(a,["maxOutputTokens"],v);const _=c(n,["stopSequences"]);_!=null&&h(a,["stopSequences"],_);const S=c(n,["responseLogprobs"]);S!=null&&h(a,["responseLogprobs"],S);const T=c(n,["logprobs"]);T!=null&&h(a,["logprobs"],T);const b=c(n,["presencePenalty"]);b!=null&&h(a,["presencePenalty"],b);const C=c(n,["frequencyPenalty"]);C!=null&&h(a,["frequencyPenalty"],C);const x=c(n,["seed"]);x!=null&&h(a,["seed"],x);const w=c(n,["responseMimeType"]);w!=null&&h(a,["responseMimeType"],w);const I=c(n,["responseSchema"]);I!=null&&h(a,["responseSchema"],tc(I));const D=c(n,["responseJsonSchema"]);if(D!=null&&h(a,["responseJsonSchema"],D),c(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=c(n,["safetySettings"]);if(o!==void 0&&B!=null){let R=B;Array.isArray(R)&&(R=R.map(oe=>VE(oe))),h(o,["safetySettings"],R)}const U=c(n,["tools"]);if(o!==void 0&&U!=null){let R=Ro(U);Array.isArray(R)&&(R=R.map(oe=>QE(wo(oe)))),h(o,["tools"],R)}const X=c(n,["toolConfig"]);if(o!==void 0&&X!=null&&h(o,["toolConfig"],ZE(X)),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=c(n,["cachedContent"]);o!==void 0&&q!=null&&h(o,["cachedContent"],Pn(i,q));const ne=c(n,["responseModalities"]);ne!=null&&h(a,["responseModalities"],ne);const V=c(n,["mediaResolution"]);V!=null&&h(a,["mediaResolution"],V);const re=c(n,["speechConfig"]);if(re!=null&&h(a,["speechConfig"],nc(re)),c(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ve=c(n,["thinkingConfig"]);ve!=null&&h(a,["thinkingConfig"],ve);const O=c(n,["imageConfig"]);O!=null&&h(a,["imageConfig"],xE(O));const j=c(n,["enableEnhancedCivicAnswers"]);if(j!=null&&h(a,["enableEnhancedCivicAnswers"],j),c(n,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function eE(i,n,o,r){const a={},u=c(n,["systemInstruction"]);o!==void 0&&u!=null&&h(o,["systemInstruction"],wt(u));const f=c(n,["temperature"]);f!=null&&h(a,["temperature"],f);const d=c(n,["topP"]);d!=null&&h(a,["topP"],d);const g=c(n,["topK"]);g!=null&&h(a,["topK"],g);const m=c(n,["candidateCount"]);m!=null&&h(a,["candidateCount"],m);const v=c(n,["maxOutputTokens"]);v!=null&&h(a,["maxOutputTokens"],v);const _=c(n,["stopSequences"]);_!=null&&h(a,["stopSequences"],_);const S=c(n,["responseLogprobs"]);S!=null&&h(a,["responseLogprobs"],S);const T=c(n,["logprobs"]);T!=null&&h(a,["logprobs"],T);const b=c(n,["presencePenalty"]);b!=null&&h(a,["presencePenalty"],b);const C=c(n,["frequencyPenalty"]);C!=null&&h(a,["frequencyPenalty"],C);const x=c(n,["seed"]);x!=null&&h(a,["seed"],x);const w=c(n,["responseMimeType"]);w!=null&&h(a,["responseMimeType"],w);const I=c(n,["responseSchema"]);I!=null&&h(a,["responseSchema"],tc(I));const D=c(n,["responseJsonSchema"]);D!=null&&h(a,["responseJsonSchema"],D);const B=c(n,["routingConfig"]);B!=null&&h(a,["routingConfig"],B);const U=c(n,["modelSelectionConfig"]);U!=null&&h(a,["modelConfig"],U);const X=c(n,["safetySettings"]);if(o!==void 0&&X!=null){let me=X;Array.isArray(me)&&(me=me.map(se=>se)),h(o,["safetySettings"],me)}const q=c(n,["tools"]);if(o!==void 0&&q!=null){let me=Ro(q);Array.isArray(me)&&(me=me.map(se=>hg(wo(se)))),h(o,["tools"],me)}const ne=c(n,["toolConfig"]);o!==void 0&&ne!=null&&h(o,["toolConfig"],ne);const V=c(n,["labels"]);o!==void 0&&V!=null&&h(o,["labels"],V);const re=c(n,["cachedContent"]);o!==void 0&&re!=null&&h(o,["cachedContent"],Pn(i,re));const ve=c(n,["responseModalities"]);ve!=null&&h(a,["responseModalities"],ve);const O=c(n,["mediaResolution"]);O!=null&&h(a,["mediaResolution"],O);const j=c(n,["speechConfig"]);j!=null&&h(a,["speechConfig"],nc(j));const R=c(n,["audioTimestamp"]);R!=null&&h(a,["audioTimestamp"],R);const oe=c(n,["thinkingConfig"]);oe!=null&&h(a,["thinkingConfig"],oe);const K=c(n,["imageConfig"]);if(K!=null&&h(a,["imageConfig"],wE(K)),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const J=c(n,["modelArmorConfig"]);return o!==void 0&&J!=null&&h(o,["modelArmorConfig"],J),a}function Im(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["contents"]);if(u!=null){let d=sn(u);Array.isArray(d)&&(d=d.map(g=>oa(g))),h(r,["contents"],d)}const f=c(n,["config"]);return f!=null&&h(r,["generationConfig"],jT(i,f,r)),r}function Dm(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["contents"]);if(u!=null){let d=sn(u);Array.isArray(d)&&(d=d.map(g=>g)),h(r,["contents"],d)}const f=c(n,["config"]);return f!=null&&h(r,["generationConfig"],eE(i,f,r)),r}function Um(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>ET(v))),h(o,["candidates"],m)}const u=c(i,["modelVersion"]);u!=null&&h(o,["modelVersion"],u);const f=c(i,["promptFeedback"]);f!=null&&h(o,["promptFeedback"],f);const d=c(i,["responseId"]);d!=null&&h(o,["responseId"],d);const g=c(i,["usageMetadata"]);return g!=null&&h(o,["usageMetadata"],g),o}function km(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(_=>_)),h(o,["candidates"],v)}const u=c(i,["createTime"]);u!=null&&h(o,["createTime"],u);const f=c(i,["modelVersion"]);f!=null&&h(o,["modelVersion"],f);const d=c(i,["promptFeedback"]);d!=null&&h(o,["promptFeedback"],d);const g=c(i,["responseId"]);g!=null&&h(o,["responseId"],g);const m=c(i,["usageMetadata"]);return m!=null&&h(o,["usageMetadata"],m),o}function tE(i,n,o){const r={};if(c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=c(i,["numberOfImages"]);n!==void 0&&a!=null&&h(n,["parameters","sampleCount"],a);const u=c(i,["aspectRatio"]);n!==void 0&&u!=null&&h(n,["parameters","aspectRatio"],u);const f=c(i,["guidanceScale"]);if(n!==void 0&&f!=null&&h(n,["parameters","guidanceScale"],f),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(i,["safetyFilterLevel"]);n!==void 0&&d!=null&&h(n,["parameters","safetySetting"],d);const g=c(i,["personGeneration"]);n!==void 0&&g!=null&&h(n,["parameters","personGeneration"],g);const m=c(i,["includeSafetyAttributes"]);n!==void 0&&m!=null&&h(n,["parameters","includeSafetyAttributes"],m);const v=c(i,["includeRaiReason"]);n!==void 0&&v!=null&&h(n,["parameters","includeRaiReason"],v);const _=c(i,["language"]);n!==void 0&&_!=null&&h(n,["parameters","language"],_);const S=c(i,["outputMimeType"]);n!==void 0&&S!=null&&h(n,["parameters","outputOptions","mimeType"],S);const T=c(i,["outputCompressionQuality"]);if(n!==void 0&&T!=null&&h(n,["parameters","outputOptions","compressionQuality"],T),c(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(i,["imageSize"]);if(n!==void 0&&b!=null&&h(n,["parameters","sampleImageSize"],b),c(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function nE(i,n,o){const r={},a=c(i,["outputGcsUri"]);n!==void 0&&a!=null&&h(n,["parameters","storageUri"],a);const u=c(i,["negativePrompt"]);n!==void 0&&u!=null&&h(n,["parameters","negativePrompt"],u);const f=c(i,["numberOfImages"]);n!==void 0&&f!=null&&h(n,["parameters","sampleCount"],f);const d=c(i,["aspectRatio"]);n!==void 0&&d!=null&&h(n,["parameters","aspectRatio"],d);const g=c(i,["guidanceScale"]);n!==void 0&&g!=null&&h(n,["parameters","guidanceScale"],g);const m=c(i,["seed"]);n!==void 0&&m!=null&&h(n,["parameters","seed"],m);const v=c(i,["safetyFilterLevel"]);n!==void 0&&v!=null&&h(n,["parameters","safetySetting"],v);const _=c(i,["personGeneration"]);n!==void 0&&_!=null&&h(n,["parameters","personGeneration"],_);const S=c(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&h(n,["parameters","includeSafetyAttributes"],S);const T=c(i,["includeRaiReason"]);n!==void 0&&T!=null&&h(n,["parameters","includeRaiReason"],T);const b=c(i,["language"]);n!==void 0&&b!=null&&h(n,["parameters","language"],b);const C=c(i,["outputMimeType"]);n!==void 0&&C!=null&&h(n,["parameters","outputOptions","mimeType"],C);const x=c(i,["outputCompressionQuality"]);n!==void 0&&x!=null&&h(n,["parameters","outputOptions","compressionQuality"],x);const w=c(i,["addWatermark"]);n!==void 0&&w!=null&&h(n,["parameters","addWatermark"],w);const I=c(i,["labels"]);n!==void 0&&I!=null&&h(n,["labels"],I);const D=c(i,["imageSize"]);n!==void 0&&D!=null&&h(n,["parameters","sampleImageSize"],D);const B=c(i,["enhancePrompt"]);return n!==void 0&&B!=null&&h(n,["parameters","enhancePrompt"],B),r}function iE(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["prompt"]);u!=null&&h(r,["instances[0]","prompt"],u);const f=c(n,["config"]);return f!=null&&tE(f,r),r}function oE(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["prompt"]);u!=null&&h(r,["instances[0]","prompt"],u);const f=c(n,["config"]);return f!=null&&nE(f,r),r}function lE(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>yE(d))),h(o,["generatedImages"],f)}const u=c(i,["positivePromptSafetyAttributes"]);return u!=null&&h(o,["positivePromptSafetyAttributes"],fg(u)),o}function rE(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>la(d))),h(o,["generatedImages"],f)}const u=c(i,["positivePromptSafetyAttributes"]);return u!=null&&h(o,["positivePromptSafetyAttributes"],dg(u)),o}function aE(i,n,o){const r={},a=c(i,["numberOfVideos"]);if(n!==void 0&&a!=null&&h(n,["parameters","sampleCount"],a),c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(i,["durationSeconds"]);if(n!==void 0&&u!=null&&h(n,["parameters","durationSeconds"],u),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(i,["aspectRatio"]);n!==void 0&&f!=null&&h(n,["parameters","aspectRatio"],f);const d=c(i,["resolution"]);n!==void 0&&d!=null&&h(n,["parameters","resolution"],d);const g=c(i,["personGeneration"]);if(n!==void 0&&g!=null&&h(n,["parameters","personGeneration"],g),c(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=c(i,["negativePrompt"]);n!==void 0&&m!=null&&h(n,["parameters","negativePrompt"],m);const v=c(i,["enhancePrompt"]);if(n!==void 0&&v!=null&&h(n,["parameters","enhancePrompt"],v),c(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=c(i,["lastFrame"]);n!==void 0&&_!=null&&h(n,["instances[0]","lastFrame"],ra(_));const S=c(i,["referenceImages"]);if(n!==void 0&&S!=null){let T=S;Array.isArray(T)&&(T=T.map(b=>uC(b))),h(n,["instances[0]","referenceImages"],T)}if(c(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function sE(i,n,o){const r={},a=c(i,["numberOfVideos"]);n!==void 0&&a!=null&&h(n,["parameters","sampleCount"],a);const u=c(i,["outputGcsUri"]);n!==void 0&&u!=null&&h(n,["parameters","storageUri"],u);const f=c(i,["fps"]);n!==void 0&&f!=null&&h(n,["parameters","fps"],f);const d=c(i,["durationSeconds"]);n!==void 0&&d!=null&&h(n,["parameters","durationSeconds"],d);const g=c(i,["seed"]);n!==void 0&&g!=null&&h(n,["parameters","seed"],g);const m=c(i,["aspectRatio"]);n!==void 0&&m!=null&&h(n,["parameters","aspectRatio"],m);const v=c(i,["resolution"]);n!==void 0&&v!=null&&h(n,["parameters","resolution"],v);const _=c(i,["personGeneration"]);n!==void 0&&_!=null&&h(n,["parameters","personGeneration"],_);const S=c(i,["pubsubTopic"]);n!==void 0&&S!=null&&h(n,["parameters","pubsubTopic"],S);const T=c(i,["negativePrompt"]);n!==void 0&&T!=null&&h(n,["parameters","negativePrompt"],T);const b=c(i,["enhancePrompt"]);n!==void 0&&b!=null&&h(n,["parameters","enhancePrompt"],b);const C=c(i,["generateAudio"]);n!==void 0&&C!=null&&h(n,["parameters","generateAudio"],C);const x=c(i,["lastFrame"]);n!==void 0&&x!=null&&h(n,["instances[0]","lastFrame"],mn(x));const w=c(i,["referenceImages"]);if(n!==void 0&&w!=null){let B=w;Array.isArray(B)&&(B=B.map(U=>cC(U))),h(n,["instances[0]","referenceImages"],B)}const I=c(i,["mask"]);n!==void 0&&I!=null&&h(n,["instances[0]","mask"],sC(I));const D=c(i,["compressionQuality"]);return n!==void 0&&D!=null&&h(n,["parameters","compressionQuality"],D),r}function uE(i,n){const o={},r=c(i,["name"]);r!=null&&h(o,["name"],r);const a=c(i,["metadata"]);a!=null&&h(o,["metadata"],a);const u=c(i,["done"]);u!=null&&h(o,["done"],u);const f=c(i,["error"]);f!=null&&h(o,["error"],f);const d=c(i,["response","generateVideoResponse"]);return d!=null&&h(o,["response"],hE(d)),o}function cE(i,n){const o={},r=c(i,["name"]);r!=null&&h(o,["name"],r);const a=c(i,["metadata"]);a!=null&&h(o,["metadata"],a);const u=c(i,["done"]);u!=null&&h(o,["done"],u);const f=c(i,["error"]);f!=null&&h(o,["error"],f);const d=c(i,["response"]);return d!=null&&h(o,["response"],pE(d)),o}function fE(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["prompt"]);u!=null&&h(r,["instances[0]","prompt"],u);const f=c(n,["image"]);f!=null&&h(r,["instances[0]","image"],ra(f));const d=c(n,["video"]);d!=null&&h(r,["instances[0]","video"],pg(d));const g=c(n,["source"]);g!=null&&mE(g,r);const m=c(n,["config"]);return m!=null&&aE(m,r),r}function dE(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["prompt"]);u!=null&&h(r,["instances[0]","prompt"],u);const f=c(n,["image"]);f!=null&&h(r,["instances[0]","image"],mn(f));const d=c(n,["video"]);d!=null&&h(r,["instances[0]","video"],mg(d));const g=c(n,["source"]);g!=null&&gE(g,r);const m=c(n,["config"]);return m!=null&&sE(m,r),r}function hE(i,n){const o={},r=c(i,["generatedSamples"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>_E(d))),h(o,["generatedVideos"],f)}const a=c(i,["raiMediaFilteredCount"]);a!=null&&h(o,["raiMediaFilteredCount"],a);const u=c(i,["raiMediaFilteredReasons"]);return u!=null&&h(o,["raiMediaFilteredReasons"],u),o}function pE(i,n){const o={},r=c(i,["videos"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>SE(d))),h(o,["generatedVideos"],f)}const a=c(i,["raiMediaFilteredCount"]);a!=null&&h(o,["raiMediaFilteredCount"],a);const u=c(i,["raiMediaFilteredReasons"]);return u!=null&&h(o,["raiMediaFilteredReasons"],u),o}function mE(i,n,o){const r={},a=c(i,["prompt"]);n!==void 0&&a!=null&&h(n,["instances[0]","prompt"],a);const u=c(i,["image"]);n!==void 0&&u!=null&&h(n,["instances[0]","image"],ra(u));const f=c(i,["video"]);return n!==void 0&&f!=null&&h(n,["instances[0]","video"],pg(f)),r}function gE(i,n,o){const r={},a=c(i,["prompt"]);n!==void 0&&a!=null&&h(n,["instances[0]","prompt"],a);const u=c(i,["image"]);n!==void 0&&u!=null&&h(n,["instances[0]","image"],mn(u));const f=c(i,["video"]);return n!==void 0&&f!=null&&h(n,["instances[0]","video"],mg(f)),r}function yE(i,n){const o={},r=c(i,["_self"]);r!=null&&h(o,["image"],RE(r));const a=c(i,["raiFilteredReason"]);a!=null&&h(o,["raiFilteredReason"],a);const u=c(i,["_self"]);return u!=null&&h(o,["safetyAttributes"],fg(u)),o}function la(i,n){const o={},r=c(i,["_self"]);r!=null&&h(o,["image"],cg(r));const a=c(i,["raiFilteredReason"]);a!=null&&h(o,["raiFilteredReason"],a);const u=c(i,["_self"]);u!=null&&h(o,["safetyAttributes"],dg(u));const f=c(i,["prompt"]);return f!=null&&h(o,["enhancedPrompt"],f),o}function vE(i,n){const o={},r=c(i,["_self"]);r!=null&&h(o,["mask"],cg(r));const a=c(i,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),h(o,["labels"],u)}return o}function _E(i,n){const o={},r=c(i,["video"]);return r!=null&&h(o,["video"],rC(r)),o}function SE(i,n){const o={},r=c(i,["_self"]);return r!=null&&h(o,["video"],aC(r)),o}function TE(i,n){const o={},r=c(i,["modelSelectionConfig"]);r!=null&&h(o,["modelConfig"],r);const a=c(i,["responseJsonSchema"]);a!=null&&h(o,["responseJsonSchema"],a);const u=c(i,["audioTimestamp"]);u!=null&&h(o,["audioTimestamp"],u);const f=c(i,["candidateCount"]);f!=null&&h(o,["candidateCount"],f);const d=c(i,["enableAffectiveDialog"]);d!=null&&h(o,["enableAffectiveDialog"],d);const g=c(i,["frequencyPenalty"]);g!=null&&h(o,["frequencyPenalty"],g);const m=c(i,["logprobs"]);m!=null&&h(o,["logprobs"],m);const v=c(i,["maxOutputTokens"]);v!=null&&h(o,["maxOutputTokens"],v);const _=c(i,["mediaResolution"]);_!=null&&h(o,["mediaResolution"],_);const S=c(i,["presencePenalty"]);S!=null&&h(o,["presencePenalty"],S);const T=c(i,["responseLogprobs"]);T!=null&&h(o,["responseLogprobs"],T);const b=c(i,["responseMimeType"]);b!=null&&h(o,["responseMimeType"],b);const C=c(i,["responseModalities"]);C!=null&&h(o,["responseModalities"],C);const x=c(i,["responseSchema"]);x!=null&&h(o,["responseSchema"],x);const w=c(i,["routingConfig"]);w!=null&&h(o,["routingConfig"],w);const I=c(i,["seed"]);I!=null&&h(o,["seed"],I);const D=c(i,["speechConfig"]);D!=null&&h(o,["speechConfig"],D);const B=c(i,["stopSequences"]);B!=null&&h(o,["stopSequences"],B);const U=c(i,["temperature"]);U!=null&&h(o,["temperature"],U);const X=c(i,["thinkingConfig"]);X!=null&&h(o,["thinkingConfig"],X);const q=c(i,["topK"]);q!=null&&h(o,["topK"],q);const ne=c(i,["topP"]);if(ne!=null&&h(o,["topP"],ne),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function EE(i,n,o){const r={},a=c(n,["model"]);return a!=null&&h(r,["_url","name"],Ve(i,a)),r}function CE(i,n,o){const r={},a=c(n,["model"]);return a!=null&&h(r,["_url","name"],Ve(i,a)),r}function AE(i,n){const o={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=c(i,["enableWidget"]);return r!=null&&h(o,["enableWidget"],r),o}function bE(i,n){const o={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=c(i,["timeRangeFilter"]);return r!=null&&h(o,["timeRangeFilter"],r),o}function xE(i,n){const o={},r=c(i,["aspectRatio"]);r!=null&&h(o,["aspectRatio"],r);const a=c(i,["imageSize"]);if(a!=null&&h(o,["imageSize"],a),c(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function wE(i,n){const o={},r=c(i,["aspectRatio"]);r!=null&&h(o,["aspectRatio"],r);const a=c(i,["imageSize"]);a!=null&&h(o,["imageSize"],a);const u=c(i,["personGeneration"]);u!=null&&h(o,["personGeneration"],u);const f=c(i,["outputMimeType"]);f!=null&&h(o,["imageOutputOptions","mimeType"],f);const d=c(i,["outputCompressionQuality"]);return d!=null&&h(o,["imageOutputOptions","compressionQuality"],d),o}function RE(i,n){const o={},r=c(i,["bytesBase64Encoded"]);r!=null&&h(o,["imageBytes"],pi(r));const a=c(i,["mimeType"]);return a!=null&&h(o,["mimeType"],a),o}function cg(i,n){const o={},r=c(i,["gcsUri"]);r!=null&&h(o,["gcsUri"],r);const a=c(i,["bytesBase64Encoded"]);a!=null&&h(o,["imageBytes"],pi(a));const u=c(i,["mimeType"]);return u!=null&&h(o,["mimeType"],u),o}function ra(i,n){const o={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=c(i,["imageBytes"]);r!=null&&h(o,["bytesBase64Encoded"],pi(r));const a=c(i,["mimeType"]);return a!=null&&h(o,["mimeType"],a),o}function mn(i,n){const o={},r=c(i,["gcsUri"]);r!=null&&h(o,["gcsUri"],r);const a=c(i,["imageBytes"]);a!=null&&h(o,["bytesBase64Encoded"],pi(a));const u=c(i,["mimeType"]);return u!=null&&h(o,["mimeType"],u),o}function NE(i,n,o,r){const a={},u=c(n,["pageSize"]);o!==void 0&&u!=null&&h(o,["_query","pageSize"],u);const f=c(n,["pageToken"]);o!==void 0&&f!=null&&h(o,["_query","pageToken"],f);const d=c(n,["filter"]);o!==void 0&&d!=null&&h(o,["_query","filter"],d);const g=c(n,["queryBase"]);return o!==void 0&&g!=null&&h(o,["_url","models_url"],ig(i,g)),a}function ME(i,n,o,r){const a={},u=c(n,["pageSize"]);o!==void 0&&u!=null&&h(o,["_query","pageSize"],u);const f=c(n,["pageToken"]);o!==void 0&&f!=null&&h(o,["_query","pageToken"],f);const d=c(n,["filter"]);o!==void 0&&d!=null&&h(o,["_query","filter"],d);const g=c(n,["queryBase"]);return o!==void 0&&g!=null&&h(o,["_url","models_url"],ig(i,g)),a}function IE(i,n,o){const r={},a=c(n,["config"]);return a!=null&&NE(i,a,r),r}function DE(i,n,o){const r={},a=c(n,["config"]);return a!=null&&ME(i,a,r),r}function UE(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&h(o,["nextPageToken"],a);const u=c(i,["_self"]);if(u!=null){let f=og(u);Array.isArray(f)&&(f=f.map(d=>Hu(d))),h(o,["models"],f)}return o}function kE(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&h(o,["nextPageToken"],a);const u=c(i,["_self"]);if(u!=null){let f=og(u);Array.isArray(f)&&(f=f.map(d=>Pu(d))),h(o,["models"],f)}return o}function LE(i,n){const o={},r=c(i,["maskMode"]);r!=null&&h(o,["maskMode"],r);const a=c(i,["segmentationClasses"]);a!=null&&h(o,["maskClasses"],a);const u=c(i,["maskDilation"]);return u!=null&&h(o,["dilation"],u),o}function Hu(i,n){const o={},r=c(i,["name"]);r!=null&&h(o,["name"],r);const a=c(i,["displayName"]);a!=null&&h(o,["displayName"],a);const u=c(i,["description"]);u!=null&&h(o,["description"],u);const f=c(i,["version"]);f!=null&&h(o,["version"],f);const d=c(i,["_self"]);d!=null&&h(o,["tunedModelInfo"],WE(d));const g=c(i,["inputTokenLimit"]);g!=null&&h(o,["inputTokenLimit"],g);const m=c(i,["outputTokenLimit"]);m!=null&&h(o,["outputTokenLimit"],m);const v=c(i,["supportedGenerationMethods"]);v!=null&&h(o,["supportedActions"],v);const _=c(i,["temperature"]);_!=null&&h(o,["temperature"],_);const S=c(i,["maxTemperature"]);S!=null&&h(o,["maxTemperature"],S);const T=c(i,["topP"]);T!=null&&h(o,["topP"],T);const b=c(i,["topK"]);b!=null&&h(o,["topK"],b);const C=c(i,["thinking"]);return C!=null&&h(o,["thinking"],C),o}function Pu(i,n){const o={},r=c(i,["name"]);r!=null&&h(o,["name"],r);const a=c(i,["displayName"]);a!=null&&h(o,["displayName"],a);const u=c(i,["description"]);u!=null&&h(o,["description"],u);const f=c(i,["versionId"]);f!=null&&h(o,["version"],f);const d=c(i,["deployedModels"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(T=>XT(T))),h(o,["endpoints"],S)}const g=c(i,["labels"]);g!=null&&h(o,["labels"],g);const m=c(i,["_self"]);m!=null&&h(o,["tunedModelInfo"],$E(m));const v=c(i,["defaultCheckpointId"]);v!=null&&h(o,["defaultCheckpointId"],v);const _=c(i,["checkpoints"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>T)),h(o,["checkpoints"],S)}return o}function zE(i,n){const o={},r=c(i,["mediaResolution"]);r!=null&&h(o,["mediaResolution"],r);const a=c(i,["codeExecutionResult"]);a!=null&&h(o,["codeExecutionResult"],a);const u=c(i,["executableCode"]);u!=null&&h(o,["executableCode"],u);const f=c(i,["fileData"]);f!=null&&h(o,["fileData"],ZT(f));const d=c(i,["functionCall"]);d!=null&&h(o,["functionCall"],QT(d));const g=c(i,["functionResponse"]);g!=null&&h(o,["functionResponse"],g);const m=c(i,["inlineData"]);m!=null&&h(o,["inlineData"],TT(m));const v=c(i,["text"]);v!=null&&h(o,["text"],v);const _=c(i,["thought"]);_!=null&&h(o,["thought"],_);const S=c(i,["thoughtSignature"]);S!=null&&h(o,["thoughtSignature"],S);const T=c(i,["videoMetadata"]);return T!=null&&h(o,["videoMetadata"],T),o}function GE(i,n){const o={},r=c(i,["productImage"]);return r!=null&&h(o,["image"],mn(r)),o}function BE(i,n,o){const r={},a=c(i,["numberOfImages"]);n!==void 0&&a!=null&&h(n,["parameters","sampleCount"],a);const u=c(i,["baseSteps"]);n!==void 0&&u!=null&&h(n,["parameters","baseSteps"],u);const f=c(i,["outputGcsUri"]);n!==void 0&&f!=null&&h(n,["parameters","storageUri"],f);const d=c(i,["seed"]);n!==void 0&&d!=null&&h(n,["parameters","seed"],d);const g=c(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&h(n,["parameters","safetySetting"],g);const m=c(i,["personGeneration"]);n!==void 0&&m!=null&&h(n,["parameters","personGeneration"],m);const v=c(i,["addWatermark"]);n!==void 0&&v!=null&&h(n,["parameters","addWatermark"],v);const _=c(i,["outputMimeType"]);n!==void 0&&_!=null&&h(n,["parameters","outputOptions","mimeType"],_);const S=c(i,["outputCompressionQuality"]);n!==void 0&&S!=null&&h(n,["parameters","outputOptions","compressionQuality"],S);const T=c(i,["enhancePrompt"]);n!==void 0&&T!=null&&h(n,["parameters","enhancePrompt"],T);const b=c(i,["labels"]);return n!==void 0&&b!=null&&h(n,["labels"],b),r}function OE(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["source"]);u!=null&&PE(u,r);const f=c(n,["config"]);return f!=null&&BE(f,r),r}function HE(i,n){const o={},r=c(i,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>la(u))),h(o,["generatedImages"],a)}return o}function PE(i,n,o){const r={},a=c(i,["prompt"]);n!==void 0&&a!=null&&h(n,["instances[0]","prompt"],a);const u=c(i,["personImage"]);n!==void 0&&u!=null&&h(n,["instances[0]","personImage","image"],mn(u));const f=c(i,["productImages"]);if(n!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(g=>GE(g))),h(n,["instances[0]","productImages"],d)}return r}function qE(i,n){const o={},r=c(i,["referenceImage"]);r!=null&&h(o,["referenceImage"],mn(r));const a=c(i,["referenceId"]);a!=null&&h(o,["referenceId"],a);const u=c(i,["referenceType"]);u!=null&&h(o,["referenceType"],u);const f=c(i,["maskImageConfig"]);f!=null&&h(o,["maskImageConfig"],LE(f));const d=c(i,["controlImageConfig"]);d!=null&&h(o,["controlImageConfig"],RT(d));const g=c(i,["styleImageConfig"]);g!=null&&h(o,["styleImageConfig"],g);const m=c(i,["subjectImageConfig"]);return m!=null&&h(o,["subjectImageConfig"],m),o}function fg(i,n){const o={},r=c(i,["safetyAttributes","categories"]);r!=null&&h(o,["categories"],r);const a=c(i,["safetyAttributes","scores"]);a!=null&&h(o,["scores"],a);const u=c(i,["contentType"]);return u!=null&&h(o,["contentType"],u),o}function dg(i,n){const o={},r=c(i,["safetyAttributes","categories"]);r!=null&&h(o,["categories"],r);const a=c(i,["safetyAttributes","scores"]);a!=null&&h(o,["scores"],a);const u=c(i,["contentType"]);return u!=null&&h(o,["contentType"],u),o}function VE(i,n){const o={},r=c(i,["category"]);if(r!=null&&h(o,["category"],r),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=c(i,["threshold"]);return a!=null&&h(o,["threshold"],a),o}function FE(i,n){const o={},r=c(i,["image"]);return r!=null&&h(o,["image"],mn(r)),o}function YE(i,n,o){const r={},a=c(i,["mode"]);n!==void 0&&a!=null&&h(n,["parameters","mode"],a);const u=c(i,["maxPredictions"]);n!==void 0&&u!=null&&h(n,["parameters","maxPredictions"],u);const f=c(i,["confidenceThreshold"]);n!==void 0&&f!=null&&h(n,["parameters","confidenceThreshold"],f);const d=c(i,["maskDilation"]);n!==void 0&&d!=null&&h(n,["parameters","maskDilation"],d);const g=c(i,["binaryColorThreshold"]);n!==void 0&&g!=null&&h(n,["parameters","binaryColorThreshold"],g);const m=c(i,["labels"]);return n!==void 0&&m!=null&&h(n,["labels"],m),r}function JE(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["source"]);u!=null&&XE(u,r);const f=c(n,["config"]);return f!=null&&YE(f,r),r}function KE(i,n){const o={},r=c(i,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>vE(u))),h(o,["generatedMasks"],a)}return o}function XE(i,n,o){const r={},a=c(i,["prompt"]);n!==void 0&&a!=null&&h(n,["instances[0]","prompt"],a);const u=c(i,["image"]);n!==void 0&&u!=null&&h(n,["instances[0]","image"],mn(u));const f=c(i,["scribbleImage"]);return n!==void 0&&f!=null&&h(n,["instances[0]","scribble"],FE(f)),r}function ZE(i,n){const o={},r=c(i,["retrievalConfig"]);r!=null&&h(o,["retrievalConfig"],r);const a=c(i,["functionCallingConfig"]);return a!=null&&h(o,["functionCallingConfig"],WT(a)),o}function QE(i,n){const o={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(i,["computerUse"]);r!=null&&h(o,["computerUse"],r);const a=c(i,["fileSearch"]);a!=null&&h(o,["fileSearch"],a);const u=c(i,["codeExecution"]);if(u!=null&&h(o,["codeExecution"],u),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=c(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>S)),h(o,["functionDeclarations"],_)}const d=c(i,["googleMaps"]);d!=null&&h(o,["googleMaps"],AE(d));const g=c(i,["googleSearch"]);g!=null&&h(o,["googleSearch"],bE(g));const m=c(i,["googleSearchRetrieval"]);m!=null&&h(o,["googleSearchRetrieval"],m);const v=c(i,["urlContext"]);return v!=null&&h(o,["urlContext"],v),o}function hg(i,n){const o={},r=c(i,["retrieval"]);r!=null&&h(o,["retrieval"],r);const a=c(i,["computerUse"]);if(a!=null&&h(o,["computerUse"],a),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=c(i,["codeExecution"]);u!=null&&h(o,["codeExecution"],u);const f=c(i,["enterpriseWebSearch"]);f!=null&&h(o,["enterpriseWebSearch"],f);const d=c(i,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(T=>$T(T))),h(o,["functionDeclarations"],S)}const g=c(i,["googleMaps"]);g!=null&&h(o,["googleMaps"],g);const m=c(i,["googleSearch"]);m!=null&&h(o,["googleSearch"],m);const v=c(i,["googleSearchRetrieval"]);v!=null&&h(o,["googleSearchRetrieval"],v);const _=c(i,["urlContext"]);return _!=null&&h(o,["urlContext"],_),o}function WE(i,n){const o={},r=c(i,["baseModel"]);r!=null&&h(o,["baseModel"],r);const a=c(i,["createTime"]);a!=null&&h(o,["createTime"],a);const u=c(i,["updateTime"]);return u!=null&&h(o,["updateTime"],u),o}function $E(i,n){const o={},r=c(i,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&h(o,["baseModel"],r);const a=c(i,["createTime"]);a!=null&&h(o,["createTime"],a);const u=c(i,["updateTime"]);return u!=null&&h(o,["updateTime"],u),o}function jE(i,n,o){const r={},a=c(i,["displayName"]);n!==void 0&&a!=null&&h(n,["displayName"],a);const u=c(i,["description"]);n!==void 0&&u!=null&&h(n,["description"],u);const f=c(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&h(n,["defaultCheckpointId"],f),r}function eC(i,n,o){const r={},a=c(i,["displayName"]);n!==void 0&&a!=null&&h(n,["displayName"],a);const u=c(i,["description"]);n!==void 0&&u!=null&&h(n,["description"],u);const f=c(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&h(n,["defaultCheckpointId"],f),r}function tC(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","name"],Ve(i,a));const u=c(n,["config"]);return u!=null&&jE(u,r),r}function nC(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["config"]);return u!=null&&eC(u,r),r}function iC(i,n,o){const r={},a=c(i,["outputGcsUri"]);n!==void 0&&a!=null&&h(n,["parameters","storageUri"],a);const u=c(i,["safetyFilterLevel"]);n!==void 0&&u!=null&&h(n,["parameters","safetySetting"],u);const f=c(i,["personGeneration"]);n!==void 0&&f!=null&&h(n,["parameters","personGeneration"],f);const d=c(i,["includeRaiReason"]);n!==void 0&&d!=null&&h(n,["parameters","includeRaiReason"],d);const g=c(i,["outputMimeType"]);n!==void 0&&g!=null&&h(n,["parameters","outputOptions","mimeType"],g);const m=c(i,["outputCompressionQuality"]);n!==void 0&&m!=null&&h(n,["parameters","outputOptions","compressionQuality"],m);const v=c(i,["enhanceInputImage"]);n!==void 0&&v!=null&&h(n,["parameters","upscaleConfig","enhanceInputImage"],v);const _=c(i,["imagePreservationFactor"]);n!==void 0&&_!=null&&h(n,["parameters","upscaleConfig","imagePreservationFactor"],_);const S=c(i,["labels"]);n!==void 0&&S!=null&&h(n,["labels"],S);const T=c(i,["numberOfImages"]);n!==void 0&&T!=null&&h(n,["parameters","sampleCount"],T);const b=c(i,["mode"]);return n!==void 0&&b!=null&&h(n,["parameters","mode"],b),r}function oC(i,n,o){const r={},a=c(n,["model"]);a!=null&&h(r,["_url","model"],Ve(i,a));const u=c(n,["image"]);u!=null&&h(r,["instances[0]","image"],mn(u));const f=c(n,["upscaleFactor"]);f!=null&&h(r,["parameters","upscaleConfig","upscaleFactor"],f);const d=c(n,["config"]);return d!=null&&iC(d,r),r}function lC(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>la(f))),h(o,["generatedImages"],u)}return o}function rC(i,n){const o={},r=c(i,["uri"]);r!=null&&h(o,["uri"],r);const a=c(i,["encodedVideo"]);a!=null&&h(o,["videoBytes"],pi(a));const u=c(i,["encoding"]);return u!=null&&h(o,["mimeType"],u),o}function aC(i,n){const o={},r=c(i,["gcsUri"]);r!=null&&h(o,["uri"],r);const a=c(i,["bytesBase64Encoded"]);a!=null&&h(o,["videoBytes"],pi(a));const u=c(i,["mimeType"]);return u!=null&&h(o,["mimeType"],u),o}function sC(i,n){const o={},r=c(i,["image"]);r!=null&&h(o,["_self"],mn(r));const a=c(i,["maskMode"]);return a!=null&&h(o,["maskMode"],a),o}function uC(i,n){const o={},r=c(i,["image"]);r!=null&&h(o,["image"],ra(r));const a=c(i,["referenceType"]);return a!=null&&h(o,["referenceType"],a),o}function cC(i,n){const o={},r=c(i,["image"]);r!=null&&h(o,["image"],mn(r));const a=c(i,["referenceType"]);return a!=null&&h(o,["referenceType"],a),o}function pg(i,n){const o={},r=c(i,["uri"]);r!=null&&h(o,["uri"],r);const a=c(i,["videoBytes"]);a!=null&&h(o,["encodedVideo"],pi(a));const u=c(i,["mimeType"]);return u!=null&&h(o,["encoding"],u),o}function mg(i,n){const o={},r=c(i,["uri"]);r!=null&&h(o,["gcsUri"],r);const a=c(i,["videoBytes"]);a!=null&&h(o,["bytesBase64Encoded"],pi(a));const u=c(i,["mimeType"]);return u!=null&&h(o,["mimeType"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(i,n){const o={},r=c(i,["displayName"]);return n!==void 0&&r!=null&&h(n,["displayName"],r),o}function dC(i){const n={},o=c(i,["config"]);return o!=null&&fC(o,n),n}function hC(i,n){const o={},r=c(i,["force"]);return n!==void 0&&r!=null&&h(n,["_query","force"],r),o}function pC(i){const n={},o=c(i,["name"]);o!=null&&h(n,["_url","name"],o);const r=c(i,["config"]);return r!=null&&hC(r,n),n}function mC(i){const n={},o=c(i,["name"]);return o!=null&&h(n,["_url","name"],o),n}function gC(i,n){const o={},r=c(i,["customMetadata"]);if(n!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),h(n,["customMetadata"],u)}const a=c(i,["chunkingConfig"]);return n!==void 0&&a!=null&&h(n,["chunkingConfig"],a),o}function yC(i){const n={},o=c(i,["name"]);o!=null&&h(n,["name"],o);const r=c(i,["metadata"]);r!=null&&h(n,["metadata"],r);const a=c(i,["done"]);a!=null&&h(n,["done"],a);const u=c(i,["error"]);u!=null&&h(n,["error"],u);const f=c(i,["response"]);return f!=null&&h(n,["response"],_C(f)),n}function vC(i){const n={},o=c(i,["fileSearchStoreName"]);o!=null&&h(n,["_url","file_search_store_name"],o);const r=c(i,["fileName"]);r!=null&&h(n,["fileName"],r);const a=c(i,["config"]);return a!=null&&gC(a,n),n}function _C(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["parent"]);r!=null&&h(n,["parent"],r);const a=c(i,["documentName"]);return a!=null&&h(n,["documentName"],a),n}function SC(i,n){const o={},r=c(i,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const a=c(i,["pageToken"]);return n!==void 0&&a!=null&&h(n,["_query","pageToken"],a),o}function TC(i){const n={},o=c(i,["config"]);return o!=null&&SC(o,n),n}function EC(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const a=c(i,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),h(n,["fileSearchStores"],u)}return n}function gg(i,n){const o={},r=c(i,["mimeType"]);n!==void 0&&r!=null&&h(n,["mimeType"],r);const a=c(i,["displayName"]);n!==void 0&&a!=null&&h(n,["displayName"],a);const u=c(i,["customMetadata"]);if(n!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(g=>g)),h(n,["customMetadata"],d)}const f=c(i,["chunkingConfig"]);return n!==void 0&&f!=null&&h(n,["chunkingConfig"],f),o}function CC(i){const n={},o=c(i,["fileSearchStoreName"]);o!=null&&h(n,["_url","file_search_store_name"],o);const r=c(i,["config"]);return r!=null&&gg(r,n),n}function AC(i){const n={},o=c(i,["sdkHttpResponse"]);return o!=null&&h(n,["sdkHttpResponse"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bC="Content-Type",xC="X-Server-Timeout",wC="User-Agent",qu="x-goog-api-client",RC="1.39.0",NC=`google-genai-sdk/${RC}`,MC="v1beta1",IC="v1beta";class DC{constructor(n){var o,r,a;this.clientOptions=Object.assign({},n),this.customBaseUrl=(o=n.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const u={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const d=n.project&&n.location||!!n.apiKey;this.customBaseUrl&&!d?(u.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?u.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),u.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:MC}else{if(!this.clientOptions.apiKey)throw new wl({message:"API key must be set when using the Gemini API.",status:403});u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:IC,u.baseUrl="https://generativelanguage.googleapis.com/"}u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const n=new Headers;return await this.clientOptions.auth.addAuthHeaders(n),n}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&r.push(n.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,r){const a=[this.getRequestUrlInternal(o)];return r&&a.push(this.getBaseResourcePath()),n!==""&&a.push(n),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(n,o){return!(o.baseUrl&&o.baseUrlResourceScope===zu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const r=this.shouldPrependVertexProjectPath(n,o),a=this.constructUrl(n.path,o,r);if(n.queryParams)for(const[f,d]of Object.entries(n.queryParams))a.searchParams.append(f,String(d));let u={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=n.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),n.abortSignal),this.unaryApiCall(a,u,n.httpMethod)}patchHttpOptions(n,o){const r=JSON.parse(JSON.stringify(n));for(const[a,u]of Object.entries(o))typeof u=="object"?r[a]=Object.assign(Object.assign({},r[a]),u):u!==void 0&&(r[a]=u);return r}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const r=this.shouldPrependVertexProjectPath(n,o),a=this.constructUrl(n.path,o,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=n.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),n.abortSignal),this.streamApiCall(a,u,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,r,a){if(o&&o.timeout||a){const u=new AbortController,f=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const d=setTimeout(()=>u.abort(),o.timeout);d&&typeof d.unref=="function"&&d.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),n.signal=f}return o&&o.extraBody!==null&&UC(n,o.extraBody),n.headers=await this.getHeadersInternal(o,r),n}async unaryApiCall(n,o,r){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:r})).then(async a=>(await Lm(a),new Gu(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(n,o,r){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:r})).then(async a=>(await Lm(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(n){return hn(this,arguments,function*(){var r;const a=(r=n==null?void 0:n.body)===null||r===void 0?void 0:r.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let f="";const d="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield Ie(a.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=u.decode(v,{stream:!0});try{const b=JSON.parse(_);if("error"in b){const C=JSON.parse(JSON.stringify(b.error)),x=C.status,w=C.code,I=`got status: ${x}. ${JSON.stringify(b)}`;if(w>=400&&w<600)throw new wl({message:I,status:w})}}catch(b){if(b.name==="ApiError")throw b}f+=_;let S=-1,T=0;for(;;){S=-1,T=0;for(const x of g){const w=f.indexOf(x);w!==-1&&(S===-1||w<S)&&(S=w,T=x.length)}if(S===-1)break;const b=f.substring(0,S);f=f.substring(S+T);const C=b.trim();if(C.startsWith(d)){const x=C.substring(d.length).trim();try{const w=new Response(x,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Ie(new Gu(w))}catch(w){throw new Error(`exception parsing stream chunk ${x}. ${w}`)}}}}}finally{a.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const n={},o=NC+" "+this.clientOptions.userAgentExtra;return n[wC]=o,n[qu]=o,n[bC]="application/json",n}async getHeadersInternal(n,o){const r=new Headers;if(n&&n.headers){for(const[a,u]of Object.entries(n.headers))r.append(a,u);n.timeout&&n.timeout>0&&r.append(xC,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,o),r}getFileName(n){var o;let r="";return typeof n=="string"&&(r=n.replace(/[/\\]+$/,""),r=(o=r.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),r}async uploadFile(n,o){var r;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,f=await u.stat(n);a.sizeBytes=String(f.size);const d=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:f.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=d;const g={file:a},m=this.getFileName(n),v=Te("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,m,g,o==null?void 0:o.httpOptions);return u.upload(n,_,this)}async uploadFileToFileSearchStore(n,o,r){var a;const u=this.clientOptions.uploader,f=await u.stat(o),d=String(f.size),g=(a=r==null?void 0:r.mimeType)!==null&&a!==void 0?a:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${n}:uploadToFileSearchStore`,v=this.getFileName(o),_={};r!=null&&gg(r,_);const S=await this.fetchUploadUrl(m,d,g,v,_,r==null?void 0:r.httpOptions);return u.uploadToFileSearchStore(o,S,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,r,a,u,f){var d;let g={};f?g=f:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${r}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:n,body:JSON.stringify(u),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(d=m==null?void 0:m.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Lm(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let r;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?r=await i.json():r={error:{message:await i.text(),code:i.status,status:i.statusText}};const a=JSON.stringify(r);throw o>=400&&o<600?new wl({message:a,status:o}):new Error(a)}}function UC(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const u=JSON.parse(i.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(u,f){const d=Object.assign({},u);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g)){const m=f[g],v=d[g];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?d[g]=r(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),d[g]=m)}return d}const a=r(o,n);i.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kC="mcp_used/unknown";let LC=!1;function yg(i){for(const n of i)if(zC(n)||typeof n=="object"&&"inputSchema"in n)return!0;return LC}function vg(i){var n;const o=(n=i[qu])!==null&&n!==void 0?n:"";i[qu]=(o+` ${kC}`).trimStart()}function zC(i){return i!==null&&typeof i=="object"&&i instanceof oc}function GC(i){return hn(this,arguments,function*(o,r=100){let a,u=0;for(;u<r;){const f=yield Ie(o.listTools({cursor:a}));for(const d of f.tools)yield yield Ie(d),u++;if(!f.nextCursor)break;a=f.nextCursor}})}class oc{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new oc(n,o)}async initialize(){var n,o,r,a;if(this.mcpTools.length>0)return;const u={},f=[];for(const v of this.mcpClients)try{for(var d=!0,g=(o=void 0,pn(GC(v))),m;m=await g.next(),n=m.done,!n;d=!0){a=m.value,d=!1;const _=a;f.push(_);const S=_.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=v}}catch(_){o={error:_}}finally{try{!d&&!n&&(r=g.return)&&await r.call(g)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),d_(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const r of n)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await a.callTool({name:r.name,arguments:r.args},void 0,u);o.push({functionResponse:{name:r.name,response:f.isError?{error:f}:f}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function BC(i,n,o){const r=new o_;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data),Object.assign(r,a),n(r)}class OC{constructor(n,o,r){this.apiClient=n,this.auth=o,this.webSocketFactory=r}async connect(n){var o,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=qC(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${d}`;let m=()=>{};const v=new Promise(D=>{m=D}),_=n.callbacks,S=function(){m({})},T=this.apiClient,b={onopen:S,onmessage:D=>{BC(T,_.onmessage,D)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(D){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(D){}},C=this.webSocketFactory.create(g,PC(f),b);C.connect(),await v;const I={setup:{model:Ve(this.apiClient,n.model)}};return C.send(JSON.stringify(I)),new HC(C,this.apiClient)}}class HC{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=fT(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=cT(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Co.PLAY)}pause(){this.sendPlaybackControl(Co.PAUSE)}stop(){this.sendPlaybackControl(Co.STOP)}resetContext(){this.sendPlaybackControl(Co.RESET_CONTEXT)}close(){this.conn.close()}}function PC(i){const n={};return i.forEach((o,r)=>{n[r]=o}),n}function qC(i){const n=new Headers;for(const[o,r]of Object.entries(i))n.append(o,r);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FC(i,n,o){const r=new i_;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const u=JSON.parse(a);if(i.isVertexAI()){const f=pT(u);Object.assign(r,f)}else Object.assign(r,u);n(r)}class YC{constructor(n,o,r){this.apiClient=n,this.auth=o,this.webSocketFactory=r,this.music=new OC(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,r,a,u,f,d;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();n.config&&n.config.tools&&yg(n.config.tools)&&vg(_);const S=ZC(_);if(this.apiClient.isVertexAI()){const V=this.apiClient.getProject(),re=this.apiClient.getLocation(),ve=this.apiClient.getApiKey(),O=!!V&&!!re||!!ve;this.apiClient.getCustomBaseUrl()&&!O?v=g:(v=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v))}else{const V=this.apiClient.getApiKey();let re="BidiGenerateContent",ve="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",ve="access_token"),v=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${re}?${ve}=${V}`}let T=()=>{};const b=new Promise(V=>{T=V}),C=n.callbacks,x=function(){var V;(V=C==null?void 0:C.onopen)===null||V===void 0||V.call(C),T({})},w=this.apiClient,I={onopen:x,onmessage:V=>{FC(w,C.onmessage,V)},onerror:(o=C==null?void 0:C.onerror)!==null&&o!==void 0?o:function(V){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(V){}},D=this.webSocketFactory.create(v,XC(S),I);D.connect(),await b;let B=Ve(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const V=this.apiClient.getProject(),re=this.apiClient.getLocation();V&&re&&(B=`projects/${V}/locations/${re}/`+B)}let U={};this.apiClient.isVertexAI()&&((a=n.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[$r.AUDIO]}:n.config.responseModalities=[$r.AUDIO]),!((u=n.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(d=(f=n.config)===null||f===void 0?void 0:f.tools)!==null&&d!==void 0?d:[],q=[];for(const V of X)if(this.isCallableTool(V)){const re=V;q.push(await re.tool())}else q.push(V);q.length>0&&(n.config.tools=q);const ne={model:B,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?U=uT(this.apiClient,ne):U=sT(this.apiClient,ne),delete U.config,D.send(JSON.stringify(U)),new KC(D,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const JC={turnComplete:!0};class KC{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let r=[];try{r=sn(o.turns),n.isVertexAI()||(r=r.map(a=>oa(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:r,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let r=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?r=o.functionResponses:r=[o.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const u of r){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!n.isVertexAI()&&!("id"in u))throw new Error(VC)}return{toolResponse:{functionResponses:r}}}sendClientContent(n){n=Object.assign(Object.assign({},JC),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:hT(n)}:o={realtimeInput:dT(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function XC(i){const n={};return i.forEach((o,r)=>{n[r]=o}),n}function ZC(i){const n=new Headers;for(const[o,r]of Object.entries(i))n.append(o,r);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zm=10;function Gm(i){var n,o,r;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let a=!1;for(const f of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(xo(f)){a=!0;break}if(!a)return!0;const u=(r=i==null?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function xo(i){return"callTool"in i&&typeof i.callTool=="function"}function QC(i){var n,o,r;return(r=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(a=>xo(a)))!==null&&r!==void 0?r:!1}function Bm(i){var n;const o=[];return!((n=i==null?void 0:i.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((r,a)=>{if(xo(r))return;const u=r;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(a)}),o}function Om(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC extends Hn{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var r,a,u,f,d;const g=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!QC(o)||Gm(o.config))return await this.generateContentInternal(g);const m=Bm(o);if(m.length>0){const C=m.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let v,_;const S=sn(g.contents),T=(u=(a=(r=g.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:zm;let b=0;for(;b<T&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const C=v.candidates[0].content,x=[];for(const w of(d=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&d!==void 0?d:[])if(xo(w)){const D=await w.callTool(v.functionCalls);x.push(...D)}b++,_={role:"user",parts:x},g.contents=sn(g.contents),g.contents.push(C),g.contents.push(_),Om(g.config)&&(S.push(C),S.push(_))}return Om(g.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async o=>{var r,a,u,f,d;if(this.maybeMoveToResponseJsonSchem(o),Gm(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const g=Bm(o);if(g.length>0){const _=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(a=(r=o==null?void 0:o.config)===null||r===void 0?void 0:r.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(d=(f=o==null?void 0:o.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(r=>{var a;let u;const f=[];if(r!=null&&r.generatedImages)for(const g of r.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=g==null?void 0:g.safetyAttributes:f.push(g);let d;return u?d={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:r.sdkHttpResponse}:d={generatedImages:f,sdkHttpResponse:r.sdkHttpResponse},d}),this.list=async o=>{var r;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((r=f.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Li(On.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(f),f)},this.editImage=async o=>{const r={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(r.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async o=>{let r={numberOfImages:1,mode:"upscale"};o.config&&(r=Object.assign(Object.assign({},r),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>{var r,a,u,f,d,g;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=o.video)===null||r===void 0)&&r.uri&&(!((a=o.video)===null||a===void 0)&&a.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(u=o.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((g=(d=o.source)===null||d===void 0?void 0:d.video)===null||g===void 0)&&g.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,r,a;const u=(o=n.config)===null||o===void 0?void 0:o.tools;if(!u)return n;const f=await Promise.all(u.map(async g=>xo(g)?await g.tool():g)),d={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:f})};if(d.config.tools=f,n.config&&n.config.tools&&yg(n.config.tools)){const g=(a=(r=n.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),vg(m),d.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:m})}return d}async initAfcToolsMap(n){var o,r,a;const u=new Map;for(const f of(r=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&r!==void 0?r:[])if(xo(f)){const d=f,g=await d.tool();for(const m of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,d)}}return u}async processAfcStream(n){var o,r,a;const u=(a=(r=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:zm;let f=!1,d=0;const g=await this.initAfcToolsMap(n);return(function(m,v,_){return hn(this,arguments,function*(){for(var S,T,b,C,x,w;d<u;){f&&(d++,f=!1);const U=yield Ie(m.processParamsMaybeAddMcpUsage(_)),X=yield Ie(m.generateContentStreamInternal(U)),q=[],ne=[];try{for(var I=!0,D=(T=void 0,pn(X)),B;B=yield Ie(D.next()),S=B.done,!S;I=!0){C=B.value,I=!1;const V=C;if(yield yield Ie(V),V.candidates&&(!((x=V.candidates[0])===null||x===void 0)&&x.content)){ne.push(V.candidates[0].content);for(const re of(w=V.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(d<u&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(re.functionCall.name)){const ve=yield Ie(v.get(re.functionCall.name).callTool([re.functionCall]));q.push(...ve)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(V){T={error:V}}finally{try{!I&&!S&&(b=D.return)&&(yield Ie(b.call(D)))}finally{if(T)throw T.error}}if(q.length>0){f=!0;const V=new Al;V.candidates=[{content:{role:"user",parts:q}}],yield yield Ie(V);const re=[];re.push(...ne),re.push({role:"user",parts:q});const ve=sn(_.contents).concat(re);_.contents=ve}else break}})})(this,g,n)}async generateContentInternal(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=Dm(this.apiClient,n);return d=Te("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=km(v),S=new Al;return Object.assign(S,_),S})}else{const m=Im(this.apiClient,n);return d=Te("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Um(v),S=new Al;return Object.assign(S,_),S})}}async generateContentStreamInternal(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=Dm(this.apiClient,n);return d=Te("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}),f.then(function(_){return hn(this,arguments,function*(){var S,T,b,C;try{for(var x=!0,w=pn(_),I;I=yield Ie(w.next()),S=I.done,!S;x=!0){C=I.value,x=!1;const D=C,B=km(yield Ie(D.json()),n);B.sdkHttpResponse={headers:D.headers};const U=new Al;Object.assign(U,B),yield yield Ie(U)}}catch(D){T={error:D}}finally{try{!x&&!S&&(b=w.return)&&(yield Ie(b.call(w)))}finally{if(T)throw T.error}}})})}else{const m=Im(this.apiClient,n);return d=Te("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(_){return hn(this,arguments,function*(){var S,T,b,C;try{for(var x=!0,w=pn(_),I;I=yield Ie(w.next()),S=I.done,!S;x=!0){C=I.value,x=!1;const D=C,B=Um(yield Ie(D.json()),n);B.sdkHttpResponse={headers:D.headers};const U=new Al;Object.assign(U,B),yield yield Ie(U)}}catch(D){T={error:D}}finally{try{!x&&!S&&(b=w.return)&&(yield Ie(b.call(w)))}finally{if(T)throw T.error}}})})}}async embedContent(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=YT(this.apiClient,n);return d=Te("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=KT(v),S=new pm;return Object.assign(S,_),S})}else{const m=FT(this.apiClient,n);return d=Te("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=JT(v),S=new pm;return Object.assign(S,_),S})}}async generateImagesInternal(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=oE(this.apiClient,n);return d=Te("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=rE(v),S=new mm;return Object.assign(S,_),S})}else{const m=iE(this.apiClient,n);return d=Te("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=lE(v),S=new mm;return Object.assign(S,_),S})}}async editImageInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=HT(this.apiClient,n);return u=Te("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=PT(g),v=new Yv;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=oC(this.apiClient,n);return u=Te("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=lC(g),v=new Jv;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=OE(this.apiClient,n);return u=Te("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=HE(g),v=new Kv;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=JE(this.apiClient,n);return u=Te("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=KE(g),v=new Xv;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=CE(this.apiClient,n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>Pu(v))}else{const m=EE(this.apiClient,n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Hu(v))}}async listInternal(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=DE(this.apiClient,n);return d=Te("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=kE(v),S=new gm;return Object.assign(S,_),S})}else{const m=IE(this.apiClient,n);return d=Te("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=UE(v),S=new gm;return Object.assign(S,_),S})}}async update(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=nC(this.apiClient,n);return d=Te("{model}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>Pu(v))}else{const m=tC(this.apiClient,n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Hu(v))}}async delete(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=zT(this.apiClient,n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=BT(v),S=new ym;return Object.assign(S,_),S})}else{const m=LT(this.apiClient,n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=GT(v),S=new ym;return Object.assign(S,_),S})}}async countTokens(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=DT(this.apiClient,n);return d=Te("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=kT(v),S=new vm;return Object.assign(S,_),S})}else{const m=IT(this.apiClient,n);return d=Te("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=UT(v),S=new vm;return Object.assign(S,_),S})}}async computeTokens(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=AT(this.apiClient,n);return u=Te("{model}:computeTokens",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=bT(g),v=new Zv;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=dE(this.apiClient,n);return d=Te("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>{const _=cE(v),S=new jr;return Object.assign(S,_),S})}else{const m=fE(this.apiClient,n);return d=Te("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>{const _=uE(v),S=new jr;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C extends Hn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,r=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;r&&"httpOptions"in r&&(u=r.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(n){const o=n.operation,r=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;r&&"httpOptions"in r&&(u=r.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=Ov(n);return d=Te("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f}else{const m=Bv(n);return d=Te("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=Iv(n);return u=Te("{resourceName}:fetchPredictOperation",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(i){const n={},o=c(i,["data"]);if(o!=null&&h(n,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["mimeType"]);return r!=null&&h(n,["mimeType"],r),n}function eA(i){const n={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>uA(u))),h(n,["parts"],a)}const r=c(i,["role"]);return r!=null&&h(n,["role"],r),n}function tA(i,n,o){const r={},a=c(n,["expireTime"]);o!==void 0&&a!=null&&h(o,["expireTime"],a);const u=c(n,["newSessionExpireTime"]);o!==void 0&&u!=null&&h(o,["newSessionExpireTime"],u);const f=c(n,["uses"]);o!==void 0&&f!=null&&h(o,["uses"],f);const d=c(n,["liveConnectConstraints"]);o!==void 0&&d!=null&&h(o,["bidiGenerateContentSetup"],sA(i,d));const g=c(n,["lockAdditionalFields"]);return o!==void 0&&g!=null&&h(o,["fieldMask"],g),r}function nA(i,n){const o={},r=c(n,["config"]);return r!=null&&h(o,["config"],tA(i,r,o)),o}function iA(i){const n={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&h(n,["fileUri"],o);const r=c(i,["mimeType"]);return r!=null&&h(n,["mimeType"],r),n}function oA(i){const n={},o=c(i,["id"]);o!=null&&h(n,["id"],o);const r=c(i,["args"]);r!=null&&h(n,["args"],r);const a=c(i,["name"]);if(a!=null&&h(n,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function lA(i){const n={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&h(n,["enableWidget"],o),n}function rA(i){const n={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&h(n,["timeRangeFilter"],o),n}function aA(i,n){const o={},r=c(i,["generationConfig"]);n!==void 0&&r!=null&&h(n,["setup","generationConfig"],r);const a=c(i,["responseModalities"]);n!==void 0&&a!=null&&h(n,["setup","generationConfig","responseModalities"],a);const u=c(i,["temperature"]);n!==void 0&&u!=null&&h(n,["setup","generationConfig","temperature"],u);const f=c(i,["topP"]);n!==void 0&&f!=null&&h(n,["setup","generationConfig","topP"],f);const d=c(i,["topK"]);n!==void 0&&d!=null&&h(n,["setup","generationConfig","topK"],d);const g=c(i,["maxOutputTokens"]);n!==void 0&&g!=null&&h(n,["setup","generationConfig","maxOutputTokens"],g);const m=c(i,["mediaResolution"]);n!==void 0&&m!=null&&h(n,["setup","generationConfig","mediaResolution"],m);const v=c(i,["seed"]);n!==void 0&&v!=null&&h(n,["setup","generationConfig","seed"],v);const _=c(i,["speechConfig"]);n!==void 0&&_!=null&&h(n,["setup","generationConfig","speechConfig"],ic(_));const S=c(i,["thinkingConfig"]);n!==void 0&&S!=null&&h(n,["setup","generationConfig","thinkingConfig"],S);const T=c(i,["enableAffectiveDialog"]);n!==void 0&&T!=null&&h(n,["setup","generationConfig","enableAffectiveDialog"],T);const b=c(i,["systemInstruction"]);n!==void 0&&b!=null&&h(n,["setup","systemInstruction"],eA(wt(b)));const C=c(i,["tools"]);if(n!==void 0&&C!=null){let X=Ro(C);Array.isArray(X)&&(X=X.map(q=>fA(wo(q)))),h(n,["setup","tools"],X)}const x=c(i,["sessionResumption"]);n!==void 0&&x!=null&&h(n,["setup","sessionResumption"],cA(x));const w=c(i,["inputAudioTranscription"]);n!==void 0&&w!=null&&h(n,["setup","inputAudioTranscription"],w);const I=c(i,["outputAudioTranscription"]);n!==void 0&&I!=null&&h(n,["setup","outputAudioTranscription"],I);const D=c(i,["realtimeInputConfig"]);n!==void 0&&D!=null&&h(n,["setup","realtimeInputConfig"],D);const B=c(i,["contextWindowCompression"]);n!==void 0&&B!=null&&h(n,["setup","contextWindowCompression"],B);const U=c(i,["proactivity"]);if(n!==void 0&&U!=null&&h(n,["setup","proactivity"],U),c(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function sA(i,n){const o={},r=c(n,["model"]);r!=null&&h(o,["setup","model"],Ve(i,r));const a=c(n,["config"]);return a!=null&&h(o,["config"],aA(a,o)),o}function uA(i){const n={},o=c(i,["mediaResolution"]);o!=null&&h(n,["mediaResolution"],o);const r=c(i,["codeExecutionResult"]);r!=null&&h(n,["codeExecutionResult"],r);const a=c(i,["executableCode"]);a!=null&&h(n,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&h(n,["fileData"],iA(u));const f=c(i,["functionCall"]);f!=null&&h(n,["functionCall"],oA(f));const d=c(i,["functionResponse"]);d!=null&&h(n,["functionResponse"],d);const g=c(i,["inlineData"]);g!=null&&h(n,["inlineData"],jC(g));const m=c(i,["text"]);m!=null&&h(n,["text"],m);const v=c(i,["thought"]);v!=null&&h(n,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&h(n,["thoughtSignature"],_);const S=c(i,["videoMetadata"]);return S!=null&&h(n,["videoMetadata"],S),n}function cA(i){const n={},o=c(i,["handle"]);if(o!=null&&h(n,["handle"],o),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function fA(i){const n={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&h(n,["computerUse"],o);const r=c(i,["fileSearch"]);r!=null&&h(n,["fileSearch"],r);const a=c(i,["codeExecution"]);if(a!=null&&h(n,["codeExecution"],a),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),h(n,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&h(n,["googleMaps"],lA(f));const d=c(i,["googleSearch"]);d!=null&&h(n,["googleSearch"],rA(d));const g=c(i,["googleSearchRetrieval"]);g!=null&&h(n,["googleSearchRetrieval"],g);const m=c(i,["urlContext"]);return m!=null&&h(n,["urlContext"],m),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dA(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const r=i[o];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(u=>`${o}.${u}`);n.push(...a)}else n.push(o)}return n.join(",")}function hA(i,n){let o=null;const r=i.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const u=r.setup;typeof u=="object"&&u!==null?(i.bidiGenerateContentSetup=u,o=u):delete i.bidiGenerateContentSetup}else r!==void 0&&delete i.bidiGenerateContentSetup;const a=i.fieldMask;if(o){const u=dA(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)u?i.fieldMask=u:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];a.length>0&&(d=a.map(m=>f.includes(m)?`generationConfig.${m}`:m));const g=[];u&&g.push(u),d.length>0&&g.push(...d),g.length>0?i.fieldMask=g.join(","):delete i.fieldMask}else delete i.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?i.fieldMask=a.join(","):delete i.fieldMask;return i}class pA extends Hn{constructor(n){super(),this.apiClient=n}async create(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=nA(this.apiClient,n);u=Te("auth_tokens",d._url),f=d._query,delete d.config,delete d._url,delete d._query;const g=hA(d,n.config);return a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mA(i,n){const o={},r=c(i,["force"]);return n!==void 0&&r!=null&&h(n,["_query","force"],r),o}function gA(i){const n={},o=c(i,["name"]);o!=null&&h(n,["_url","name"],o);const r=c(i,["config"]);return r!=null&&mA(r,n),n}function yA(i){const n={},o=c(i,["name"]);return o!=null&&h(n,["_url","name"],o),n}function vA(i,n){const o={},r=c(i,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const a=c(i,["pageToken"]);return n!==void 0&&a!=null&&h(n,["_query","pageToken"],a),o}function _A(i){const n={},o=c(i,["parent"]);o!=null&&h(n,["_url","parent"],o);const r=c(i,["config"]);return r!=null&&vA(r,n),n}function SA(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const a=c(i,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),h(n,["documents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TA extends Hn{constructor(n){super(),this.apiClient=n,this.list=async o=>new Li(On.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:o.parent,config:r.config}),await this.listInternal(o),o)}async get(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=yA(n);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(n){var o,r;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=gA(n);a=Te("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=_A(n);return u=Te("{parent}/documents",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=SA(g),v=new Qv;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EA extends Hn{constructor(n,o=new TA(n)){super(),this.apiClient=n,this.documents=o,this.list=async(r={})=>new Li(On.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(r),r)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=dC(n);return u=Te("fileSearchStores",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=mC(n);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(n){var o,r;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=pC(n);a=Te("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=TC(n);return u=Te("fileSearchStores",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=EC(g),v=new Wv;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=CC(n);return u=Te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=AC(g),v=new $v;return Object.assign(v,m),v})}}async importFile(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=vC(n);return u=Te("{file_search_store_name}:importFile",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=yC(g),v=new $u;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _g=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return _g=i.randomUUID.bind(i),i.randomUUID();const n=new Uint8Array(1),o=i?()=>i.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^o()&15>>+r/4).toString(16))};const CA=()=>_g();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Fu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const n=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(n.stack=i.stack),i.cause&&!n.cause&&(n.cause=i.cause),i.name&&(n.name=i.name),n}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class un extends Error{}class Mt extends un{constructor(n,o,r,a){super(`${Mt.makeMessage(n,o,r)}`),this.status=n,this.headers=a,this.error=o}static makeMessage(n,o,r){const a=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):r;return n&&a?`${n} ${a}`:n?`${n} status code (no body)`:a||"(no status code or body)"}static generate(n,o,r,a){if(!n||!a)return new aa({message:r,cause:Fu(o)});const u=o;return n===400?new Tg(n,u,r,a):n===401?new Eg(n,u,r,a):n===403?new Cg(n,u,r,a):n===404?new Ag(n,u,r,a):n===409?new bg(n,u,r,a):n===422?new xg(n,u,r,a):n===429?new wg(n,u,r,a):n>=500?new Rg(n,u,r,a):new Mt(n,u,r,a)}}class Yu extends Mt{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class aa extends Mt{constructor({message:n,cause:o}){super(void 0,void 0,n||"Connection error.",void 0),o&&(this.cause=o)}}class Sg extends aa{constructor({message:n}={}){super({message:n??"Request timed out."})}}class Tg extends Mt{}class Eg extends Mt{}class Cg extends Mt{}class Ag extends Mt{}class bg extends Mt{}class xg extends Mt{}class wg extends Mt{}class Rg extends Mt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AA=/^[a-z][a-z0-9+.-]*:/i,bA=i=>AA.test(i);let Ju=i=>(Ju=Array.isArray,Ju(i));const xA=Ju;let wA=xA;const Hm=wA;function RA(i){if(!i)return!0;for(const n in i)return!1;return!0}function NA(i,n){return Object.prototype.hasOwnProperty.call(i,n)}const MA=(i,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new un(`${i} must be an integer`);if(n<0)throw new un(`${i} must be a positive integer`);return n},IA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DA=i=>new Promise(n=>setTimeout(n,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const kA=()=>{var i,n,o,r,a;const u=UA();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":qm(Deno.build.os),"X-Stainless-Arch":Pm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(n=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&n!==void 0?n:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":qm((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Pm((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const f=LA();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function LA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:o}of i){const r=o.exec(navigator.userAgent);if(r){const a=r[1]||0,u=r[2]||0,f=r[3]||0;return{browser:n,version:`${a}.${u}.${f}`}}}return null}const Pm=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",qm=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Fr;const zA=()=>Fr??(Fr=kA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ng(...i){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...i)}function BA(i){let n=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Ng({start(){},async pull(o){const{done:r,value:a}=await n.next();r?o.close():o.enqueue(a)},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}function Mg(i){if(i[Symbol.asyncIterator])return i;const n=i.getReader();return{async next(){try{const o=await n.read();return o!=null&&o.done&&n.releaseLock(),o}catch(o){throw n.releaseLock(),o}},async return(){const o=n.cancel();return n.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function OA(i){var n,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(n=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(n));return}const r=i.getReader(),a=r.cancel();r.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HA=({headers:i,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig=()=>{var i;if(typeof File>"u"){const{process:n}=globalThis,o=typeof((i=n==null?void 0:n.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Iu(i,n,o){return Ig(),new File(i,n??"unknown_file",o)}function PA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const qA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",VA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Dg(i),FA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function YA(i,n,o){if(Ig(),i=await i,VA(i))return i instanceof File?i:Iu([await i.arrayBuffer()],i.name);if(FA(i)){const a=await i.blob();return n||(n=new URL(i.url).pathname.split(/[\\/]/).pop()),Iu(await Ku(a),n,o)}const r=await Ku(i);if(n||(n=PA(i)),!(o!=null&&o.type)){const a=r.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof a=="string"&&(o=Object.assign(Object.assign({},o),{type:a}))}return Iu(r,n,o)}async function Ku(i){var n,o,r,a,u;let f=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)f.push(i);else if(Dg(i))f.push(i instanceof Blob?i:await i.arrayBuffer());else if(qA(i))try{for(var d=!0,g=pn(i),m;m=await g.next(),n=m.done,!n;d=!0){a=m.value,d=!1;const v=a;f.push(...await Ku(v))}}catch(v){o={error:v}}finally{try{!d&&!n&&(r=g.return)&&await r.call(g)}finally{if(o)throw o.error}}else{const v=(u=i==null?void 0:i.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${JA(i)}`)}return f}function JA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ug{constructor(n){this._client=n}}Ug._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Vm=Object.freeze(Object.create(null)),KA=(i=kg)=>(function(o,...r){if(o.length===1)return o[0];let a=!1;const u=[],f=o.reduce((v,_,S)=>{var T,b,C;/[?#]/.test(_)&&(a=!0);const x=r[S];let w=(a?encodeURIComponent:i)(""+x);return S!==r.length&&(x==null||typeof x=="object"&&x.toString===((C=Object.getPrototypeOf((b=Object.getPrototypeOf((T=x.hasOwnProperty)!==null&&T!==void 0?T:Vm))!==null&&b!==void 0?b:Vm))===null||C===void 0?void 0:C.toString))&&(w=x+"",u.push({start:v.length+_.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),v+_+(S===r.length?"":w)},""),d=f.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(d))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((v,_)=>v.start-_.start),u.length>0){let v=0;const _=u.reduce((S,T)=>{const b=" ".repeat(T.start-v),C="^".repeat(T.length);return v=T.start+T.length,S+b+C},"");throw new un(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${f}
${_}`)}return f}),Yr=KA(kg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lg extends Ug{create(n,o){var r;const{api_version:a=this._client.apiVersion}=n,u=ta(n,["api_version"]);if("model"in u&&"agent_config"in u)throw new un("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new un("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Yr`/${a}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(r=n.stream)!==null&&r!==void 0?r:!1}))}delete(n,o={},r){const{api_version:a=this._client.apiVersion}=o??{};return this._client.delete(Yr`/${a}/interactions/${n}`,r)}cancel(n,o={},r){const{api_version:a=this._client.apiVersion}=o??{};return this._client.post(Yr`/${a}/interactions/${n}/cancel`,r)}get(n,o={},r){var a;const u=o??{},{api_version:f=this._client.apiVersion}=u,d=ta(u,["api_version"]);return this._client.get(Yr`/${f}/interactions/${n}`,Object.assign(Object.assign({query:d},r),{stream:(a=o==null?void 0:o.stream)!==null&&a!==void 0?a:!1}))}}Lg._key=Object.freeze(["interactions"]);class zg extends Lg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XA(i){let n=0;for(const a of i)n+=a.length;const o=new Uint8Array(n);let r=0;for(const a of i)o.set(a,r),r+=a.length;return o}let Jr;function lc(i){let n;return(Jr??(n=new globalThis.TextEncoder,Jr=n.encode.bind(n)))(i)}let Kr;function Fm(i){let n;return(Kr??(n=new globalThis.TextDecoder,Kr=n.decode.bind(n)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(n){if(n==null)return[];const o=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?lc(n):n;this.buffer=XA([this.buffer,o]);const r=[];let a;for(;(a=ZA(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){r.push(Fm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,f=Fm(this.buffer.subarray(0,u));r.push(f),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}sa.NEWLINE_CHARS=new Set([`
`,"\r"]);sa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ZA(i,n){for(let a=n??0;a<i.length;a++){if(i[a]===10)return{preceding:a,index:a+1,carriage:!1};if(i[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function QA(i){for(let r=0;r<i.length-1;r++){if(i[r]===10&&i[r+1]===10||i[r]===13&&i[r+1]===13)return r+2;if(i[r]===13&&i[r+1]===10&&r+3<i.length&&i[r+2]===13&&i[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const na={off:0,error:200,warn:300,info:400,debug:500},Ym=(i,n,o)=>{if(i){if(NA(na,i))return i;Nt(o).warn(`${n} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(na))}`)}};function xl(){}function Xr(i,n,o){return!n||na[i]>na[o]?xl:n[i].bind(n)}const WA={error:xl,warn:xl,info:xl,debug:xl};let Jm=new WeakMap;function Nt(i){var n;const o=i.logger,r=(n=i.logLevel)!==null&&n!==void 0?n:"off";if(!o)return WA;const a=Jm.get(o);if(a&&a[0]===r)return a[1];const u={error:Xr("error",o,r),warn:Xr("warn",o,r),info:Xr("info",o,r),debug:Xr("debug",o,r)};return Jm.set(o,[r,u]),u}const ki=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([n,o])=>[n,n.toLowerCase()==="x-goog-api-key"||n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ao{constructor(n,o,r){this.iterator=n,this.controller=o,this.client=r}static fromSSEResponse(n,o,r){let a=!1;const u=r?Nt(r):console;function f(){return hn(this,arguments,function*(){var g,m,v,_;if(a)throw new un("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var T=!0,b=pn($A(n,o)),C;C=yield Ie(b.next()),g=C.done,!g;T=!0){_=C.value,T=!1;const x=_;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Ie(JSON.parse(x.data))}catch(w){throw u.error("Could not parse message into JSON:",x.data),u.error("From chunk:",x.raw),w}}}catch(x){m={error:x}}finally{try{!T&&!g&&(v=b.return)&&(yield Ie(v.call(b)))}finally{if(m)throw m.error}}S=!0}catch(x){if(Vu(x))return yield Ie(void 0);throw x}finally{S||o.abort()}})}return new Ao(f,o,r)}static fromReadableStream(n,o,r){let a=!1;function u(){return hn(this,arguments,function*(){var g,m,v,_;const S=new sa,T=Mg(n);try{for(var b=!0,C=pn(T),x;x=yield Ie(C.next()),g=x.done,!g;b=!0){_=x.value,b=!1;const w=_;for(const I of S.decode(w))yield yield Ie(I)}}catch(w){m={error:w}}finally{try{!b&&!g&&(v=C.return)&&(yield Ie(v.call(C)))}finally{if(m)throw m.error}}for(const w of S.flush())yield yield Ie(w)})}function f(){return hn(this,arguments,function*(){var g,m,v,_;if(a)throw new un("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var T=!0,b=pn(u()),C;C=yield Ie(b.next()),g=C.done,!g;T=!0){_=C.value,T=!1;const x=_;S||x&&(yield yield Ie(JSON.parse(x)))}}catch(x){m={error:x}}finally{try{!T&&!g&&(v=b.return)&&(yield Ie(v.call(b)))}finally{if(m)throw m.error}}S=!0}catch(x){if(Vu(x))return yield Ie(void 0);throw x}finally{S||o.abort()}})}return new Ao(f,o,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],o=[],r=this.iterator(),a=u=>({next:()=>{if(u.length===0){const f=r.next();n.push(f),o.push(f)}return u.shift()}});return[new Ao(()=>a(n),this.controller,this.client),new Ao(()=>a(o),this.controller,this.client)]}toReadableStream(){const n=this;let o;return Ng({async start(){o=n[Symbol.asyncIterator]()},async pull(r){try{const{value:a,done:u}=await o.next();if(u)return r.close();const f=lc(JSON.stringify(a)+`
`);r.enqueue(f)}catch(a){r.error(a)}},async cancel(){var r;await((r=o.return)===null||r===void 0?void 0:r.call(o))}})}}function $A(i,n){return hn(this,arguments,function*(){var r,a,u,f;if(!i.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new un("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new un("Attempted to iterate over a response with no body");const d=new e1,g=new sa,m=Mg(i.body);try{for(var v=!0,_=pn(jA(m)),S;S=yield Ie(_.next()),r=S.done,!r;v=!0){f=S.value,v=!1;const T=f;for(const b of g.decode(T)){const C=d.decode(b);C&&(yield yield Ie(C))}}}catch(T){a={error:T}}finally{try{!v&&!r&&(u=_.return)&&(yield Ie(u.call(_)))}finally{if(a)throw a.error}}for(const T of g.flush()){const b=d.decode(T);b&&(yield yield Ie(b))}})}function jA(i){return hn(this,arguments,function*(){var o,r,a,u;let f=new Uint8Array;try{for(var d=!0,g=pn(i),m;m=yield Ie(g.next()),o=m.done,!o;d=!0){u=m.value,d=!1;const v=u;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?lc(v):v;let S=new Uint8Array(f.length+_.length);S.set(f),S.set(_,f.length),f=S;let T;for(;(T=QA(f))!==-1;)yield yield Ie(f.slice(0,T)),f=f.slice(T)}}catch(v){r={error:v}}finally{try{!d&&!o&&(a=g.return)&&(yield Ie(a.call(g)))}finally{if(r)throw r.error}}f.length>0&&(yield yield Ie(f))})}class e1{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(n),n.startsWith(":"))return null;let[o,r,a]=t1(n,":");return a.startsWith(" ")&&(a=a.substring(1)),o==="event"?this.event=a:o==="data"&&this.data.push(a),null}}function t1(i,n){const o=i.indexOf(n);return o!==-1?[i.substring(0,o),n,i.substring(o+n.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function n1(i,n){const{response:o,requestLogID:r,retryOfRequestLogID:a,startTime:u}=n,f=await(async()=>{var d;if(n.options.stream)return Nt(i).debug("response",o.status,o.url,o.headers,o.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(o,n.controller,i):Ao.fromSSEResponse(o,n.controller,i);if(o.status===204)return null;if(n.options.__binaryResponse)return o;const g=o.headers.get("content-type"),m=(d=g==null?void 0:g.split(";")[0])===null||d===void 0?void 0:d.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return Nt(i).debug(`[${r}] response parsed`,ki({retryOfRequestLogID:a,url:o.url,status:o.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rc extends Promise{constructor(n,o,r=n1){super(a=>{a(null)}),this.responsePromise=o,this.parseResponse=r,this.client=n}_thenUnwrap(n){return new rc(this.client,this.responsePromise,async(o,r)=>n(await this.parseResponse(o,r),r))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(this.client,n))),this.parsedPromise}then(n,o){return this.parse().then(n,o)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=Symbol("brand.privateNullableHeaders");function*i1(i){if(!i)return;if(Gg in i){const{values:r,nulls:a}=i;yield*r.entries();for(const u of a)yield[u,null];return}let n=!1,o;i instanceof Headers?o=i.entries():Hm(i)?o=i:(n=!0,o=Object.entries(i??{}));for(let r of o){const a=r[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const u=Hm(r[1])?r[1]:[r[1]];let f=!1;for(const d of u)d!==void 0&&(n&&!f&&(f=!0,yield[a,null]),yield[a,d])}}const bl=i=>{const n=new Headers,o=new Set;for(const r of i){const a=new Set;for(const[u,f]of i1(r)){const d=u.toLowerCase();a.has(d)||(n.delete(u),a.add(d)),f===null?(n.delete(u),o.add(d)):(n.append(u,f),o.delete(d))}}return{[Gg]:!0,values:n,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Du=i=>{var n,o,r,a,u,f;if(typeof globalThis.process<"u")return(r=(o=(n=bv)===null||n===void 0?void 0:n[i])===null||o===void 0?void 0:o.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||u===void 0?void 0:u.call(a,i))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bg;class ua{constructor(n){var o,r,a,u,f,d,g,{baseURL:m=Du("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Du("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:_="v1beta"}=n,S=ta(n,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:v,apiVersion:_},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(r=T.timeout)!==null&&r!==void 0?r:ua.DEFAULT_TIMEOUT,this.logger=(a=T.logger)!==null&&a!==void 0?a:console;const b="warn";this.logLevel=b,this.logLevel=(f=(u=Ym(T.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Ym(Du("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:b,this.fetchOptions=T.fetchOptions,this.maxRetries=(d=T.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(g=T.fetch)!==null&&g!==void 0?g:GA(),this.encoder=HA,this._options=T,this.apiKey=v,this.apiVersion=_,this.clientAdapter=T.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:o}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){const o=bl([n.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return bl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return bl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([o,r])=>typeof r<"u").map(([o,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(o)}=`;throw new un(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Eo}`}defaultIdempotencyKey(){return`stainless-node-retry-${CA()}`}makeStatusError(n,o,r,a){return Mt.generate(n,o,r,a)}buildURL(n,o,r){const a=!this.baseURLOverridden()&&r||this.baseURL,u=bA(n)?new URL(n):new URL(a+(a.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),f=this.defaultQuery();return RA(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){const o=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(n,{url:o,options:r}){}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,r){return this.request(Promise.resolve(r).then(a=>Object.assign({method:n,path:o},a)))}request(n,o=null){return new rc(this,this.makeRequest(n,o,void 0))}async makeRequest(n,o,r){var a,u,f;const d=await n,g=(a=d.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o==null&&(o=g),await this.prepareOptions(d);const{req:m,url:v,timeout:_}=await this.buildRequest(d,{retryCount:g-o});await this.prepareRequest(m,{url:v,options:d});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=r===void 0?"":`, retryOf: ${r}`,b=Date.now();if(Nt(this).debug(`[${S}] sending request`,ki({retryOfRequestLogID:r,method:d.method,url:v,options:d,headers:m.headers})),!((u=d.signal)===null||u===void 0)&&u.aborted)throw new Yu;const C=new AbortController,x=await this.fetchWithTimeout(v,m,_,C).catch(Fu),w=Date.now();if(x instanceof globalThis.Error){const D=`retrying, ${o} attempts remaining`;if(!((f=d.signal)===null||f===void 0)&&f.aborted)throw new Yu;const B=Vu(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(o)return Nt(this).info(`[${S}] connection ${B?"timed out":"failed"} - ${D}`),Nt(this).debug(`[${S}] connection ${B?"timed out":"failed"} (${D})`,ki({retryOfRequestLogID:r,url:v,durationMs:w-b,message:x.message})),this.retryRequest(d,o,r??S);throw Nt(this).info(`[${S}] connection ${B?"timed out":"failed"} - error; no more retries left`),Nt(this).debug(`[${S}] connection ${B?"timed out":"failed"} (error; no more retries left)`,ki({retryOfRequestLogID:r,url:v,durationMs:w-b,message:x.message})),B?new Sg:new aa({cause:x})}const I=`[${S}${T}] ${m.method} ${v} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${w-b}ms`;if(!x.ok){const D=await this.shouldRetry(x);if(o&&D){const V=`retrying, ${o} attempts remaining`;return await OA(x.body),Nt(this).info(`${I} - ${V}`),Nt(this).debug(`[${S}] response error (${V})`,ki({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:w-b})),this.retryRequest(d,o,r??S,x.headers)}const B=D?"error; no more retries left":"error; not retryable";Nt(this).info(`${I} - ${B}`);const U=await x.text().catch(V=>Fu(V).message),X=IA(U),q=X?void 0:U;throw Nt(this).debug(`[${S}] response error (${B})`,ki({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,message:q,durationMs:Date.now()-b})),this.makeStatusError(x.status,X,q,x.headers)}return Nt(this).info(I),Nt(this).debug(`[${S}] response start`,ki({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:w-b})),{response:x,options:d,controller:C,requestLogID:S,retryOfRequestLogID:r,startTime:b}}async fetchWithTimeout(n,o,r,a){const u=o||{},{signal:f,method:d}=u,g=ta(u,["signal","method"]);f&&f.addEventListener("abort",()=>a.abort());const m=setTimeout(()=>a.abort(),r),v=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,_=Object.assign(Object.assign(Object.assign({signal:a.signal},v?{duplex:"half"}:{}),{method:"GET"}),g);d&&(_.method=d.toUpperCase());try{return await this.fetch.call(void 0,n,_)}finally{clearTimeout(m)}}async shouldRetry(n){const o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,r,a){var u;let f;const d=a==null?void 0:a.get("retry-after-ms");if(d){const m=parseFloat(d);Number.isNaN(m)||(f=m)}const g=a==null?void 0:a.get("retry-after");if(g&&!f){const m=parseFloat(g);Number.isNaN(m)?f=Date.parse(g)-Date.now():f=m*1e3}if(!(f&&0<=f&&f<60*1e3)){const m=(u=n.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,m)}return await DA(f),this.makeRequest(n,o-1,r)}calculateDefaultRetryTimeoutMillis(n,o){const u=o-n,f=Math.min(.5*Math.pow(2,u),8),d=1-Math.random()*.25;return f*d*1e3}async buildRequest(n,{retryCount:o=0}={}){var r,a,u;const f=Object.assign({},n),{method:d,path:g,query:m,defaultBaseURL:v}=f,_=this.buildURL(g,m,v);"timeout"in f&&MA("timeout",f.timeout),f.timeout=(r=f.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:S,body:T}=this.buildBody({options:f}),b=await this.buildHeaders({options:n,method:d,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:b},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:_,timeout:f.timeout}}async buildHeaders({options:n,method:o,bodyHeaders:r,retryCount:a}){let u={};this.idempotencyHeader&&o!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=n.idempotencyKey);const f=await this.authHeaders(n);let d=bl([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),zA()),this._options.defaultHeaders,r,n.headers,f]);return this.validateHeaders(d),d.values}buildBody({options:{body:n,headers:o}}){if(!n)return{bodyHeaders:void 0,body:void 0};const r=bl([o]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&r.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:BA(n)}:this.encoder({body:n,headers:r})}}ua.DEFAULT_TIMEOUT=6e4;class St extends ua{constructor(){super(...arguments),this.interactions=new zg(this)}}Bg=St;St.GeminiNextGenAPIClient=Bg;St.GeminiNextGenAPIClientError=un;St.APIError=Mt;St.APIConnectionError=aa;St.APIConnectionTimeoutError=Sg;St.APIUserAbortError=Yu;St.NotFoundError=Ag;St.ConflictError=bg;St.RateLimitError=wg;St.BadRequestError=Tg;St.AuthenticationError=Eg;St.InternalServerError=Rg;St.PermissionDeniedError=Cg;St.UnprocessableEntityError=xg;St.toFile=YA;St.Interactions=zg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o1(i,n){const o={},r=c(i,["name"]);return r!=null&&h(o,["_url","name"],r),o}function l1(i,n){const o={},r=c(i,["name"]);return r!=null&&h(o,["_url","name"],r),o}function r1(i,n){const o={},r=c(i,["sdkHttpResponse"]);return r!=null&&h(o,["sdkHttpResponse"],r),o}function a1(i,n){const o={},r=c(i,["sdkHttpResponse"]);return r!=null&&h(o,["sdkHttpResponse"],r),o}function s1(i,n,o){const r={};if(c(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(i,["tunedModelDisplayName"]);if(n!==void 0&&a!=null&&h(n,["displayName"],a),c(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(i,["epochCount"]);n!==void 0&&u!=null&&h(n,["tuningTask","hyperparameters","epochCount"],u);const f=c(i,["learningRateMultiplier"]);if(f!=null&&h(r,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(c(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(c(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const d=c(i,["batchSize"]);n!==void 0&&d!=null&&h(n,["tuningTask","hyperparameters","batchSize"],d);const g=c(i,["learningRate"]);if(n!==void 0&&g!=null&&h(n,["tuningTask","hyperparameters","learningRate"],g),c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(c(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(c(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(c(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(c(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function u1(i,n,o){const r={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const U=c(i,["validationDataset"]);n!==void 0&&U!=null&&h(n,["supervisedTuningSpec"],Uu(U))}else if(a==="PREFERENCE_TUNING"){const U=c(i,["validationDataset"]);n!==void 0&&U!=null&&h(n,["preferenceOptimizationSpec"],Uu(U))}else if(a==="DISTILLATION"){const U=c(i,["validationDataset"]);n!==void 0&&U!=null&&h(n,["distillationSpec"],Uu(U))}const u=c(i,["tunedModelDisplayName"]);n!==void 0&&u!=null&&h(n,["tunedModelDisplayName"],u);const f=c(i,["description"]);n!==void 0&&f!=null&&h(n,["description"],f);let d=c(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const U=c(i,["epochCount"]);n!==void 0&&U!=null&&h(n,["supervisedTuningSpec","hyperParameters","epochCount"],U)}else if(d==="PREFERENCE_TUNING"){const U=c(i,["epochCount"]);n!==void 0&&U!=null&&h(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],U)}else if(d==="DISTILLATION"){const U=c(i,["epochCount"]);n!==void 0&&U!=null&&h(n,["distillationSpec","hyperParameters","epochCount"],U)}let g=c(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const U=c(i,["learningRateMultiplier"]);n!==void 0&&U!=null&&h(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],U)}else if(g==="PREFERENCE_TUNING"){const U=c(i,["learningRateMultiplier"]);n!==void 0&&U!=null&&h(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],U)}else if(g==="DISTILLATION"){const U=c(i,["learningRateMultiplier"]);n!==void 0&&U!=null&&h(n,["distillationSpec","hyperParameters","learningRateMultiplier"],U)}let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const U=c(i,["exportLastCheckpointOnly"]);n!==void 0&&U!=null&&h(n,["supervisedTuningSpec","exportLastCheckpointOnly"],U)}else if(m==="PREFERENCE_TUNING"){const U=c(i,["exportLastCheckpointOnly"]);n!==void 0&&U!=null&&h(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],U)}else if(m==="DISTILLATION"){const U=c(i,["exportLastCheckpointOnly"]);n!==void 0&&U!=null&&h(n,["distillationSpec","exportLastCheckpointOnly"],U)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const U=c(i,["adapterSize"]);n!==void 0&&U!=null&&h(n,["supervisedTuningSpec","hyperParameters","adapterSize"],U)}else if(v==="PREFERENCE_TUNING"){const U=c(i,["adapterSize"]);n!==void 0&&U!=null&&h(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],U)}else if(v==="DISTILLATION"){const U=c(i,["adapterSize"]);n!==void 0&&U!=null&&h(n,["distillationSpec","hyperParameters","adapterSize"],U)}let _=c(o,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const U=c(i,["tuningMode"]);n!==void 0&&U!=null&&h(n,["supervisedTuningSpec","tuningMode"],U)}const S=c(i,["customBaseModel"]);n!==void 0&&S!=null&&h(n,["customBaseModel"],S);let T=c(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const U=c(i,["batchSize"]);n!==void 0&&U!=null&&h(n,["supervisedTuningSpec","hyperParameters","batchSize"],U)}let b=c(o,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const U=c(i,["learningRate"]);n!==void 0&&U!=null&&h(n,["supervisedTuningSpec","hyperParameters","learningRate"],U)}const C=c(i,["labels"]);n!==void 0&&C!=null&&h(n,["labels"],C);const x=c(i,["beta"]);n!==void 0&&x!=null&&h(n,["preferenceOptimizationSpec","hyperParameters","beta"],x);const w=c(i,["baseTeacherModel"]);n!==void 0&&w!=null&&h(n,["distillationSpec","baseTeacherModel"],w);const I=c(i,["tunedTeacherModelSource"]);n!==void 0&&I!=null&&h(n,["distillationSpec","tunedTeacherModelSource"],I);const D=c(i,["sftLossWeightMultiplier"]);n!==void 0&&D!=null&&h(n,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],D);const B=c(i,["outputUri"]);return n!==void 0&&B!=null&&h(n,["outputUri"],B),r}function c1(i,n){const o={},r=c(i,["baseModel"]);r!=null&&h(o,["baseModel"],r);const a=c(i,["preTunedModel"]);a!=null&&h(o,["preTunedModel"],a);const u=c(i,["trainingDataset"]);u!=null&&T1(u);const f=c(i,["config"]);return f!=null&&s1(f,o),o}function f1(i,n){const o={},r=c(i,["baseModel"]);r!=null&&h(o,["baseModel"],r);const a=c(i,["preTunedModel"]);a!=null&&h(o,["preTunedModel"],a);const u=c(i,["trainingDataset"]);u!=null&&E1(u,o,n);const f=c(i,["config"]);return f!=null&&u1(f,o,n),o}function d1(i,n){const o={},r=c(i,["name"]);return r!=null&&h(o,["_url","name"],r),o}function h1(i,n){const o={},r=c(i,["name"]);return r!=null&&h(o,["_url","name"],r),o}function p1(i,n,o){const r={},a=c(i,["pageSize"]);n!==void 0&&a!=null&&h(n,["_query","pageSize"],a);const u=c(i,["pageToken"]);n!==void 0&&u!=null&&h(n,["_query","pageToken"],u);const f=c(i,["filter"]);return n!==void 0&&f!=null&&h(n,["_query","filter"],f),r}function m1(i,n,o){const r={},a=c(i,["pageSize"]);n!==void 0&&a!=null&&h(n,["_query","pageSize"],a);const u=c(i,["pageToken"]);n!==void 0&&u!=null&&h(n,["_query","pageToken"],u);const f=c(i,["filter"]);return n!==void 0&&f!=null&&h(n,["_query","filter"],f),r}function g1(i,n){const o={},r=c(i,["config"]);return r!=null&&p1(r,o),o}function y1(i,n){const o={},r=c(i,["config"]);return r!=null&&m1(r,o),o}function v1(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&h(o,["nextPageToken"],a);const u=c(i,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(d=>Og(d))),h(o,["tuningJobs"],f)}return o}function _1(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&h(o,["nextPageToken"],a);const u=c(i,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(d=>Xu(d))),h(o,["tuningJobs"],f)}return o}function S1(i,n){const o={},r=c(i,["name"]);r!=null&&h(o,["model"],r);const a=c(i,["name"]);return a!=null&&h(o,["endpoint"],a),o}function T1(i,n){const o={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=c(i,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),h(o,["examples","examples"],a)}return o}function E1(i,n,o){const r={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=c(i,["gcsUri"]);n!==void 0&&f!=null&&h(n,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(a==="PREFERENCE_TUNING"){const f=c(i,["gcsUri"]);n!==void 0&&f!=null&&h(n,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(a==="DISTILLATION"){const f=c(i,["gcsUri"]);n!==void 0&&f!=null&&h(n,["distillationSpec","promptDatasetUri"],f)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=c(i,["vertexDatasetResource"]);n!==void 0&&f!=null&&h(n,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=c(i,["vertexDatasetResource"]);n!==void 0&&f!=null&&h(n,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(u==="DISTILLATION"){const f=c(i,["vertexDatasetResource"]);n!==void 0&&f!=null&&h(n,["distillationSpec","promptDatasetUri"],f)}if(c(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Og(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["name"]);a!=null&&h(o,["name"],a);const u=c(i,["state"]);u!=null&&h(o,["state"],tg(u));const f=c(i,["createTime"]);f!=null&&h(o,["createTime"],f);const d=c(i,["tuningTask","startTime"]);d!=null&&h(o,["startTime"],d);const g=c(i,["tuningTask","completeTime"]);g!=null&&h(o,["endTime"],g);const m=c(i,["updateTime"]);m!=null&&h(o,["updateTime"],m);const v=c(i,["description"]);v!=null&&h(o,["description"],v);const _=c(i,["baseModel"]);_!=null&&h(o,["baseModel"],_);const S=c(i,["_self"]);return S!=null&&h(o,["tunedModel"],S1(S)),o}function Xu(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["name"]);a!=null&&h(o,["name"],a);const u=c(i,["state"]);u!=null&&h(o,["state"],tg(u));const f=c(i,["createTime"]);f!=null&&h(o,["createTime"],f);const d=c(i,["startTime"]);d!=null&&h(o,["startTime"],d);const g=c(i,["endTime"]);g!=null&&h(o,["endTime"],g);const m=c(i,["updateTime"]);m!=null&&h(o,["updateTime"],m);const v=c(i,["error"]);v!=null&&h(o,["error"],v);const _=c(i,["description"]);_!=null&&h(o,["description"],_);const S=c(i,["baseModel"]);S!=null&&h(o,["baseModel"],S);const T=c(i,["tunedModel"]);T!=null&&h(o,["tunedModel"],T);const b=c(i,["preTunedModel"]);b!=null&&h(o,["preTunedModel"],b);const C=c(i,["supervisedTuningSpec"]);C!=null&&h(o,["supervisedTuningSpec"],C);const x=c(i,["preferenceOptimizationSpec"]);x!=null&&h(o,["preferenceOptimizationSpec"],x);const w=c(i,["distillationSpec"]);w!=null&&h(o,["distillationSpec"],w);const I=c(i,["tuningDataStats"]);I!=null&&h(o,["tuningDataStats"],I);const D=c(i,["encryptionSpec"]);D!=null&&h(o,["encryptionSpec"],D);const B=c(i,["partnerModelTuningSpec"]);B!=null&&h(o,["partnerModelTuningSpec"],B);const U=c(i,["customBaseModel"]);U!=null&&h(o,["customBaseModel"],U);const X=c(i,["experiment"]);X!=null&&h(o,["experiment"],X);const q=c(i,["labels"]);q!=null&&h(o,["labels"],q);const ne=c(i,["outputUri"]);ne!=null&&h(o,["outputUri"],ne);const V=c(i,["pipelineJob"]);V!=null&&h(o,["pipelineJob"],V);const re=c(i,["serviceAccount"]);re!=null&&h(o,["serviceAccount"],re);const ve=c(i,["tunedModelDisplayName"]);ve!=null&&h(o,["tunedModelDisplayName"],ve);const O=c(i,["veoTuningSpec"]);return O!=null&&h(o,["veoTuningSpec"],O),o}function C1(i,n){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&h(o,["sdkHttpResponse"],r);const a=c(i,["name"]);a!=null&&h(o,["name"],a);const u=c(i,["metadata"]);u!=null&&h(o,["metadata"],u);const f=c(i,["done"]);f!=null&&h(o,["done"],f);const d=c(i,["error"]);return d!=null&&h(o,["error"],d),o}function Uu(i,n){const o={},r=c(i,["gcsUri"]);r!=null&&h(o,["validationDatasetUri"],r);const a=c(i,["vertexDatasetResource"]);return a!=null&&h(o,["validationDatasetUri"],a),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A1 extends Hn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Li(On.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var r;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const a={tunedModelName:o.baseModel};!((r=o.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},o);return await this.tuneInternal(a)}else{const a=Object.assign({},o),u=await this.tuneMldevInternal(a);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:Lu.JOB_STATE_QUEUED}}}}async getInternal(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=h1(n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Xu(v))}else{const m=d1(n);return d=Te("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Og(v))}}async listInternal(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=y1(n);return d=Te("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=_1(v),S=new _m;return Object.assign(S,_),S})}else{const m=g1(n);return d=Te("tunedModels",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=v1(v),S=new _m;return Object.assign(S,_),S})}}async cancel(n){var o,r,a,u;let f,d="",g={};if(this.apiClient.isVertexAI()){const m=l1(n);return d=Te("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=a1(v),S=new Sm;return Object.assign(S,_),S})}else{const m=o1(n);return d=Te("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=r1(v),S=new Sm;return Object.assign(S,_),S})}}async tuneInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const d=f1(n,n);return u=Te("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>Xu(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=c1(n);return u=Te("tunedModels",d._url),f=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>C1(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b1{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const x1=1024*1024*8,w1=3,R1=1e3,N1=2,ia="x-goog-upload-status";async function M1(i,n,o){var r;const a=await Hg(i,n,o),u=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[ia])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function I1(i,n,o){var r;const a=await Hg(i,n,o),u=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[ia])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=Zm(u),d=new ju;return Object.assign(d,f),d}async function Hg(i,n,o){var r,a;let u=0,f=0,d=new Gu(new Response),g="upload";for(u=i.size;f<u;){const m=Math.min(x1,u-f),v=i.slice(f,f+m);f+m>=u&&(g+=", finalize");let _=0,S=R1;for(;_<w1&&(d=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(f),"Content-Length":String(m)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[ia]));)_++,await U1(S),S=S*N1;if(f+=m,((a=d==null?void 0:d.headers)===null||a===void 0?void 0:a[ia])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function D1(i){return{size:i.size,type:i.type}}function U1(i){return new Promise(n=>setTimeout(n,i))}class k1{async upload(n,o,r){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await M1(n,o,r)}async uploadToFileSearchStore(n,o,r){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await I1(n,o,r)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await D1(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L1{create(n,o,r){return new z1(n,o,r)}}class z1{constructor(n,o,r){this.url=n,this.headers=o,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Km="x-goog-api-key";class G1{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(Km)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Km,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B1="gl-node/";class O1{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new St({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout});return this._interactions=o.interactions,this._interactions}constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const r=Nv(n.httpOptions,n.vertexai,void 0,void 0);r&&(n.httpOptions?n.httpOptions.baseUrl=r:n.httpOptions={baseUrl:r}),this.apiVersion=n.apiVersion,this.httpOptions=n.httpOptions;const a=new G1(this.apiKey);this.apiClient=new DC({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:B1+"web",uploader:new k1,downloader:new b1}),this.models=new WC(this.apiClient),this.live=new YC(this.apiClient,a,new L1),this.batches=new lS(this.apiClient),this.chats=new HS(this.models,this.apiClient),this.caches=new GS(this.apiClient),this.files=new $S(this.apiClient),this.operations=new $C(this.apiClient),this.authTokens=new pA(this.apiClient),this.tunings=new A1(this.apiClient),this.fileSearchStores=new EA(this.apiClient)}}const H1=()=>{const i=Zr.getApiKey();if(!i)throw new Error(" API KeyPlease configure API Key in settings first.");return new O1({apiKey:i})},P1=async(i,n)=>{var o,r,a;try{const u=H1(),f=i.replace(/^data:image\/(png|jpeg|jpg);base64,/,""),g=(a=(r=(o=(await u.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{mimeType:"image/png",data:f}},{text:`Edit this app icon. ${n}. Keep the aspect ratio 3:4. Return only the image.`}]}})).candidates)==null?void 0:o[0])==null?void 0:r.content)==null?void 0:a.parts;if(!g)throw new Error("No content returned from Gemini");let m="";for(const v of g)if(v.inlineData&&v.inlineData.data){m=v.inlineData.data;break}if(!m)throw new Error("No image data generated");return`data:image/png;base64,${m}`}catch(u){throw console.error("Error generating icon:",u),u}},q1={contentMode:"text",text:"P",imageSrc:null,bgColor:"#2962FF",bgType:"solid",bgGradientStops:[{offset:0,color:"#2962FF"},{offset:1,color:"#0039CB"}],bgGradientAngle:135,textColor:"#FFFFFF",fontSize:250,fontFamily:"Inter, sans-serif",fontWeight:"bold",fontStyle:"normal",textPositionX:0,textPositionY:0,letterSpacing:0,lineHeight:1,textAlign:"center",borderColor:"#FFFFFF",borderWidth:0,borderRadius:0,pattern:"none",patternColor:"#FFFFFF",patternLineWidth:15,patternSpacing:120,patternAngle:0,patternOpacity:.3};function V1(){const[i,n]=rt.useState(q1),[o,r]=rt.useState(null),[a,u]=rt.useState(!1),[f,d]=rt.useState(null),[g,m]=rt.useState(!1),[v,_]=rt.useState(!1),S=rt.useRef(null),T=async C=>{if(S.current){u(!0),d(null),r(null);try{const x=S.current.getDataUrl(),w=await P1(x,C);r({dataUrl:w,prompt:C})}catch(x){d(x.message||"Failed to generate image. Please try again.")}finally{u(!1)}}},b=(C,x)=>{const w=document.createElement("a");w.href=C,w.download=x,document.body.appendChild(w),w.click(),document.body.removeChild(w)};return k.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 font-sans text-gray-900",children:[k.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-20 shadow-sm",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-8 h-10 bg-[#2962FF] rounded flex items-center justify-center shadow-inner",children:k.jsx("span",{className:"text-white font-bold text-lg",children:"P"})}),k.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"IconGen AI"})]}),k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gray-100 text-gray-600 text-xs font-bold hover:bg-gray-200 transition-colors",title:"API  / API Settings",children:[k.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"API"]}),k.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded text-gray-600 font-medium",children:"v3.2"})]})]})}),k.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[k.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[k.jsx(gv,{config:i,onChange:n}),k.jsx(Ev,{canvasRef:S})]}),k.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-500",children:"Live Preview"}),k.jsxs("button",{onClick:()=>m(!g),className:`flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-bold transition-all shadow-sm border ${g?"bg-indigo-600 text-white border-indigo-700":"bg-white text-indigo-600 border-indigo-100 hover:bg-indigo-50"}`,children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ${g?"text-indigo-200":"text-indigo-500"}`,viewBox:"0 0 20 20",fill:"currentColor",children:k.jsx("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.191 9.1c.39.244.631.675.584 1.136a1.147 1.147 0 01-.815 1.014l-3.04.94-1.147 3.04a1.147 1.147 0 01-2.138 0l-1.147-3.04-3.04-.94a1.147 1.147 0 01-.815-1.014c-.047-.461.194-.892.584-1.136l3.045-1.9 1.179-4.456A1 1 0 0112 2z",clipRule:"evenodd"})}),g?"Hide AI Magic":"Show AI Magic"]})]}),k.jsxs("div",{className:`grid grid-cols-1 ${g?"lg:grid-cols-2":"lg:grid-cols-1"} gap-8 transition-all duration-300`,children:[k.jsx("div",{className:"flex flex-col items-center",children:k.jsx("div",{className:"w-full flex-1 flex items-center justify-center bg-gray-200 rounded-2xl border-2 border-dashed border-gray-300 p-8 min-h-[550px] transition-all",children:k.jsxs("div",{className:"relative group",children:[k.jsx(Xm,{ref:S,config:i}),k.jsx("div",{className:"absolute -bottom-8 left-0 right-0 text-center opacity-0 group-hover:opacity-100 transition-opacity text-xs text-gray-500 font-medium",children:"3:4 Ratio  High Resolution Output"})]})})}),g&&k.jsxs("div",{className:"flex flex-col space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[k.jsx(yv,{onGenerate:T,isGenerating:a}),f&&k.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[k.jsx("strong",{children:"Error:"})," ",f]}),k.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-gray-100 p-4 flex flex-col",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsx("h3",{className:"font-semibold text-gray-800",children:"AI Variation"}),o&&k.jsx("button",{onClick:()=>b(o.dataUrl,"icon-ai-generated.png"),className:"text-xs bg-purple-100 text-purple-700 px-3 py-1 rounded-full font-medium hover:bg-purple-200 transition-colors",children:"Download PNG"})]}),k.jsx("div",{className:"flex-1 min-h-[300px] bg-gray-50 rounded-lg flex items-center justify-center overflow-hidden border border-gray-100 relative",children:a?k.jsxs("div",{className:"flex flex-col items-center justify-center",children:[k.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600 mb-3"}),k.jsx("p",{className:"text-indigo-600 text-sm font-medium animate-pulse",children:"Consulting Gemini..."})]}):o?k.jsx("img",{src:o.dataUrl,alt:"AI Generated Icon",className:"max-w-full max-h-full object-contain shadow-lg"}):k.jsx("div",{className:"text-center p-6 text-gray-400",children:k.jsx("p",{className:"text-sm",children:"Describe a style change above to see an AI version."})})}),o&&k.jsxs("div",{className:"mt-3 p-2 bg-gray-50 rounded text-[10px] text-gray-500 line-clamp-2 italic",children:['"',o.prompt,'"']})]})]})]})]})]})}),v&&k.jsx(Av,{onClose:()=>_(!1)})]})}const Pg=document.getElementById("root");if(!Pg)throw new Error("Could not find root element to mount to");const F1=dv.createRoot(Pg);F1.render(k.jsx(ov.StrictMode,{children:k.jsx(V1,{})}));
